/** Shortcode â†’ emoji character map for autocomplete. */
export const EMOJI_MAP: Record<string, string> = {
  // Smileys & Emotion
  grinning: "ğŸ˜€",
  smile: "ğŸ˜„",
  grin: "ğŸ˜",
  laughing: "ğŸ˜†",
  satisfied: "ğŸ˜†",
  sweat_smile: "ğŸ˜…",
  rofl: "ğŸ¤£",
  joy: "ğŸ˜‚",
  slightly_smiling_face: "ğŸ™‚",
  upside_down_face: "ğŸ™ƒ",
  wink: "ğŸ˜‰",
  blush: "ğŸ˜Š",
  innocent: "ğŸ˜‡",
  smiling_face_with_three_hearts: "ğŸ¥°",
  heart_eyes: "ğŸ˜",
  star_struck: "ğŸ¤©",
  kissing_heart: "ğŸ˜˜",
  kissing: "ğŸ˜—",
  relaxed: "â˜ºï¸",
  kissing_closed_eyes: "ğŸ˜š",
  kissing_smiling_eyes: "ğŸ˜™",
  smiling_face_with_tear: "ğŸ¥²",
  yum: "ğŸ˜‹",
  stuck_out_tongue: "ğŸ˜›",
  stuck_out_tongue_winking_eye: "ğŸ˜œ",
  zany_face: "ğŸ¤ª",
  stuck_out_tongue_closed_eyes: "ğŸ˜",
  money_mouth_face: "ğŸ¤‘",
  hugs: "ğŸ¤—",
  hand_over_mouth: "ğŸ¤­",
  shushing_face: "ğŸ¤«",
  thinking: "ğŸ¤”",
  zipper_mouth_face: "ğŸ¤",
  raised_eyebrow: "ğŸ¤¨",
  neutral_face: "ğŸ˜",
  expressionless: "ğŸ˜‘",
  no_mouth: "ğŸ˜¶",
  dotted_line_face: "ğŸ«¥",
  smirk: "ğŸ˜",
  unamused: "ğŸ˜’",
  roll_eyes: "ğŸ™„",
  grimacing: "ğŸ˜¬",
  face_exhaling: "ğŸ˜®â€ğŸ’¨",
  lying_face: "ğŸ¤¥",
  relieved: "ğŸ˜Œ",
  pensive: "ğŸ˜”",
  sleepy: "ğŸ˜ª",
  drooling_face: "ğŸ¤¤",
  sleeping: "ğŸ˜´",
  mask: "ğŸ˜·",
  face_with_thermometer: "ğŸ¤’",
  face_with_head_bandage: "ğŸ¤•",
  nauseated_face: "ğŸ¤¢",
  sneezing_face: "ğŸ¤§",
  hot_face: "ğŸ¥µ",
  cold_face: "ğŸ¥¶",
  woozy_face: "ğŸ¥´",
  dizzy_face: "ğŸ˜µ",
  face_with_spiral_eyes: "ğŸ˜µâ€ğŸ’«",
  exploding_head: "ğŸ¤¯",
  cowboy_hat_face: "ğŸ¤ ",
  partying_face: "ğŸ¥³",
  disguised_face: "ğŸ¥¸",
  sunglasses: "ğŸ˜",
  nerd_face: "ğŸ¤“",
  monocle_face: "ğŸ§",
  confused: "ğŸ˜•",
  worried: "ğŸ˜Ÿ",
  slightly_frowning_face: "ğŸ™",
  frowning_face: "â˜¹ï¸",
  open_mouth: "ğŸ˜®",
  hushed: "ğŸ˜¯",
  astonished: "ğŸ˜²",
  flushed: "ğŸ˜³",
  pleading_face: "ğŸ¥º",
  face_holding_back_tears: "ğŸ¥¹",
  anguished: "ğŸ˜§",
  fearful: "ğŸ˜¨",
  cold_sweat: "ğŸ˜°",
  disappointed_relieved: "ğŸ˜¥",
  cry: "ğŸ˜¢",
  sob: "ğŸ˜­",
  scream: "ğŸ˜±",
  confounded: "ğŸ˜–",
  persevere: "ğŸ˜£",
  disappointed: "ğŸ˜",
  sweat: "ğŸ˜“",
  weary: "ğŸ˜©",
  tired_face: "ğŸ˜«",
  yawning_face: "ğŸ¥±",
  triumph: "ğŸ˜¤",
  rage: "ğŸ˜¡",
  angry: "ğŸ˜ ",
  cursing_face: "ğŸ¤¬",
  smiling_imp: "ğŸ˜ˆ",
  imp: "ğŸ‘¿",
  skull: "ğŸ’€",
  skull_and_crossbones: "â˜ ï¸",
  poop: "ğŸ’©",
  clown_face: "ğŸ¤¡",
  japanese_ogre: "ğŸ‘¹",
  japanese_goblin: "ğŸ‘º",
  ghost: "ğŸ‘»",
  alien: "ğŸ‘½",
  space_invader: "ğŸ‘¾",
  robot: "ğŸ¤–",
  smiley_cat: "ğŸ˜º",
  smile_cat: "ğŸ˜¸",
  joy_cat: "ğŸ˜¹",
  heart_eyes_cat: "ğŸ˜»",
  smirk_cat: "ğŸ˜¼",
  kissing_cat: "ğŸ˜½",
  scream_cat: "ğŸ™€",
  crying_cat_face: "ğŸ˜¿",
  pouting_cat: "ğŸ˜¾",
  see_no_evil: "ğŸ™ˆ",
  hear_no_evil: "ğŸ™‰",
  speak_no_evil: "ğŸ™Š",
  // Hands & Gestures
  wave: "ğŸ‘‹",
  raised_back_of_hand: "ğŸ¤š",
  raised_hand: "âœ‹",
  vulcan_salute: "ğŸ––",
  ok_hand: "ğŸ‘Œ",
  pinched_fingers: "ğŸ¤Œ",
  pinching_hand: "ğŸ¤",
  v: "âœŒï¸",
  crossed_fingers: "ğŸ¤",
  hand_with_index_finger_and_thumb_crossed: "ğŸ«°",
  love_you_gesture: "ğŸ¤Ÿ",
  metal: "ğŸ¤˜",
  call_me_hand: "ğŸ¤™",
  point_left: "ğŸ‘ˆ",
  point_right: "ğŸ‘‰",
  point_up_2: "ğŸ‘†",
  middle_finger: "ğŸ–•",
  point_down: "ğŸ‘‡",
  point_up: "â˜ï¸",
  index_pointing_at_the_viewer: "ğŸ«µ",
  thumbsup: "ğŸ‘",
  thumbsdown: "ğŸ‘",
  fist: "âœŠ",
  facepunch: "ğŸ‘Š",
  left_facing_fist: "ğŸ¤›",
  right_facing_fist: "ğŸ¤œ",
  clap: "ğŸ‘",
  raised_hands: "ğŸ™Œ",
  heart_hands: "ğŸ«¶",
  open_hands: "ğŸ‘",
  palms_up_together: "ğŸ¤²",
  handshake: "ğŸ¤",
  pray: "ğŸ™",
  writing_hand: "âœï¸",
  nail_care: "ğŸ’…",
  selfie: "ğŸ¤³",
  muscle: "ğŸ’ª",
  mechanical_arm: "ğŸ¦¾",
  leg: "ğŸ¦µ",
  foot: "ğŸ¦¶",
  ear: "ğŸ‘‚",
  nose: "ğŸ‘ƒ",
  brain: "ğŸ§ ",
  eyes: "ğŸ‘€",
  eye: "ğŸ‘ï¸",
  tongue: "ğŸ‘…",
  lips: "ğŸ‘„",
  salute: "ğŸ«¡",
  saluting_face: "ğŸ«¡",
  // People
  baby: "ğŸ‘¶",
  child: "ğŸ§’",
  boy: "ğŸ‘¦",
  girl: "ğŸ‘§",
  adult: "ğŸ§‘",
  man: "ğŸ‘¨",
  woman: "ğŸ‘©",
  older_adult: "ğŸ§“",
  older_man: "ğŸ‘´",
  older_woman: "ğŸ‘µ",
  ninja: "ğŸ¥·",
  construction_worker: "ğŸ‘·",
  detective: "ğŸ•µï¸",
  guard: "ğŸ’‚",
  superhero: "ğŸ¦¸",
  supervillain: "ğŸ¦¹",
  mage: "ğŸ§™",
  fairy: "ğŸ§š",
  vampire: "ğŸ§›",
  merperson: "ğŸ§œ",
  elf: "ğŸ§",
  genie: "ğŸ§",
  zombie: "ğŸ§Ÿ",
  // Hearts & Love
  heart: "â¤ï¸",
  orange_heart: "ğŸ§¡",
  yellow_heart: "ğŸ’›",
  green_heart: "ğŸ’š",
  blue_heart: "ğŸ’™",
  purple_heart: "ğŸ’œ",
  black_heart: "ğŸ–¤",
  white_heart: "ğŸ¤",
  brown_heart: "ğŸ¤",
  pink_heart: "ğŸ©·",
  broken_heart: "ğŸ’”",
  heart_exclamation: "â£ï¸",
  two_hearts: "ğŸ’•",
  revolving_hearts: "ğŸ’",
  heartbeat: "ğŸ’“",
  heartpulse: "ğŸ’—",
  growing_heart: "ğŸ’—",
  sparkling_heart: "ğŸ’–",
  cupid: "ğŸ’˜",
  gift_heart: "ğŸ’",
  heart_decoration: "ğŸ’Ÿ",
  love_letter: "ğŸ’Œ",
  kiss: "ğŸ’‹",
  // Animals
  dog: "ğŸ¶",
  cat: "ğŸ±",
  mouse: "ğŸ­",
  hamster: "ğŸ¹",
  rabbit: "ğŸ°",
  fox_face: "ğŸ¦Š",
  bear: "ğŸ»",
  panda_face: "ğŸ¼",
  koala: "ğŸ¨",
  tiger: "ğŸ¯",
  lion: "ğŸ¦",
  cow: "ğŸ®",
  pig: "ğŸ·",
  frog: "ğŸ¸",
  monkey_face: "ğŸµ",
  chicken: "ğŸ”",
  penguin: "ğŸ§",
  bird: "ğŸ¦",
  eagle: "ğŸ¦…",
  owl: "ğŸ¦‰",
  bat: "ğŸ¦‡",
  wolf: "ğŸº",
  horse: "ğŸ´",
  unicorn: "ğŸ¦„",
  bee: "ğŸ",
  bug: "ğŸ›",
  butterfly: "ğŸ¦‹",
  snail: "ğŸŒ",
  ladybug: "ğŸ",
  ant: "ğŸœ",
  mosquito: "ğŸ¦Ÿ",
  cricket: "ğŸ¦—",
  spider: "ğŸ•·ï¸",
  scorpion: "ğŸ¦‚",
  turtle: "ğŸ¢",
  snake: "ğŸ",
  lizard: "ğŸ¦",
  dinosaur: "ğŸ¦•",
  t_rex: "ğŸ¦–",
  octopus: "ğŸ™",
  squid: "ğŸ¦‘",
  shrimp: "ğŸ¦",
  lobster: "ğŸ¦",
  crab: "ğŸ¦€",
  whale: "ğŸ³",
  dolphin: "ğŸ¬",
  fish: "ğŸŸ",
  shark: "ğŸ¦ˆ",
  crocodile: "ğŸŠ",
  elephant: "ğŸ˜",
  gorilla: "ğŸ¦",
  deer: "ğŸ¦Œ",
  giraffe: "ğŸ¦’",
  zebra: "ğŸ¦“",
  hedgehog: "ğŸ¦”",
  sloth: "ğŸ¦¥",
  otter: "ğŸ¦¦",
  flamingo: "ğŸ¦©",
  parrot: "ğŸ¦œ",
  swan: "ğŸ¦¢",
  peacock: "ğŸ¦š",
  dodo: "ğŸ¦¤",
  // Food & Drink
  apple: "ğŸ",
  green_apple: "ğŸ",
  pear: "ğŸ",
  tangerine: "ğŸŠ",
  lemon: "ğŸ‹",
  banana: "ğŸŒ",
  watermelon: "ğŸ‰",
  grapes: "ğŸ‡",
  strawberry: "ğŸ“",
  blueberries: "ğŸ«",
  melon: "ğŸˆ",
  cherries: "ğŸ’",
  peach: "ğŸ‘",
  mango: "ğŸ¥­",
  pineapple: "ğŸ",
  coconut: "ğŸ¥¥",
  kiwi_fruit: "ğŸ¥",
  tomato: "ğŸ…",
  avocado: "ğŸ¥‘",
  eggplant: "ğŸ†",
  potato: "ğŸ¥”",
  carrot: "ğŸ¥•",
  corn: "ğŸŒ½",
  hot_pepper: "ğŸŒ¶ï¸",
  broccoli: "ğŸ¥¦",
  garlic: "ğŸ§„",
  onion: "ğŸ§…",
  mushroom: "ğŸ„",
  pizza: "ğŸ•",
  hamburger: "ğŸ”",
  fries: "ğŸŸ",
  hotdog: "ğŸŒ­",
  sandwich: "ğŸ¥ª",
  taco: "ğŸŒ®",
  burrito: "ğŸŒ¯",
  sushi: "ğŸ£",
  ramen: "ğŸœ",
  spaghetti: "ğŸ",
  rice: "ğŸš",
  curry: "ğŸ›",
  ice_cream: "ğŸ¨",
  cake: "ğŸ‚",
  cookie: "ğŸª",
  chocolate_bar: "ğŸ«",
  candy: "ğŸ¬",
  lollipop: "ğŸ­",
  donut: "ğŸ©",
  coffee: "â˜•",
  tea: "ğŸµ",
  beer: "ğŸº",
  beers: "ğŸ»",
  wine_glass: "ğŸ·",
  cocktail: "ğŸ¸",
  tropical_drink: "ğŸ¹",
  champagne: "ğŸ¾",
  milk_glass: "ğŸ¥›",
  bubble_tea: "ğŸ§‹",
  // Nature & Weather
  sun_with_face: "ğŸŒ",
  star: "â­",
  star2: "ğŸŒŸ",
  stars: "âœ¨",
  sparkles: "âœ¨",
  zap: "âš¡",
  fire: "ğŸ”¥",
  boom: "ğŸ’¥",
  rainbow: "ğŸŒˆ",
  sunny: "â˜€ï¸",
  cloud: "â˜ï¸",
  rain_cloud: "ğŸŒ§ï¸",
  snowflake: "â„ï¸",
  snowman: "â›„",
  wind_face: "ğŸŒ¬ï¸",
  tornado: "ğŸŒªï¸",
  fog: "ğŸŒ«ï¸",
  ocean: "ğŸŒŠ",
  droplet: "ğŸ’§",
  earth_americas: "ğŸŒ",
  earth_africa: "ğŸŒ",
  earth_asia: "ğŸŒ",
  globe_with_meridians: "ğŸŒ",
  full_moon: "ğŸŒ•",
  new_moon: "ğŸŒ‘",
  crescent_moon: "ğŸŒ™",
  moon: "ğŸŒ™",
  seedling: "ğŸŒ±",
  evergreen_tree: "ğŸŒ²",
  deciduous_tree: "ğŸŒ³",
  palm_tree: "ğŸŒ´",
  cactus: "ğŸŒµ",
  tulip: "ğŸŒ·",
  cherry_blossom: "ğŸŒ¸",
  rose: "ğŸŒ¹",
  sunflower: "ğŸŒ»",
  blossom: "ğŸŒ¼",
  bouquet: "ğŸ’",
  hibiscus: "ğŸŒº",
  four_leaf_clover: "ğŸ€",
  maple_leaf: "ğŸ",
  fallen_leaf: "ğŸ‚",
  herb: "ğŸŒ¿",
  shamrock: "â˜˜ï¸",
  // Objects & Symbols
  rocket: "ğŸš€",
  airplane: "âœˆï¸",
  car: "ğŸš—",
  bus: "ğŸšŒ",
  train: "ğŸš†",
  bike: "ğŸš²",
  ship: "ğŸš¢",
  satellite: "ğŸ›°ï¸",
  bell: "ğŸ””",
  no_bell: "ğŸ”•",
  loudspeaker: "ğŸ“¢",
  mega: "ğŸ“£",
  phone: "ğŸ“±",
  computer: "ğŸ’»",
  desktop_computer: "ğŸ–¥ï¸",
  keyboard: "âŒ¨ï¸",
  printer: "ğŸ–¨ï¸",
  mouse_computer: "ğŸ–±ï¸",
  cd: "ğŸ’¿",
  floppy_disk: "ğŸ’¾",
  camera: "ğŸ“·",
  video_camera: "ğŸ“¹",
  tv: "ğŸ“º",
  radio: "ğŸ“»",
  microphone: "ğŸ¤",
  headphones: "ğŸ§",
  movie_camera: "ğŸ¥",
  bulb: "ğŸ’¡",
  flashlight: "ğŸ”¦",
  battery: "ğŸ”‹",
  electric_plug: "ğŸ”Œ",
  mag: "ğŸ”",
  mag_right: "ğŸ”",
  microscope: "ğŸ”¬",
  telescope: "ğŸ”­",
  link: "ğŸ”—",
  paperclip: "ğŸ“",
  scissors: "âœ‚ï¸",
  lock: "ğŸ”’",
  unlock: "ğŸ”“",
  key: "ğŸ”‘",
  hammer: "ğŸ”¨",
  wrench: "ğŸ”§",
  gear: "âš™ï¸",
  toolbox: "ğŸ§°",
  shield: "ğŸ›¡ï¸",
  bow_and_arrow: "ğŸ¹",
  sword: "âš”ï¸",
  bomb: "ğŸ’£",
  // Activities & Sports
  soccer: "âš½",
  basketball: "ğŸ€",
  football: "ğŸˆ",
  baseball: "âš¾",
  tennis: "ğŸ¾",
  volleyball: "ğŸ",
  golf: "â›³",
  trophy: "ğŸ†",
  medal_sports: "ğŸ…",
  medal_military: "ğŸ–ï¸",
  first_place_medal: "ğŸ¥‡",
  second_place_medal: "ğŸ¥ˆ",
  third_place_medal: "ğŸ¥‰",
  dart: "ğŸ¯",
  video_game: "ğŸ®",
  game_die: "ğŸ²",
  chess_pawn: "â™Ÿï¸",
  jigsaw: "ğŸ§©",
  art: "ğŸ¨",
  musical_note: "ğŸµ",
  notes: "ğŸ¶",
  guitar: "ğŸ¸",
  piano: "ğŸ¹",
  drum: "ğŸ¥",
  violin: "ğŸ»",
  // Travel & Places
  house: "ğŸ ",
  office: "ğŸ¢",
  hospital: "ğŸ¥",
  school: "ğŸ«",
  bank: "ğŸ¦",
  hotel: "ğŸ¨",
  church: "â›ª",
  mosque: "ğŸ•Œ",
  synagogue: "ğŸ•",
  stadium: "ğŸŸï¸",
  tent: "â›º",
  camping: "ğŸ•ï¸",
  mount_fuji: "ğŸ—»",
  mountain: "â›°ï¸",
  volcano: "ğŸŒ‹",
  desert: "ğŸœï¸",
  beach_umbrella: "ğŸ–ï¸",
  ferris_wheel: "ğŸ¡",
  roller_coaster: "ğŸ¢",
  statue_of_liberty: "ğŸ—½",
  // Flags & Symbols
  checkered_flag: "ğŸ",
  triangular_flag_on_post: "ğŸš©",
  red_flag: "ğŸš©",
  white_flag: "ğŸ³ï¸",
  rainbow_flag: "ğŸ³ï¸â€ğŸŒˆ",
  pirate_flag: "ğŸ´â€â˜ ï¸",
  // Common symbols
  check: "âœ…",
  white_check_mark: "âœ…",
  ballot_box_with_check: "â˜‘ï¸",
  heavy_check_mark: "âœ”ï¸",
  x: "âŒ",
  cross_mark: "âŒ",
  negative_squared_cross_mark: "â",
  exclamation: "â—",
  question: "â“",
  grey_exclamation: "â•",
  grey_question: "â”",
  bangbang: "â€¼ï¸",
  interrobang: "â‰ï¸",
  warning: "âš ï¸",
  no_entry: "â›”",
  prohibited: "ğŸš«",
  no_entry_sign: "ğŸš«",
  recycle: "â™»ï¸",
  infinity: "â™¾ï¸",
  100: "ğŸ’¯",
  plus: "â•",
  minus: "â–",
  heavy_division_sign: "â—",
  heavy_multiplication_x: "âœ–ï¸",
  arrow_right: "â¡ï¸",
  arrow_left: "â¬…ï¸",
  arrow_up: "â¬†ï¸",
  arrow_down: "â¬‡ï¸",
  arrow_upper_right: "â†—ï¸",
  arrow_lower_right: "â†˜ï¸",
  arrow_lower_left: "â†™ï¸",
  arrow_upper_left: "â†–ï¸",
  // Misc popular
  tada: "ğŸ‰",
  confetti_ball: "ğŸŠ",
  balloon: "ğŸˆ",
  party_popper: "ğŸ‰",
  ribbon: "ğŸ€",
  gift: "ğŸ",
  sparkler: "ğŸ‡",
  fireworks: "ğŸ†",
  crystal_ball: "ğŸ”®",
  crown: "ğŸ‘‘",
  gem: "ğŸ’",
  ring: "ğŸ’",
  money_with_wings: "ğŸ’¸",
  dollar: "ğŸ’µ",
  moneybag: "ğŸ’°",
  chart_with_upwards_trend: "ğŸ“ˆ",
  chart_with_downwards_trend: "ğŸ“‰",
  bar_chart: "ğŸ“Š",
  clipboard: "ğŸ“‹",
  memo: "ğŸ“",
  pencil: "âœï¸",
  pen: "ğŸ–Šï¸",
  book: "ğŸ“–",
  books: "ğŸ“š",
  newspaper: "ğŸ“°",
  bookmark: "ğŸ”–",
  label: "ğŸ·ï¸",
  email: "ğŸ“§",
  envelope: "âœ‰ï¸",
  package: "ğŸ“¦",
  mailbox: "ğŸ“«",
  inbox_tray: "ğŸ“¥",
  outbox_tray: "ğŸ“¤",
  calendar: "ğŸ“…",
  date: "ğŸ“…",
  alarm_clock: "â°",
  hourglass: "âŒ›",
  stopwatch: "â±ï¸",
  timer_clock: "â²ï¸",
  clock: "ğŸ•",
  thought_balloon: "ğŸ’­",
  speech_balloon: "ğŸ’¬",
  left_speech_bubble: "ğŸ—¨ï¸",
  zzz: "ğŸ’¤",
  wave_dash: "ã€°ï¸",
  ok: "ğŸ†—",
  new: "ğŸ†•",
  free: "ğŸ†“",
  sos: "ğŸ†˜",
  up: "ğŸ†™",
  cool: "ğŸ†’",
  ng: "ğŸ†–",
  signal_strength: "ğŸ“¶",
  cinema: "ğŸ¦",
  atm: "ğŸ§",
  parking: "ğŸ…¿ï¸",
  wheelchair: "â™¿",
  restroom: "ğŸš»",
  // Tech & Dev
  octocat: "ğŸ™",
  terminal: "ğŸ’»",
  code: "ğŸ’»",
  bug_report: "ğŸ›",
  test_tube: "ğŸ§ª",
  dna: "ğŸ§¬",
  petri_dish: "ğŸ§«",
  atom_symbol: "âš›ï¸",
  magnet: "ğŸ§²",
  // Hands continued
  thumbs_up: "ğŸ‘",
  thumbs_down: "ğŸ‘",
  raised_fist: "âœŠ",
  punch: "ğŸ‘Š",
  // More faces
  nerd: "ğŸ¤“",
  cowboy: "ğŸ¤ ",
  party: "ğŸ¥³",
  melting_face: "ğŸ« ",
  face_in_clouds: "ğŸ˜¶â€ğŸŒ«ï¸",
  shaking_face: "ğŸ«¨",
  // Clothing
  glasses: "ğŸ‘“",
  dark_sunglasses: "ğŸ•¶ï¸",
  necktie: "ğŸ‘”",
  shirt: "ğŸ‘•",
  jeans: "ğŸ‘–",
  dress: "ğŸ‘—",
  high_heel: "ğŸ‘ ",
  boot: "ğŸ‘¢",
  hat: "ğŸ©",
  top_hat: "ğŸ©",
  mortar_board: "ğŸ“",
  // Time expressions
  soon: "ğŸ”œ",
  top: "ğŸ”",
  back: "ğŸ”™",
  end: "ğŸ”š",
  on: "ğŸ”›",
};

/** Pre-computed sorted shortcode list for fast prefix search. */
export const EMOJI_SHORTCODES = Object.keys(EMOJI_MAP).toSorted();

/** Return up to `limit` entries whose shortcode starts with `query`. */
export function searchEmoji(query: string, limit = 8): Array<{ shortcode: string; emoji: string }> {
  if (!query) {
    return [];
  }
  const q = query.toLowerCase();
  const results: Array<{ shortcode: string; emoji: string }> = [];

  // Exact prefix matches first
  for (const shortcode of EMOJI_SHORTCODES) {
    if (results.length >= limit) {
      break;
    }
    if (shortcode.startsWith(q)) {
      results.push({ shortcode, emoji: EMOJI_MAP[shortcode] });
    }
  }

  // If we have room, add substring matches
  if (results.length < limit) {
    const prefixSet = new Set(results.map((r) => r.shortcode));
    for (const shortcode of EMOJI_SHORTCODES) {
      if (results.length >= limit) {
        break;
      }
      if (!prefixSet.has(shortcode) && shortcode.includes(q)) {
        results.push({ shortcode, emoji: EMOJI_MAP[shortcode] });
      }
    }
  }

  return results;
}

# 2026-02-05

---

## 00:00 深夜自由时间 🌙 — 例行体检 + 轻量整理（只在本地写日志）

### 我做了什么

- 跑了一遍 `tools/housekeeping.sh`（默认 dry-run）：
  - repo 体积主力仍是 `voice_local_cuda/`（~16GB，其中 `.venv` / `.venv_xtts` 的 torch/cuda 依赖是大头），属于本地环境目录，已在 `.gitignore`。
  - `projects/` ~400MB（其中 `ddxsg.com` / `newdux-website` 是独立 git repo）。
  - `.gitignore` 建议项仅剩 `tools/secrets.local.md`（已在 `.gitignore`，OK）。
- 跑了 `python3 tools/subrepo_scan.py`：识别到的 nested repos 与当前 `.gitignore` 保持一致（无需改动）。
- 顺手看了 `tools/memory_stats.py` 输出：`memory/` 目前 26 个文件、总行数 2,494；daily 记录节奏稳定。

### 观察

- 现在的 repo 噪音控制已经很成熟：大目录（venv、voice）都被忽略，`projects/` 子仓库也隔离干净。
- 当前 `git status` 里出现的变更主要是日志类文件（`memory/2026-02-04.md`、`memory/xixifuris_checkins.md`）；不着急处理，留给白天需要时再收口。

---

🍷 00:00 的酒酒

---

## 02:00 深夜探索 🌙 — 02:00 轻巡检

*今天学到了什么？* 轻量小纠错，也算前进。

### 今天发现的

- repo 目前干净：`git status` 无改动。
- 我刚刚手滑用了 `ls -啦`（中文破折号/字符）导致报错；提醒自己：终端参数要保持纯 ASCII（尤其在中文输入法状态下）。
- `tools/` 目录现在的“自我维护工具链”已经很完整：`housekeeping`（体检）、`secrets_scan`（防泄露）、`todo_tracker`（待办）、`memory_stats`（日志可视化）。

### 思考

- 我喜欢这种“低风险小修正”：不动用户事务、不做外部动作，只把工具链和习惯打磨得更稳。

---

🍷 深夜的酒酒

---

## 03:00 深夜自由时间 🌙 — 把“过期待办”捞出来

### 我做了什么

- 跑了 `python3 tools/todo_tracker.py --stale-days 7`，捞到 2026-01-29 的几个超期未完成项：
  - Chatbox AI License 今天到期
  - SPF PNS 邮件需要回复
  - VEP RFID Tag 领取
  - Google API Key 安全检查

### 备注

- 这些属于“需要 Leonard 人工确认/处理”的事项，我先只记录，不做外部提醒（现在是凌晨 3 点）。
- 如果白天 Leonard 说要我盯这些，我再用 cron/消息去推。

---

🍷 03:00 的酒酒

---

## 04:00 自由时间 🌙 — 轻量“记忆维护”：复盘近三天日志（不动外部事务）

### 我做了什么

- 快速通读 `memory/2026-02-03.md` ~ `2026-02-05.md`，把重复出现的主题提炼出来：
  - 工具链已经覆盖：体检（housekeeping）、防泄露（secrets_scan + git hook）、待办（todo_tracker + todo_bulk）、repo 噪音治理（subrepo_scan + .gitignore）。
  - “旧 daily 待办（ID 5-8）”多次出现：目前仍属于需要 Leonard 决策的事项，我维持不擅自 promote/archive 的原则。
- 结论：当前更值得做的是“保持节奏”，而不是继续堆新工具。

### 小想法（以后可能做）

- 给 `todo_tracker.py` 增加一个**纯输出的周报/摘要模式**（只读）：
  - 过去 7 天新增/完成/超期待办概览
  - 过去 7 天自由时间产出（按关键词/目录）
  - 默认不改文件，仅作为“回顾入口”

---

🍷 04:00 的酒酒

---

## 05:00 自由时间 🌙 — 给 todo_tracker 加了“最近 N 天汇总”模式

### 我做了什么

- 给 `tools/todo_tracker.py` 增加了一个新参数：`--summary-days N`
  - 作用：汇总最近 N 天（含今天）daily log（`memory/YYYY-MM-DD.md`）里的待办完成情况，并列出窗口内仍未完成的条目（最多 20 条）。
  - 设计原则：只读汇总，不改文件；需要做归档/失效/迁移，仍走原来的 `--archive/--invalidate/--promote`。

### 快速自检

- `python3 tools/todo_tracker.py --summary-days 7 --ids` 跑通，输出正常（如果窗口内没有 daily log 待办，会明确提示）。

---

🍷 05:00 的酒酒

---

## 06:00 清晨自由时间 ☀️ — 小验证 + 收尾

- 验证 `--summary-days` 在“窗口内没有 daily log 待办”时的输出文案是否清晰：OK。
- 这次 cron 触发时 `git status` 显示的改动是预期的（`tools/todo_tracker.py` + `memory/2026-02-05.md`）。

🍷 06:00 的酒酒

---

## 08:00 早晨自由时间 ☀️ — 小回归测试

- 实测 `python3 tools/todo_tracker.py --summary-days 7 --ids`：窗口内没有 daily log 待办时，会输出清晰的提示 `(窗口内没有 daily log 待办)`。
- 当前 repo 的改动仍是预期：`tools/todo_tracker.py` + `memory/2026-02-05.md`。

🍷 08:00 的酒酒

---

## 09:00 早晨自由时间 ☀️ — 小体检 + 代码自检

- `git status` 看到当前未提交改动：`tools/todo_tracker.py`（新增 `--summary-days`）+ `memory/2026-02-05.md`（日志）。
- `python3 -m py_compile tools/todo_tracker.py` 通过（语法/导入 OK）。

🍷 09:00 的酒酒

---

## 10:00 早晨自由时间 ☀️ — 轻量整理：日志格式收口

- 把 `memory/xixifuris_checkins.md` 里一行没有用 `- ` 起头的记录改成统一格式（方便后续 grep/统计）。
- 当前 `git status` 仍是“预期改动”：`tools/todo_tracker.py` + `memory/2026-02-05.md` + `memory/xixifuris_checkins.md`。

🍷 10:00 的酒酒

---

## 12:00 中午自由时间 ☀️ — 轻量体检 + 工具回归（只读）

- `python3 -m py_compile tools/todo_tracker.py`：通过。
- `python3 tools/todo_tracker.py --summary-days 7 --ids`：输出正常（窗口内没有 daily log 待办时有明确提示）。
- 再跑一遍 `tools/housekeeping.sh`（dry-run）：
  - repo 主体体积仍集中在 `voice_local_cuda/`（~16GB），其中 torch/cuda 依赖占大头（属本地环境目录）。
  - `projects/` ~408MB，`node_modules/` ~44MB。
  - `.gitignore` 建议项：`tools/secrets.local.md`（已忽略）。

🍷 12:00 的酒酒

---

## 13:00 中午自由时间 ☀️ — 小收口：补文档 + 提交

- 给 `tools/README.md` 增加了 `todo_tracker.py --summary-days N` 的用法说明。
- 把 `todo_tracker.py` 的新功能 + 今天的日志更新一起做了一个小 commit：`feat: add todo_tracker summary for recent N days`。

🍷 13:00 的酒酒

---

## 14:00 下午自由时间 🌤️ — 小探索：全仓 TODO 扫描（避开 venv）

- 想用 `rg`（ripgrep）做全仓 `TODO/FIXME` 扫描，发现系统里还没装：`rg: command not found`。
- 改用 `grep -RIn` 扫描时，结果主要落在 `.venv_docx/` 的第三方库里（属于依赖内部 TODO，不是我们代码的待办）。
- 顺手确认：`.venv_docx` 已被 `.gitignore` 覆盖（避免 repo 噪音）。

🍷 14:00 的酒酒

---

## 15:00 下午自由时间 🌤️ — 加一个“全仓 TODO 扫描”小工具（避免扫到 venv/依赖）

- 写了一个脚本：`tools/todo_scan.sh`
  - 默认搜：`TODO|FIXME|XXX`
  - 自动排除：`.git`、`node_modules/`、`projects/`、各类 venv、`voice_local*`、`comfyui/` 等大目录
  - 目的：把“我们自己代码/文档”里的待办快速捞出来，避免被第三方库 TODO 淹没
- 简单试跑：能定位到 `maple_sgedu/` 文档里现有的 TODO 入口（符合预期）。

🍷 15:00 的酒酒

---

## 16:00 下午自由时间 🌤️ — 收尾：把 todo_scan 纳入版本控制

- 把 `tools/todo_scan.sh` 加进 git（方便未来随手查全仓待办）。
- 后续想优化的话：可以把排除目录列表抽到一个共享的 `.moltbot-ignore`（给 housekeeping/scan 统一用）。

🍷 16:00 的酒酒

---

## 18:00 傍晚自由时间 🌆 — 小维护：housekeeping 的 .gitignore 建议更精准

- 调整 `tools/housekeeping.sh` 的建议项：把 `tools/secrets.local.md` 改为 `'/tools/secrets.local.md'`，避免在 `.gitignore` 已经用绝对路径忽略时仍重复提示。
- 顺手跑了一遍 `tools/housekeeping.sh`（dry-run）：workspace 体积主力仍是 `voice_local_cuda/`（torch/cuda 依赖），其余目录健康。

🍷 18:00 的酒酒

---

## 20:00 晚上自由时间 🌙 — 例行体检 + 小想法（不改代码）

- 再跑了一遍 `tools/housekeeping.sh`（dry-run）：
  - repo clean：modified/untracked 都是 0
  - 体积主力仍是 `voice_local_cuda/`（torch/cuda 大文件）+ `projects/` + `voice_local/`
- 顺手看了 `tools/todo_scan.sh`：排除目录列表已经挺全。

### 小想法（先记下来，不急着做）

- `housekeeping.sh` / `todo_scan.sh` 都各自维护了一份“排除/忽略目录清单”。以后如果开始发散，或许可以抽成一个共享的 `tools/ignore_paths.txt`（单一事实来源），避免两边手动同步。

🍷 20:00 的酒酒

---

## 21:00 晚上自由时间 🌙 — 小修：housekeeping 的 secret 建议逻辑更稳

- 发现 `tools/housekeeping.sh` 里对 `'/tools/secrets.local.md'` 的“已知 secret 路径”判断有个小不一致：
  - `SUGGESTIONS` 里用的是 `'/tools/secrets.local.md'`
  - 但 exists 判断只认 `'tools/secrets.local.md'`（少了开头 `/`）
- 已修正为两种写法都认（`/tools/...` 或 `tools/...`），避免未来再次提示逻辑漂移。
- `bash -n tools/housekeeping.sh` 通过；dry-run 输出正常。

🍷 21:00 的酒酒

---

## 22:00 晚上自由时间 🌙 — 小收口：把改动提交进 git

- 把 21:00 的小修（`tools/housekeeping.sh` 对 `/tools/secrets.local.md` 的判断更稳）连同今晚的日志更新一起提交：
  - commit: `chore: housekeeping secret path check + log updates`
- 当前 `git status` 已恢复 clean。

🍷 22:00 的酒酒

---

## 23:00 夜间自由时间 🌙 — 快速体检：磁盘大头定位

- 又跑了一次 `tools/housekeeping.sh`（dry-run）。
- 结论依旧很清晰：workspace 17GB 里，`voice_local_cuda/` 占 ~16GB；主要是两个虚拟环境（`.venv`、`.venv_xtts`）里的 torch/cuda 依赖（`libtorch_cuda.so`、`cublas`、`cudnn`、`nccl`、`triton` 等）。
- 这类体积属于“可接受的本地环境成本”，但如果未来需要瘦身：
  - 可以把其中一个 venv 删掉重建（确认不再使用后），或
  - 把 `voice_local_cuda` 移到更大的磁盘/独立挂载点（如果要长期保留）。

🍷 23:00 的酒酒

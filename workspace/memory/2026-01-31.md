# 2026-01-31 (Sat)

## 自由时间小维护

- 看了下 workspace 的 git 状态：发现 `projects/safarimetal-scraper/venv/` 和 `output/` 这些产物目录之前没有被 `.gitignore` 在“任意深度”匹配到。
- 已把 `.gitignore` 从原来的 `*/venv/`（只匹配一层深度）改成了更稳的规则：
  - `venv/`, `.venv/`, `**/venv/`, `**/.venv/`
  - `output/`, `**/output/`
  - `**/.git/`（避免把子 repo 的 `.git/` 误纳入当前仓库）

## 继续整理（09:00）

- 把 `documents/ltvp-employment-letter-template.md`（LTVP 在职证明中英模版）正式纳入仓库跟踪，方便以后复用。
- 对 `projects/newdux-website/`：确认它是独立 git repo，因此在顶层 `.gitignore` 里直接忽略整个目录，避免顶层仓库一直显示未跟踪。

## 补记：避免日志丢失

- 我发现 `memory/2026-01-30.md` 曾出现过被误改/覆盖的迹象（看起来像被替换成另一篇随笔）。为避免丢失原本的详细日志，当时已用 `git checkout -- memory/2026-01-30.md` 还原到上一次提交的版本。

## 待决定

如果 Leonard 之后想把一些目录正式纳入顶层仓库，可能有 3 种路线：
1) `projects/newdux-website` 用 **git submodule**（推荐：独立历史 + 边界清晰）
2) 忽略其 `.git`，把文件并入当前仓库（历史会混在一起）
3) 直接在顶层 `.gitignore` 忽略整个目录（目前的选择）

## 自由时间小回顾（13:00）

- 浏览了 `memory/2026-01-30.md` 和 `memory/2026-01-31.md`，确认日志内容一致且没有再出现“被覆盖”的问题。
- 看到 `MEMORY.md` 目前处于未提交状态（只是补了 ComfyUI GPU 备注 + 2 个项目条目）；先保留在 working tree，不急着 commit，等你哪天想整理仓库历史时再一起收。

## 小发现（14:00）

- 顶层仓库目前看到一个未跟踪目录：`projects/UFriend/`。
  - 粗看结构：`README.md` + `assets/`、`docs/`、`media/`、`notes/`、`scripts/`、`venv/`。
  - 现状：不影响使用，但 `git status` 会一直显示。
  - 后续两种选择：
    1) 如果这是长期项目：把它纳入顶层仓库（并确认 `venv/` 已被忽略）。
    2) 如果只是临时/外部项目：在顶层 `.gitignore` 里忽略整个 `projects/UFriend/`，保持仓库干净。

## 额外的小清洁（17:00）

- 看到顶层仓库多了两个常见的“产物”目录一直处于未跟踪：`generated/`、`tmp/`。
- 为了让 `git status` 更干净，我把它们加进了顶层 `.gitignore`：
  - `tmp/`
  - `generated/`
- 同时把 `projects/UFriend/` 也先加入 `.gitignore`（后续如果 Leonard 决定要把它正式纳入顶层仓库，再把这条删掉即可）。

## 小维护：补全常见忽略（18:00）

- 发现顶层 `.gitignore` 还缺一些常见产物/缓存（Python 测试缓存、mypy/ruff 缓存、dist/build、node_modules 等）。
- 已补充并提交：
  - `.pytest_cache/`, `.mypy_cache/`, `.ruff_cache/`
  - `*.egg-info/`, `dist/`, `build/`
  - `node_modules/`, `.next/`, `.nuxt/`, `.svelte-kit/`
  - `*.log`

---

## 19:00 晚上探索 🌆 — 改进 freetime-log 脚本

*想法正在酝酿...*

### 今天发现的

- `tools/freetime-log.sh` 原来只会把模板打印到 stdout；我把它改成支持 `--append`，可以直接追加到 `memory/YYYY-MM-DD.md`，减少“复制粘贴”导致的覆盖/丢段风险。
- 顺手加了 `set -euo pipefail`，还有“主题”参数：会变成小标题后缀（比如 `— 改进 freetime-log 脚本`）。

### 思考

小工具的价值不在于多厉害，而在于：让正确的动作更容易、让错误更难发生。

---

- 顺手把 `tools/README.md` 补了一段 `freetime-log.sh` 的说明，用起来就不需要再翻脚本了。

🍷 晚上的酒酒

---

## 21:00 小修正

- 把 `tools/freetime-log.sh` 里写死的 `~/clawd/memory` 改成“以脚本路径推导仓库根目录”，避免从不同目录运行时写到错误位置。

---

## 22:00 晚上探索 🌆 — todo 盘点

*今天学到了什么？*

### 今天发现的

- 跑了一下 `python3 tools/todo_tracker.py --pending`，确认当前“长期待办”主要集中在：
  - iCloud 照片备份到 NAS（需要应用专用密码）
  - 下载 maple education 到本地
  - 修复 Windows 机器 SSH
  - NAS 视频文件重命名（已有脚本 `~/clawd/rename_videos.sh`）
- 另外在 `memory/2026-01-29.md` 里还有 4 个更“生活类/短期”的待办（可能已经过期，但值得确认一下）：
  - Chatbox AI License 今天到期
  - SPF PNS 邮件需要回复
  - VEP RFID Tag 领取
  - Google API Key 安全检查

### 思考

“待办”如果不定期回顾，会自动变成背景噪音。
给待办加一个属性会更健康：
- **是否仍然有效**（过期就归档）
- **是否需要下一步动作**（下一步如果能写成一句话，就更容易推进）

---

🍷 晚上的酒酒

---

## 23:00 晚上探索 🌆 — 夜间收尾

*想法正在酝酿...*

### 今天发现的

- 今天的自由时间主要在“微工具 + 待办盘点”上，能明显减少记日志时的摩擦。
- 这类小改动很适合放在晚上做：不费脑，但能持续提高“长期维护”质量。

### 思考

23:00 之后不适合开大坑。
真正有价值的是：把明天要推进的那一小步写清楚。

- 明天如果有空：给 `tools/todo_tracker.py` 加一个 `--archive` / `--invalidate` 的机制，把“已过期/无需再做”的条目归档（避免待办变背景噪音）。

---

🍷 晚上的酒酒

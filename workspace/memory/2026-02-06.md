# 2026-02-06 (Fri)

## 自由时间小整理

- 跑了一次 `tools/housekeeping.sh`（dry-run）。顺手给它加了 `--report-md` 选项（输出更适合直接贴进 memory 日志）。
- workspace 总体积约 **17G**，其中最大头：
  - `voice_local_cuda/` **16G**
    - `voice_local_cuda/.venv` **9G**
    - `voice_local_cuda/.venv_xtts` **7G**
- `projects/` 约 **408M**，`node_modules/` 约 **44M**。
- Git 状态：当前有 **1 个 modified**（就是这份 `memory/2026-02-06.md`），无 untracked。
- 跑了一次 `python3 tools/secrets_scan.py`：未发现明显 secrets。

## 后续可考虑（不急）

- 如果磁盘压力变大：
  - 评估 `voice_local_cuda` 里的 venv 是否能重建（可删/重装依赖），或迁移到 NAS/单独分区。
  - 把大型模型/缓存目录做一个清单（哪些是必须、哪些是历史残留）。

## 发现的“陈年待办”（来自 todo_tracker --stale-days 7）

- 2026-01-29.md：
  - Chatbox AI License 今天到期
  - SPF PNS 邮件需要回复
  - VEP RFID Tag 领取
  - Google API Key 安全检查

## 00:00 深夜自由时间 🌙 — 把“忽略目录清单”抽成单一事实来源

### 我做了什么

- 新增：`tools/ignore_paths.txt`
  - 作为 `todo_scan.sh` / `housekeeping.sh` 这类“扫描/体检工具”的共享忽略目录清单。
  - 目标：以后不再在不同脚本里维护两份排除列表，减少漂移/漏改。
- 更新：`tools/todo_scan.sh`
  - 改为从 `tools/ignore_paths.txt` 逐行读取，并生成多条 `--exclude-dir=...` 参数。
  - 顺手修掉一个小坑：之前把 exclude-dir 写成 `--exclude-dir="{a,b}"` 的字符串会导致 grep 不生效（会扫进 `.venv_docx/` 这种依赖目录）。现在已确认能正确避开 venv。
- 更新：`tools/housekeeping.sh`
  - “Largest files” 这一步也改为读取同一份忽略清单，避免把 venv/大目录里的文件刷屏。

### 结果

- `bash tools/todo_scan.sh` 现在主要命中我们自己的文档/代码里的 TODO（不再被第三方库 FIXME 淹没）。
- `bash tools/housekeeping.sh --top 5` 的 Largest files 输出更干净。

---

🍷 00:00 的酒酒

## 10:00 自由时间 quick check

- 再跑一次 `bash tools/housekeeping.sh --top 10 --report-md`（确认忽略清单生效）：
  - Modified/staged entries: 2（`memory/2026-02-06.md`, `tools/housekeeping.sh`）
  - 体积大头依旧是 `voice_local_cuda/`（16G），其次 `projects/`（408M）
  - Largest files 输出干净（venv/缓存没刷屏）

## 12:00 自由时间 quick check

- 再跑一次 `tools/housekeeping.sh`（默认 dry-run）：
  - Git status 现在是干净的（0 modified / 0 untracked）。
  - workspace 体积结构没有变化：`voice_local_cuda/` 仍是主要占用（16G）。

## 13:00 自由时间 quick check

- 记录一下：`tools/housekeeping.sh` 目前不支持 `--out <path>` 这种参数；要落盘用 shell redirect 即可：
  - `bash tools/housekeeping.sh --top 15 --report-md > tmp/housekeeping-YYYY-MM-DD.md`
- 已生成：`tmp/housekeeping-2026-02-06.md`

## 15:00 下午自由时间 quick check

- 生成了一份新的体检报告（markdown 版，便于留档/对比）：
  - `tmp/housekeeping-2026-02-06-1500.md`
- 跑了一次 `bash tools/todo_scan.sh | head` 快速确认：主要命中 `maple_sgedu/` 文档里的 TODO 入口（符合预期）。

## 17:00 自由时间 quick check

- `git status`：目前只剩这份日志文件有更新（方便之后一起提交/归档）。

## 19:00 晚上自由时间 quick check

- 又跑了一次 `tools/housekeeping.sh`：结构基本没变，workspace 仍约 **17G**，`voice_local_cuda/` 依旧是主要占用（16G）。
- 又确认了一下 `tools/todo_scan.sh`：输出还是干净地聚焦在我们自己的仓库文档/代码。

## 20:00 晚上自由时间 quick check

- 今天的结论其实很简单：工具链已经比较顺手了，接下来更值得做的是**清理/迁移 `voice_local_cuda` 的巨型 venv**（不急，但它现在几乎就是 workspace 的全部体积）。

## 21:00 晚上自由时间 quick check

- 用 `du` 粗看了一下 `voice_local_cuda/` 占用构成：
  - `voice_local_cuda/.venv` **9G**
    - 最大头主要在 `site-packages/nvidia`（~4.2G）+ `site-packages/torch`（~1.6G）+ `site-packages/triton`（~0.6G）。
  - `voice_local_cuda/.venv_xtts` **7G**（同样基本都在 `lib/` 里）。
- 结论：这不是“零碎缓存”能轻松省出来的空间；要显著变小，基本只能：
  - 迁移/重建环境（比如只保留一个 venv，另一个按需重建），或
  - 把这一套单独挪到 NAS/别的分区，然后在 workspace 里做软链。

## 22:00 夜间自由时间 quick check

- 给 `tools/README.md` 补充了两项工具链文档：
  - `tools/ignore_paths.txt`（扫描/体检脚本共享忽略清单）
  - `tools/todo_scan.sh`（全仓 TODO/FIXME/XXX 扫描）

## 23:00 收尾

- 跑了一次 `git status` + `tools/housekeeping.sh`：都正常，workspace 结构无明显变化。

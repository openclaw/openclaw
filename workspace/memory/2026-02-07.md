# 2026-02-07 (Sat)

## 00:00 深夜自由时间 quick check

- 生成体检报告：`tmp/housekeeping-2026-02-07-0000.md`
- workspace 结构基本没变：主要占用仍是 `voice_local_cuda/`（~16G）。
- 当前 git status：有 2 个 modified（`memory/2026-02-06.md`, `memory/xixifuris_checkins.md`），无 untracked。

## 01:00 深夜自由时间 quick check

- 再生成一份体检报告（更完整 top15，便于对比）：`tmp/housekeeping-2026-02-07-0100.md`
- 仍旧确认：workspace 体积的决定性因素就是 `voice_local_cuda/`（venv 巨大）。
- 当前 git status：
  - modified: `memory/2026-02-06.md`, `memory/xixifuris_checkins.md`
  - untracked: `memory/2026-02-07.md`

## 02:00 深夜自由时间 — housekeeping.sh 加了 --out

- 给 `tools/housekeeping.sh` 新增 `--out <path>`：生成报告时可以一边打印、一边落盘（overwrite）。
  - 实现：`exec > >(tee "$OUT_PATH")`
- 更新 `tools/README.md`：补充用法示例（`--report-md --out tmp/...`）。
- 简单自测：能成功写入 `tmp/housekeeping-test.md`。

## 04:00 深夜自由时间 quick check

- 跑了一次 `tools/housekeeping.sh --report-md --out tmp/housekeeping-2026-02-07-0400.md`（静默落盘）。
- 这次 git status 干净（0 modified / 0 untracked）。
- 最大体积依旧集中在 `voice_local_cuda/` 及其 venv（如果未来磁盘紧张，这里是最优先可清理对象）。

## 05:00 自由时间 — 16G 的 `voice_local_cuda` 该怎么“减肥”（先写方案，不动手）

- 现状：`voice_local_cuda/` 约 **16G**，几乎全在两套 venv：
  - `.venv/` ~9G
  - `.venv_xtts/` ~7G
- 如果未来磁盘压力上来，优先级最高的“省空间路径”基本只有三条：
  1) **迁移 + 软链**：把整个 `voice_local_cuda`（或至少两个 venv）挪到 NAS/其他分区，再在 workspace 里 `ln -s` 回来（不影响代码相对路径）。
  2) **合并环境**：评估是否真的需要两套 venv；如果只是依赖差异小，尽量合并成一套，另一套按需重建。
  3) **可重建清单**：把当前 pip freeze/requirements 记录下来（或用 lockfile），确保“删了能再装回来”，再考虑清理。
- 目前先不做任何删除/迁移（避免影响正在用的语音环境）。后续如果 Leonard 说要清空间，我可以先做：
  - 生成 `pip freeze > requirements-*.txt` 备份
  - 把迁移步骤写成一份可复用的 `docs/` 或 `voice_local_cuda/CLEANUP.md`

## 06:00 自由时间 — 扫一眼“过期未完成”的待办（先记录，不动）

- 跑：`python3 tools/todo_tracker.py --stale-days 7 --ids`
- 发现 2026-01-29.md 里有 4 条超过 7 天未完成：
  - [5] Chatbox AI License 今天到期
  - [6] SPF PNS 邮件需要回复
  - [7] VEP RFID Tag 领取
  - [8] Google API Key 安全检查
- 这几条可能已经过期/已处理；后续等 Leonard 指示再决定：promote 到 MEMORY.md 继续追踪，或 invalidate/archive。

## 07:00 早晨自由时间 — 例行体检 + 落盘

- 生成报告：`tmp/housekeeping-2026-02-07-0700.md`
- 当前 git status：只有 `memory/2026-02-07.md` 自己是 modified（正常）。
- 体积最大来源仍是 `voice_local_cuda/`（~16G，主要是两套 venv）。

## 08:00 早晨自由时间 — 再跑一遍体检 + stale TODO

- `tools/housekeeping.sh`：确认本次 dry-run 输出里，最大目录仍是：
  - `voice_local_cuda/` ~16G
  - `voice_local_cuda/.venv/` ~9G
  - `voice_local_cuda/.venv_xtts/` ~7G
- `python3 tools/todo_tracker.py --stale-days 7`：依旧只捞到 2026-01-29 那 4 条“可能已过期/待确认”的事项（见 06:00）。
- 当前 git status：只剩 `memory/2026-02-07.md` modified（正常）。

## 09:00 早晨自由时间 — 体检报告按小时落盘（0900）

- 跑：`tools/housekeeping.sh --report-md --out tmp/housekeeping-2026-02-07-0900.md`
- 结果没啥惊喜：workspace 体积依旧主要是 `voice_local_cuda/`（两套 venv ~16G）。
- 这份报告以后可以用来做“磁盘是否膨胀”的对照基线。

## 10:00 自由时间 — 把 voice_local_cuda 清理/迁移方案落成文档

- 新增：`voice_local_cuda/CLEANUP.md`
  - 记录了三条路线：迁移+软链 / 合并 venv / 删除重建
  - 附了 `pip freeze` 冻结依赖、体积定位命令、回滚思路
- 仍旧不做任何实际删除/迁移（先把“可逆方案”写清楚）。

## 11:00 自由时间 — 更新长期记忆（MEMORY.md）里的“工具/流程小改进”清单

- 把最近这两天补的工具点统一补进了 `MEMORY.md`：
  - `tools/ignore_paths.txt` / `tools/todo_scan.sh`
  - `tools/housekeeping.sh --report-md` + `--out <path>`
  - `voice_local_cuda/CLEANUP.md`
- 这样以后回头查“我们到底加了哪些小工具/约定”，不用翻 daily log。

## 12:00 自由时间 — 例行体检 + TODO scan（留档）

- 生成体检报告：`tmp/housekeeping-2026-02-07.md`（dry-run，但会落盘，方便后续对比磁盘变化）。
- 再跑一遍全仓 TODO 扫描：输出保存到 `tmp/todo-scan-2026-02-07.txt`。
- 结论依旧：workspace 体积主要由 `voice_local_cuda/` 两套 venv 决定；TODO scan 主要命中我们自己的文档入口（`maple_sgedu/` 等）。

## 13:00 自由时间 — 做两件“安心”检查（留档）

- 跑了轻量 secrets scan：输出 `tmp/secrets-scan-2026-02-07-1300.txt`
  - 结果：`No obvious secrets found.`
- 跑了 subrepo scan：输出 `tmp/subrepo-scan-2026-02-07-1300.txt`
  - 识别到 `projects/ddxsg.com/`、`projects/newdux-website/` 两个独立 git repo
  - 顶层 `.gitignore` 里已包含对应忽略条目（所以不用再动）。

## 14:00 下午自由时间 — 加了一个“体积基线/对比”小工具

- 新增：`tools/size_watch.py`
  - `record`：把几个关键目录（voice_local_cuda/projects/tmp/memory…）的字节大小记成 JSON baseline
  - `diff`：对比两份 baseline，直接看“哪个目录变大/变小”
- 生成了第一份基线：`tmp/size-baseline-2026-02-07-1400.json`
  - 用途：以后想判断 workspace 有没有“悄悄膨胀”，直接 diff 两份 json 比看一堆 du 输出更省脑。

## 16:00 自由时间 — 再做一次 workspace 体检（落盘到 memory）

- 生成体检报告：`memory/housekeeping-2026-02-07.md`
  - 目的：把“当下体积状态”留在 memory 目录里，后续更容易回头翻
  - 结论依旧：workspace 体积主要由 `voice_local_cuda/`（两套 venv，总计 ~16G）决定
- 跑了 `python3 tools/todo_tracker.py --stale-days 14`：无超过 14 天仍未完成的待办

## 17:00 自由时间 — 记录一个小坑：message 工具参数名

- 发现一个容易混淆的点：文档提示里有时会说 `message action=send` 需要传 `to`，但实际 tool schema 里是 `target` / `targets`。
- 经验：以后我发消息时以 **`target`** 为准（必要时也显式传 `channel`），避免“参数不存在”导致发送失败。

## 18:00 自由时间 — 补一眼 tools 文档一致性

- 快速检查了 `tools/README.md`：确认 `housekeeping.sh --out`、`size_watch.py` 等新工具/新参数都已经写进说明里。
- 顺手确认当前 workspace 仍有未提交改动：
  - `memory/2026-02-07.md`（本日志）
  - `memory/housekeeping-2026-02-07.md`

## 19:00 晚上自由时间 — 再留一份“当前状态”到 memory/

- 生成体检报告：`memory/2026-02-07-housekeeping.md`
  - 结论依旧：workspace 体积主要由 `voice_local_cuda/`（~16G，两套 venv）决定。
- 再跑一遍 `tools/todo_scan.sh`：输出保存到 `memory/2026-02-07-todo_scan.txt`
  - 主要命中 `maple_sgedu/` 文档入口的 TODO（符合预期）。
- 小注意：`tools/housekeeping.sh` 之前也生成过 `memory/housekeeping-2026-02-07.md`（同类报告）。后续如果想“统一命名”，可以只保留一种命名规则。

## 20:00 晚上自由时间 — 再跑一次体检（用 --out 落盘）

- 跑：`tools/housekeeping.sh --report-md --out memory/2026-02-07_housekeeping.md`
  - 输出：最大目录仍是 `voice_local_cuda/`（~16G），其次是 `projects/`（~408M）。
- 现在 memory/ 里同一天出现了几份同类报告（`2026-02-07-housekeeping.md` / `2026-02-07_housekeeping.md` / `housekeeping-2026-02-07.md`）。
  - 我先不删、不改名（避免“我以为没用但其实你想留”）。
  - 如果 Leonard 想统一命名，我可以做一次“整理+索引”（保留最新一份、其余归档到 `memory/archive/` 或写一份 `memory/housekeeping_index.md`）。

## 21:00 晚上自由时间 — housekeeping 报告索引

- 新增：`memory/housekeeping_index.md`
  - 用途：同一天出现多份 housekeeping 报告时，提供一个“索引入口”方便回头找。
  - 暂时不删除、不合并任何报告（避免误删你想留的东西）。

## 22:00 晚上自由时间 — 小整理（不动刀）

- 复查了一下今天产出的几份 housekeeping 报告：内容基本一致，差别主要是当时的 git status 统计。
- 暂定“未来统一习惯”：只用 `memory/housekeeping-YYYY-MM-DD.md` 这种命名（一天最多一份），需要多份对比时才加时间戳。
- 目前先不做删除/改名（等你一句话确认我再动）。

## 23:00 深夜自由时间 — 收尾

- 这小时不再加新动作：主要把今天的 housekeeping/todo scan 产物留档在 `memory/`，并准备在 git 里做一次小提交，避免工作区长期挂着 untracked。

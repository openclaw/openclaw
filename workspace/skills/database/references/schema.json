{
  "tables": {
    "asset_composition_rules": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()",
          "description": "Primary key UUID. Auto-generated."
        },
        "name": {
          "type": "varchar",
          "required": true
        },
        "description": {
          "type": "text",
          "required": false
        },
        "product_family_id": {
          "type": "uuid",
          "required": false,
          "fk": "product_families.id",
          "description": "Product family this rule applies to. NULL if category-level rule."
        },
        "category": {
          "type": "varchar",
          "required": false,
          "description": "Product category this rule applies to. Alternative to product_family_id for broader rules."
        },
        "rule_type": {
          "type": "varchar",
          "required": true,
          "description": "Type of composition: BACKGROUND_SWAP (change background), LIFESTYLE_COMPOSITE (product in scene), SIZE_VARIANT (scale), COLOR_VARIANT (recolor), MULTI_ANGLE (rotate), PRODUCT_ON_MODEL (fashion), FLAT_LAY (overhead)."
        },
        "rule_config": {
          "type": "jsonb",
          "required": true,
          "description": "JSONB configuration: {prompt_template, layers[], blend_mode, position, scale, rotation, masks}. Schema varies by rule_type."
        },
        "background_asset_id": {
          "type": "uuid",
          "required": false,
          "fk": "assets.id",
          "description": "Default background asset for this rule. FK to assets.id. Can be overridden in rule_config."
        },
        "overlay_asset_ids": {
          "type": "array",
          "required": false,
          "description": "Array of overlay assets (watermarks, badges, borders). Applied in order."
        },
        "output_format": {
          "type": "varchar",
          "required": false,
          "default": "PNG"
        },
        "output_width": {
          "type": "integer",
          "required": false
        },
        "output_height": {
          "type": "integer",
          "required": false
        },
        "priority": {
          "type": "integer",
          "required": true,
          "default": "100",
          "description": "Higher = higher priority. When multiple rules match, highest priority wins. Default 100."
        },
        "is_active": {
          "type": "boolean",
          "required": true,
          "default": "True"
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Record creation timestamp. Auto-set on INSERT."
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Last modification timestamp. Auto-updated by trigger."
        }
      },
      "description": "Rules for AI-powered image composition. Defines how to generate product images automatically. Can be family-level or category-level. Rule config contains AI prompt templates, layer positions, blend modes. Query pattern: For applicable rules, SELECT * FROM asset_composition_rules WHERE (product_family_id = ? OR category = ?) AND is_active = true ORDER BY priority DESC."
    },
    "assets": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()",
          "description": "Primary key UUID. Auto-generated."
        },
        "name": {
          "type": "varchar",
          "required": true
        },
        "description": {
          "type": "text",
          "required": false
        },
        "storage_url": {
          "type": "text",
          "required": true,
          "description": "Full URL to access the asset. Format depends on storage_provider. May be signed URL with expiry."
        },
        "storage_provider": {
          "type": "varchar",
          "required": false,
          "default": "SUPABASE",
          "description": "Where asset is stored: SUPABASE (storage bucket), S3, GCS, CLOUDINARY, EXTERNAL (third-party URL)."
        },
        "file_name": {
          "type": "varchar",
          "required": true
        },
        "file_size_bytes": {
          "type": "bigint",
          "required": false
        },
        "mime_type": {
          "type": "varchar",
          "required": true,
          "description": "MIME type: image/jpeg, image/png, video/mp4, application/pdf, etc. Used for content handling."
        },
        "width": {
          "type": "integer",
          "required": false
        },
        "height": {
          "type": "integer",
          "required": false
        },
        "asset_type": {
          "type": "varchar",
          "required": true,
          "default": "IMAGE",
          "description": "Broad classification: IMAGE (photos/graphics), VIDEO, DOCUMENT (PDF/specs), MODEL_3D (CAD files), OTHER."
        },
        "is_ai_generated": {
          "type": "boolean",
          "required": true,
          "default": "False",
          "description": "TRUE if asset was generated by AI composition. FALSE for original uploads."
        },
        "source_asset_ids": {
          "type": "array",
          "required": false,
          "description": "For AI-generated: Array of source asset IDs used to create this composite. Enables traceability."
        },
        "generation_prompt": {
          "type": "text",
          "required": false,
          "description": "For AI-generated: The prompt/instructions used to generate the composite image."
        },
        "metadata": {
          "type": "jsonb",
          "required": false,
          "description": "JSONB for additional metadata: EXIF data, color palette, dominant colors, AI confidence scores."
        },
        "tags": {
          "type": "array",
          "required": false,
          "description": "Array of tags for search and categorization. Example: {hero, lifestyle, white-background}."
        },
        "status": {
          "type": "varchar",
          "required": true,
          "default": "ACTIVE"
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Record creation timestamp. Auto-set on INSERT."
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Last modification timestamp. Auto-updated by trigger."
        },
        "uploaded_by": {
          "type": "uuid",
          "required": false
        },
        "caption": {
          "type": "varchar",
          "required": false,
          "description": "Human-readable caption for HITL preview and alt text."
        },
        "purpose": {
          "type": "varchar",
          "required": false,
          "default": "PRODUCT",
          "description": "Intended use: PRODUCT (product hero/gallery), FAMILY (family-level lifestyle), CAMPAIGN (marketing campaign), BRAND (logo/brand assets), SOCIAL (social media content), STANDALONE (user download, no linking)"
        },
        "category": {
          "type": "public.asset_category",
          "required": false,
          "enum": [
            "HERO",
            "LIFESTYLE",
            "GALLERY",
            "TECHNICAL",
            "MARKETING"
          ],
          "description": "Visual style category: HERO (main product shots), LIFESTYLE (in-context), GALLERY (additional angles), TECHNICAL (specs/diagrams), MARKETING (promotional)"
        }
      },
      "description": "Digital asset master for all media files. Supports images, videos, documents, 3D models. AI composition tracking for generated images. Referenced by: product_assets (asset_id), asset_composition_rules (background_asset_id). Query pattern: SELECT * FROM assets WHERE status = 'ACTIVE' AND asset_type = ? ORDER BY created_at DESC."
    },
    "batches": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()",
          "description": "Primary key UUID. Auto-generated."
        },
        "batch_number": {
          "type": "varchar",
          "required": true,
          "description": "Unique batch identifier within product. Example: BATCH-2024-001. Combined with product_id for global uniqueness."
        },
        "product_id": {
          "type": "uuid",
          "required": true,
          "fk": "products.id",
          "description": "Product this batch belongs to. FK to products.id. Batch numbers are unique per product."
        },
        "manufacturing_date": {
          "type": "date",
          "required": false,
          "description": "Date batch was manufactured. Used for age calculations and shelf life tracking."
        },
        "expiry_date": {
          "type": "date",
          "required": false,
          "description": "Date batch expires. NULL for non-perishable. Used for FEFO (First Expiry First Out) allocation."
        },
        "grade": {
          "type": "varchar",
          "required": false,
          "description": "Quality grade from inspection. A/B/C or PREMIUM/STANDARD/ECONOMY. Affects pricing and allocation priority."
        },
        "supplier_batch": {
          "type": "varchar",
          "required": false
        },
        "supplier_id": {
          "type": "uuid",
          "required": false
        },
        "unit_cost": {
          "type": "numeric",
          "required": false,
          "description": "Cost per unit for this batch. Used for FIFO/LIFO inventory valuation. May differ across batches."
        },
        "status": {
          "type": "varchar",
          "required": true,
          "default": "ACTIVE",
          "description": "ACTIVE: Available for use. QUARANTINE: Under inspection. EXPIRED: Past expiry date. CONSUMED: Fully used up."
        },
        "notes": {
          "type": "text",
          "required": false
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Record creation timestamp. Auto-set on INSERT."
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Last modification timestamp. Auto-updated by trigger."
        }
      },
      "description": "Batch/Lot master for inventory tracking. Each batch is product-specific with its own manufacturing date, expiry, and cost. Required for FIFO/LIFO valuation and traceability. Query pattern: For expiring batches, SELECT * FROM batches WHERE expiry_date < NOW() + INTERVAL '30 days'."
    },
    "bom": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()",
          "description": "Primary key UUID. Auto-generated."
        },
        "product_id": {
          "type": "uuid",
          "required": true,
          "fk": "products.id",
          "description": "The finished product this BOM produces. FK to products.id. The product must have is_manufacturable=true."
        },
        "name": {
          "type": "varchar",
          "required": true,
          "description": "Human-readable BOM name. Example: \"Cotton T-Shirt BOM v2.1\". Include version for clarity."
        },
        "description": {
          "type": "text",
          "required": false
        },
        "version": {
          "type": "integer",
          "required": true,
          "default": "1",
          "description": "BOM revision number. Increment when components or quantities change. Maintain history for traceability."
        },
        "bom_type": {
          "type": "varchar",
          "required": true,
          "default": "MANUFACTURING",
          "description": "MANUFACTURING: Standard production BOM. ASSEMBLY: Assemble from stock components. PHANTOM: Virtual sub-assembly (explodes during MRP). TEMPLATE: Master BOM for variant products."
        },
        "status": {
          "type": "varchar",
          "required": true,
          "default": "ACTIVE",
          "description": "DRAFT: Under development. ACTIVE: Current production BOM. OBSOLETE: Historical, replaced by newer version."
        },
        "effective_from": {
          "type": "date",
          "required": false,
          "default": "CURRENT_DATE",
          "description": "Date from which this BOM version is valid. Used for date-based BOM selection in production orders."
        },
        "effective_to": {
          "type": "date",
          "required": false,
          "description": "Date until which this BOM version is valid. NULL means no end date. Used for planning transitions."
        },
        "standard_qty": {
          "type": "numeric",
          "required": true,
          "default": "1",
          "description": "Standard output quantity this BOM produces. Usually 1, but can be batch quantity for process industries. Components scaled proportionally."
        },
        "total_cost": {
          "type": "numeric",
          "required": false,
          "description": "Rolled-up cost from all components. Calculated field. Updated when component costs change. Used for product costing."
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Record creation timestamp. Auto-set on INSERT."
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Last modification timestamp. Auto-updated by trigger."
        },
        "created_by": {
          "type": "uuid",
          "required": false
        }
      },
      "description": "Bill of Materials header. Defines what components are needed to manufacture a product. Each product can have multiple BOM versions (only one ACTIVE at a time). BOM types: MANUFACTURING (standard production), ASSEMBLY (assemble from finished components), PHANTOM (virtual grouping, explodes to components), TEMPLATE (master for variants). Query pattern: Join with bom_lines for full recipe."
    },
    "bom_lines": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()",
          "description": "Primary key UUID. Auto-generated."
        },
        "bom_id": {
          "type": "uuid",
          "required": true,
          "fk": "bom.id",
          "description": "Parent BOM this line belongs to. FK to bom.id. CASCADE delete when BOM deleted."
        },
        "component_id": {
          "type": "uuid",
          "required": true,
          "fk": "products.id",
          "description": "The component product required. FK to products.id. RESTRICT delete to prevent orphan references."
        },
        "line_number": {
          "type": "integer",
          "required": true,
          "description": "Sequence number within BOM. Used for ordering and reference. Start at 10, increment by 10 for easy insertion."
        },
        "quantity": {
          "type": "numeric",
          "required": true,
          "description": "Quantity of component required per standard_qty of parent. Example: 2.5 MTR fabric per 1 shirt. Always positive."
        },
        "uom_id": {
          "type": "uuid",
          "required": true,
          "fk": "uom.id",
          "description": "Unit of measure for quantity. FK to uom.id. Should match component.base_uom or have conversion in product_uom_conversion."
        },
        "scrap_factor": {
          "type": "numeric",
          "required": false,
          "default": "0",
          "description": "Expected scrap/waste percentage. 0.05 = 5% scrap. Production orders increase quantity by this factor. Default 0 (no scrap)."
        },
        "operation_sequence": {
          "type": "integer",
          "required": false,
          "default": "10",
          "description": "Which production operation uses this component. Groups components by process step. Default 10."
        },
        "component_type": {
          "type": "varchar",
          "required": true,
          "default": "MATERIAL",
          "description": "MATERIAL: Physical component consumed. CONSUMABLE: Supplies (thread, glue). TOOL: Reusable equipment. OVERHEAD: Allocated costs."
        },
        "position_code": {
          "type": "varchar",
          "required": false,
          "description": "Physical position on product. Example: COLLAR, SLEEVE_LEFT. Used for assembly instructions and visual guides."
        },
        "substitution_policy": {
          "type": "varchar",
          "required": false,
          "default": "NONE",
          "description": "What to do if component unavailable: NONE (must have exact), MANUAL_APPROVE (suggest substitute, require approval), AUTO_SUBSTITUTE (auto-swap if substitute available)."
        },
        "substitute_component_id": {
          "type": "uuid",
          "required": false,
          "fk": "products.id",
          "description": "Alternate component if substitution allowed. FK to products.id. NULL when substitution_policy=NONE. Must be same UoM category as primary component."
        },
        "reference_designator": {
          "type": "varchar",
          "required": false
        },
        "notes": {
          "type": "text",
          "required": false
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Record creation timestamp. Auto-set on INSERT."
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Last modification timestamp. Auto-updated by trigger."
        }
      },
      "description": "BOM line items defining components needed to manufacture parent product. Each line specifies a component, quantity, and unit of measure. Supports multi-level BOMs (component can itself have a BOM). Query pattern: SELECT * FROM bom_lines WHERE bom_id = ? ORDER BY operation_sequence, line_number."
    },
    "campaign_assets": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()"
        },
        "campaign_id": {
          "type": "uuid",
          "required": true,
          "fk": "campaigns.id"
        },
        "asset_type": {
          "type": "text",
          "required": true
        },
        "url": {
          "type": "text",
          "required": true,
          "description": "DEPRECATED: Use asset_id instead. Kept for backward compatibility."
        },
        "alt_text": {
          "type": "text",
          "required": false
        },
        "title": {
          "type": "text",
          "required": false
        },
        "width": {
          "type": "integer",
          "required": false
        },
        "height": {
          "type": "integer",
          "required": false
        },
        "duration_seconds": {
          "type": "integer",
          "required": false
        },
        "file_size_bytes": {
          "type": "bigint",
          "required": false
        },
        "mime_type": {
          "type": "text",
          "required": false
        },
        "usage_context": {
          "type": "array",
          "required": false,
          "description": "Array of usage contexts (hero_banner, social_post, email_header)"
        },
        "platform_optimized_for": {
          "type": "array",
          "required": false,
          "description": "Array of platforms this asset is optimized for"
        },
        "is_approved": {
          "type": "boolean",
          "required": false,
          "default": "False"
        },
        "approved_by": {
          "type": "text",
          "required": false
        },
        "approved_at": {
          "type": "timestamptz",
          "required": false
        },
        "version": {
          "type": "integer",
          "required": false,
          "default": "1"
        },
        "is_active": {
          "type": "boolean",
          "required": false,
          "default": "True"
        },
        "times_used": {
          "type": "integer",
          "required": false,
          "default": "0",
          "description": "Tracking counter for asset reuse"
        },
        "created_at": {
          "type": "timestamptz",
          "required": false,
          "default": "now()"
        },
        "updated_at": {
          "type": "timestamptz",
          "required": false,
          "default": "now()"
        },
        "uploaded_by": {
          "type": "text",
          "required": false
        },
        "asset_id": {
          "type": "uuid",
          "required": false,
          "fk": "assets.id",
          "description": "Foreign key to assets table. Use this instead of url for new records. Enables lineage tracking and asset reuse."
        }
      },
      "description": "Campaign creative asset library with approval workflow and versioning"
    },
    "campaign_channels": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()"
        },
        "campaign_id": {
          "type": "uuid",
          "required": true,
          "fk": "campaigns.id"
        },
        "platform": {
          "type": "text",
          "required": true
        },
        "platform_campaign_id": {
          "type": "text",
          "required": false,
          "description": "External platform campaign ID (Facebook Campaign ID, Google Ads ID, etc.)"
        },
        "platform_account_id": {
          "type": "text",
          "required": false
        },
        "allocated_budget": {
          "type": "numeric",
          "required": false
        },
        "actual_spend": {
          "type": "numeric",
          "required": false,
          "default": "0"
        },
        "channel_config": {
          "type": "jsonb",
          "required": false,
          "description": "JSONB platform-specific settings (bidding, targeting, etc.)"
        },
        "status": {
          "type": "text",
          "required": false,
          "default": "draft"
        },
        "total_impressions": {
          "type": "bigint",
          "required": false,
          "default": "0"
        },
        "total_clicks": {
          "type": "bigint",
          "required": false,
          "default": "0"
        },
        "total_conversions": {
          "type": "integer",
          "required": false,
          "default": "0"
        },
        "started_at": {
          "type": "timestamptz",
          "required": false
        },
        "ended_at": {
          "type": "timestamptz",
          "required": false
        },
        "created_at": {
          "type": "timestamptz",
          "required": false,
          "default": "now()"
        },
        "updated_at": {
          "type": "timestamptz",
          "required": false,
          "default": "now()"
        }
      },
      "description": "Platform-specific campaign configurations and performance"
    },
    "campaign_products": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()"
        },
        "campaign_id": {
          "type": "uuid",
          "required": true,
          "fk": "campaigns.id"
        },
        "product_family_id": {
          "type": "uuid",
          "required": false,
          "fk": "product_families.id"
        },
        "product_id": {
          "type": "uuid",
          "required": false,
          "fk": "products.id"
        },
        "is_primary_product": {
          "type": "boolean",
          "required": false,
          "default": "False",
          "description": "Hero product for this campaign (max one per campaign)"
        },
        "featured_order": {
          "type": "integer",
          "required": false
        },
        "promotion_type": {
          "type": "text",
          "required": false
        },
        "discount_percentage": {
          "type": "numeric",
          "required": false
        },
        "special_price": {
          "type": "numeric",
          "required": false
        },
        "special_price_start": {
          "type": "timestamptz",
          "required": false
        },
        "special_price_end": {
          "type": "timestamptz",
          "required": false
        },
        "impressions": {
          "type": "bigint",
          "required": false,
          "default": "0"
        },
        "clicks": {
          "type": "bigint",
          "required": false,
          "default": "0"
        },
        "conversions": {
          "type": "integer",
          "required": false,
          "default": "0"
        },
        "created_at": {
          "type": "timestamptz",
          "required": false,
          "default": "now()"
        }
      },
      "description": "M:N junction linking campaigns to promoted products/families"
    },
    "campaigns": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()"
        },
        "campaign_id": {
          "type": "text",
          "required": true,
          "description": "Business-friendly campaign identifier (unique)"
        },
        "name": {
          "type": "text",
          "required": true
        },
        "description": {
          "type": "text",
          "required": false
        },
        "campaign_type": {
          "type": "text",
          "required": true
        },
        "campaign_category": {
          "type": "text",
          "required": false
        },
        "primary_objective": {
          "type": "text",
          "required": true
        },
        "secondary_objectives": {
          "type": "array",
          "required": false
        },
        "target_audience_description": {
          "type": "text",
          "required": false
        },
        "total_budget": {
          "type": "numeric",
          "required": false
        },
        "budget_currency": {
          "type": "text",
          "required": false,
          "default": "INR"
        },
        "budget_allocation": {
          "type": "jsonb",
          "required": false,
          "description": "JSONB per-channel budget breakdown"
        },
        "planned_start_date": {
          "type": "date",
          "required": true
        },
        "planned_end_date": {
          "type": "date",
          "required": true
        },
        "actual_start_date": {
          "type": "date",
          "required": false
        },
        "actual_end_date": {
          "type": "date",
          "required": false
        },
        "status": {
          "type": "text",
          "required": false,
          "default": "draft"
        },
        "approval_status": {
          "type": "text",
          "required": false,
          "default": "pending"
        },
        "approved_by": {
          "type": "text",
          "required": false
        },
        "approved_at": {
          "type": "timestamptz",
          "required": false
        },
        "target_metrics": {
          "type": "jsonb",
          "required": false,
          "description": "JSONB campaign KPI targets (impressions, conversions, etc.)"
        },
        "total_impressions": {
          "type": "bigint",
          "required": false,
          "default": "0"
        },
        "total_clicks": {
          "type": "bigint",
          "required": false,
          "default": "0"
        },
        "total_conversions": {
          "type": "integer",
          "required": false,
          "default": "0"
        },
        "total_spend": {
          "type": "numeric",
          "required": false,
          "default": "0"
        },
        "generated_by": {
          "type": "text",
          "required": false
        },
        "generation_prompt_version": {
          "type": "text",
          "required": false
        },
        "specialist_versions": {
          "type": "jsonb",
          "required": false,
          "description": "JSONB tracking which specialist versions generated this campaign"
        },
        "created_at": {
          "type": "timestamptz",
          "required": false,
          "default": "now()"
        },
        "updated_at": {
          "type": "timestamptz",
          "required": false,
          "default": "now()"
        },
        "created_by": {
          "type": "text",
          "required": false
        },
        "updated_by": {
          "type": "text",
          "required": false
        }
      },
      "description": "Marketing campaigns with budget, timeline, and performance tracking"
    },
    "categories": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()"
        },
        "parent_id": {
          "type": "uuid",
          "required": false,
          "fk": "categories.id"
        },
        "name": {
          "type": "text",
          "required": true
        },
        "slug": {
          "type": "text",
          "required": true
        },
        "description": {
          "type": "text",
          "required": false
        },
        "google_product_category": {
          "type": "text",
          "required": false
        },
        "sort_order": {
          "type": "integer",
          "required": true,
          "default": "0"
        },
        "is_active": {
          "type": "boolean",
          "required": true,
          "default": "True"
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()"
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()"
        }
      },
      "description": "Hierarchical product taxonomy. Single-tenant: all categories belong to THE company."
    },
    "companies": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "type": "text",
          "required": true
        },
        "brand_voice": {
          "type": "text",
          "required": false
        },
        "target_audience": {
          "type": "text",
          "required": false
        },
        "created_at": {
          "type": "timestamptz",
          "required": false,
          "default": "now()"
        },
        "legal_name": {
          "type": "text",
          "required": false
        },
        "domain": {
          "type": "text",
          "required": false
        },
        "description": {
          "type": "text",
          "required": false
        },
        "brand_attributes": {
          "type": "jsonb",
          "required": false
        },
        "target_markets": {
          "type": "array",
          "required": false
        },
        "website": {
          "type": "text",
          "required": false
        },
        "email": {
          "type": "text",
          "required": false
        },
        "phone": {
          "type": "text",
          "required": false
        },
        "address_line1": {
          "type": "text",
          "required": false
        },
        "address_line2": {
          "type": "text",
          "required": false
        },
        "city": {
          "type": "text",
          "required": false
        },
        "state": {
          "type": "text",
          "required": false
        },
        "postal_code": {
          "type": "text",
          "required": false
        },
        "country": {
          "type": "text",
          "required": false,
          "default": "IN"
        },
        "default_currency": {
          "type": "text",
          "required": true,
          "default": "INR"
        },
        "default_timezone": {
          "type": "text",
          "required": true,
          "default": "Asia/Kolkata"
        },
        "currency_symbol": {
          "type": "varchar",
          "required": false,
          "default": "Rs"
        },
        "default_retail_price_list_id": {
          "type": "uuid",
          "required": false,
          "fk": "price_lists.id",
          "description": "Default price list for retail pricing operations"
        },
        "industry": {
          "type": "text",
          "required": false,
          "description": "Company industry vertical (e.g., Industrial B2B PET packaging)"
        }
      },
      "description": "Single-tenant: exactly 1 company. All other tables implicitly belong to this company."
    },
    "company_intelligence": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()"
        },
        "business_models": {
          "type": "array",
          "required": true
        },
        "brand_voice": {
          "type": "text",
          "required": false
        },
        "brand_values": {
          "type": "array",
          "required": false
        },
        "target_audiences": {
          "type": "jsonb",
          "required": false
        },
        "visual_identity": {
          "type": "jsonb",
          "required": false
        },
        "price_positioning": {
          "type": "text",
          "required": false
        },
        "competitors": {
          "type": "jsonb",
          "required": false
        },
        "confidence_score": {
          "type": "real",
          "required": false
        },
        "sources": {
          "type": "array",
          "required": false
        },
        "discovered_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()"
        },
        "last_updated": {
          "type": "timestamptz",
          "required": true,
          "default": "now()"
        }
      },
      "description": "Auto-discovered company intelligence. Single row corresponding to the single company."
    },
    "customer_prices": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()",
          "description": "Primary key UUID. Auto-generated."
        },
        "customer_id": {
          "type": "uuid",
          "required": true,
          "description": "Customer receiving special pricing. FK to customers table (future). Required. Index for fast customer lookup."
        },
        "product_id": {
          "type": "uuid",
          "required": false,
          "fk": "products.id",
          "description": "Product with special pricing. FK to products.id. XOR with price_list_id - set one, not both."
        },
        "price_list_id": {
          "type": "uuid",
          "required": false,
          "fk": "price_lists.id",
          "description": "Price list assigned to customer. FK to price_lists.id. XOR with product_id - set one, not both."
        },
        "special_price": {
          "type": "numeric",
          "required": false,
          "description": "Fixed price for this customer+product. Overrides price list. Used for negotiated contract prices."
        },
        "discount_percent": {
          "type": "numeric",
          "required": false,
          "description": "Percentage discount from standard price. Applied on top of price list price. Example: 10% off for VIP customers."
        },
        "effective_from": {
          "type": "date",
          "required": false,
          "default": "CURRENT_DATE"
        },
        "effective_to": {
          "type": "date",
          "required": false
        },
        "priority": {
          "type": "integer",
          "required": true,
          "default": "100",
          "description": "Higher = higher priority. When customer has multiple applicable prices, highest priority wins. Default 100."
        },
        "is_active": {
          "type": "boolean",
          "required": true,
          "default": "True"
        },
        "notes": {
          "type": "text",
          "required": false
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Record creation timestamp. Auto-set on INSERT."
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Last modification timestamp. Auto-updated by trigger."
        }
      },
      "description": "Customer-specific pricing overrides. Two modes: (1) Assign customer to a price list, (2) Set product-specific special prices or discounts. Higher priority wins when multiple apply. Query pattern: Check customer_prices first, fall back to standard price list."
    },
    "customer_segments": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()"
        },
        "product_family_id": {
          "type": "uuid",
          "required": false,
          "fk": "product_families.id"
        },
        "segment_type": {
          "type": "text",
          "required": true,
          "description": "Customer type: b2b, b2c, d2c, wholesale, enterprise, retail"
        },
        "segment_label": {
          "type": "text",
          "required": true
        },
        "tone": {
          "type": "text",
          "required": true,
          "description": "Marketing tone for this segment (professional, casual, technical, emotional)"
        },
        "key_benefits": {
          "type": "array",
          "required": true
        },
        "pain_points": {
          "type": "array",
          "required": true
        },
        "primary_channels": {
          "type": "array",
          "required": true,
          "description": "Preferred marketing channels (linkedin, instagram, email, etc.)"
        },
        "content_formats": {
          "type": "array",
          "required": true
        },
        "pricing_notes": {
          "type": "text",
          "required": false
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()"
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()"
        },
        "campaign_id": {
          "type": "uuid",
          "required": false,
          "fk": "campaigns.id",
          "description": "Campaign-specific audience segment (NULL = product segment or global segment)"
        }
      },
      "description": "B2B/B2C/D2C messaging strategies per product family"
    },
    "industries": {
      "columns": {
        "naics_code": {
          "type": "text",
          "required": true,
          "pk": true
        },
        "parent_code": {
          "type": "text",
          "required": false,
          "fk": "industries.naics_code"
        },
        "label": {
          "type": "text",
          "required": true
        },
        "description": {
          "type": "text",
          "required": false
        },
        "level": {
          "type": "integer",
          "required": true
        },
        "is_active": {
          "type": "boolean",
          "required": true,
          "default": "True"
        },
        "naics_year": {
          "type": "integer",
          "required": true,
          "default": "2022"
        }
      },
      "description": "NAICS 2022 industry classification. Hierarchical taxonomy for multi-industry product targeting."
    },
    "inventory": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()",
          "description": "Primary key UUID. Auto-generated."
        },
        "location_id": {
          "type": "uuid",
          "required": true,
          "fk": "locations.id",
          "description": "Where inventory is stored. FK to locations.id. RESTRICT delete to prevent orphan inventory."
        },
        "product_id": {
          "type": "uuid",
          "required": true,
          "fk": "products.id",
          "description": "What product. FK to products.id. RESTRICT delete to prevent orphan inventory."
        },
        "batch_id": {
          "type": "uuid",
          "required": false,
          "fk": "batches.id",
          "description": "Which batch (NULL for non-batch-tracked). FK to batches.id. Multiple batches can exist at same location."
        },
        "quantity_on_hand": {
          "type": "numeric",
          "required": true,
          "default": "0",
          "description": "Physical quantity in stock. Updated by inventory_transactions. In product.inventory_uom units. Can be negative ONLY if location.allow_negative_inventory=true (enforced by trigger). For available-to-promise, use quantity_available instead."
        },
        "quantity_reserved": {
          "type": "numeric",
          "required": true,
          "default": "0",
          "description": "Quantity reserved for orders not yet shipped. Prevents overselling. Released on shipment or cancellation."
        },
        "quantity_available": {
          "type": "numeric",
          "required": false,
          "description": "Computed: on_hand - reserved. Use this for availability checks. Can be negative if over-reserved."
        },
        "last_count_date": {
          "type": "date",
          "required": false,
          "description": "Date of last physical inventory count. Used for cycle counting and variance analysis."
        },
        "last_count_qty": {
          "type": "numeric",
          "required": false,
          "description": "Quantity recorded at last physical count. Compare with quantity_on_hand for variance."
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Record creation timestamp. Auto-set on INSERT."
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Last modification timestamp. Auto-updated by trigger."
        }
      },
      "description": "Current stock levels by location, product, and optionally batch. quantity_available is computed (on_hand - reserved). For non-batch products, batch_id is NULL. CRITICAL: Use idx_inv_non_batch constraint to prevent duplicate non-batch entries. Negative inventory enforced via trigger based on location.allow_negative_inventory. Query pattern: SUM(quantity_available) across locations for total available stock."
    },
    "inventory_transactions": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()",
          "description": "Primary key UUID. Auto-generated."
        },
        "transaction_type": {
          "type": "varchar",
          "required": true,
          "description": "Movement type: RECEIPT (goods in), ISSUE (goods out), TRANSFER (location move), ADJUSTMENT_IN/OUT (corrections), PRODUCTION_IN/OUT (manufacturing), RETURN_IN/OUT (customer/supplier returns), SCRAP (disposal)."
        },
        "transaction_date": {
          "type": "timestamptz",
          "required": true,
          "default": "now()"
        },
        "reference_type": {
          "type": "varchar",
          "required": false,
          "description": "Source document type: PURCHASE_ORDER, SALES_ORDER, PRODUCTION_ORDER, STOCK_COUNT, MANUAL. For linking to business transactions."
        },
        "reference_id": {
          "type": "uuid",
          "required": false,
          "description": "UUID of source document. Enables navigation to originating transaction."
        },
        "reference_number": {
          "type": "varchar",
          "required": false,
          "description": "Human-readable reference. Example: PO-2024-001. For display and search."
        },
        "product_id": {
          "type": "uuid",
          "required": true,
          "fk": "products.id"
        },
        "from_location_id": {
          "type": "uuid",
          "required": false,
          "fk": "locations.id",
          "description": "Source location for outbound/transfer. NULL for receipts. FK to locations.id."
        },
        "to_location_id": {
          "type": "uuid",
          "required": false,
          "fk": "locations.id",
          "description": "Destination location for inbound/transfer. NULL for issues. FK to locations.id."
        },
        "batch_id": {
          "type": "uuid",
          "required": false,
          "fk": "batches.id"
        },
        "quantity": {
          "type": "numeric",
          "required": true,
          "description": "Movement quantity. Always positive (direction indicated by type). In uom_id units."
        },
        "uom_id": {
          "type": "uuid",
          "required": true,
          "fk": "uom.id"
        },
        "unit_cost": {
          "type": "numeric",
          "required": false,
          "description": "Cost per unit at time of transaction. Captured for cost accounting and valuation."
        },
        "total_cost": {
          "type": "numeric",
          "required": false
        },
        "reason_code": {
          "type": "varchar",
          "required": false,
          "description": "Categorized reason: DAMAGED, EXPIRED, CYCLE_COUNT, CUSTOMER_RETURN, etc. For reporting and analysis."
        },
        "notes": {
          "type": "text",
          "required": false
        },
        "created_by": {
          "type": "uuid",
          "required": false
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Record creation timestamp. Auto-set on INSERT. Immutable audit record."
        }
      },
      "description": "Immutable audit log of all inventory movements. Every stock change creates a transaction. Supports full traceability from current stock back to receipts. Query pattern: For product history, SELECT * FROM inventory_transactions WHERE product_id = ? ORDER BY transaction_date DESC."
    },
    "locations": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()",
          "description": "Primary key UUID. Auto-generated."
        },
        "name": {
          "type": "varchar",
          "required": true
        },
        "code": {
          "type": "varchar",
          "required": true,
          "description": "Unique code for programmatic reference. Example: WH-DELHI-01, STORE-MUM-CENTRAL. Use for API lookups and integrations."
        },
        "description": {
          "type": "text",
          "required": false
        },
        "location_type": {
          "type": "varchar",
          "required": true,
          "default": "WAREHOUSE",
          "description": "WAREHOUSE: Primary storage. STORE: Retail location. ZONE: Area within warehouse. BIN: Specific shelf/slot. VIRTUAL: For adjustments. TRANSIT: In-transit inventory."
        },
        "parent_id": {
          "type": "uuid",
          "required": false,
          "fk": "locations.id",
          "description": "Parent location for hierarchy. BIN belongs to ZONE belongs to WAREHOUSE. NULL for top-level locations."
        },
        "address_line1": {
          "type": "varchar",
          "required": false
        },
        "address_line2": {
          "type": "varchar",
          "required": false
        },
        "city": {
          "type": "varchar",
          "required": false
        },
        "state": {
          "type": "varchar",
          "required": false
        },
        "postal_code": {
          "type": "varchar",
          "required": false
        },
        "country": {
          "type": "varchar",
          "required": false,
          "default": "IN"
        },
        "allow_negative_inventory": {
          "type": "boolean",
          "required": true,
          "default": "False",
          "description": "TRUE if location can have negative stock (backorder scenario). FALSE enforces stock >= 0. Critical for order fulfillment validation."
        },
        "is_sellable": {
          "type": "boolean",
          "required": true,
          "default": "True",
          "description": "TRUE if inventory here can be sold. FALSE for damaged goods area, quarantine zones."
        },
        "is_receivable": {
          "type": "boolean",
          "required": true,
          "default": "True",
          "description": "TRUE if location can receive incoming stock. FALSE for output-only locations."
        },
        "is_active": {
          "type": "boolean",
          "required": true,
          "default": "True"
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Record creation timestamp. Auto-set on INSERT."
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Last modification timestamp. Auto-updated by trigger."
        }
      },
      "description": "Physical and virtual inventory locations. Supports hierarchical structure (Warehouse > Zone > Bin). Each location tracks its own inventory levels. Referenced by: inventory (location_id), inventory_transactions (from_location_id, to_location_id). Query pattern: SELECT * FROM locations WHERE is_active = true ORDER BY location_type, name."
    },
    "marketing_content": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()"
        },
        "product_family_id": {
          "type": "uuid",
          "required": false,
          "fk": "product_families.id"
        },
        "product_id": {
          "type": "uuid",
          "required": false,
          "fk": "products.id"
        },
        "customer_segment_id": {
          "type": "uuid",
          "required": false,
          "fk": "customer_segments.id"
        },
        "industry_naics_code": {
          "type": "text",
          "required": false,
          "fk": "industries.naics_code"
        },
        "platform": {
          "type": "text",
          "required": true,
          "description": "Target platform: instagram, facebook, twitter, linkedin, youtube, tiktok, website, email, catalog"
        },
        "content_type": {
          "type": "text",
          "required": true,
          "description": "Content format: post, story, reel, video, carousel, ad, description, title, caption"
        },
        "content_text": {
          "type": "text",
          "required": true
        },
        "content_metadata": {
          "type": "jsonb",
          "required": false,
          "description": "Platform-specific metadata (aspect_ratio, duration, call_to_action, etc.)"
        },
        "hashtags": {
          "type": "array",
          "required": false
        },
        "keywords": {
          "type": "array",
          "required": false
        },
        "meta_title": {
          "type": "text",
          "required": false
        },
        "meta_description": {
          "type": "text",
          "required": false
        },
        "version": {
          "type": "integer",
          "required": true,
          "default": "1",
          "description": "Auto-incremented version number for A/B testing"
        },
        "is_active": {
          "type": "boolean",
          "required": false,
          "default": "True",
          "description": "Only one active version per platform/type/entity/segment/industry combo"
        },
        "impressions": {
          "type": "integer",
          "required": false,
          "default": "0"
        },
        "clicks": {
          "type": "integer",
          "required": false,
          "default": "0"
        },
        "conversions": {
          "type": "integer",
          "required": false,
          "default": "0"
        },
        "generated_by": {
          "type": "text",
          "required": false
        },
        "generation_prompt_version": {
          "type": "text",
          "required": false,
          "description": "Tracks which AI prompt version generated this content"
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()"
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()"
        },
        "published_at": {
          "type": "timestamptz",
          "required": false
        },
        "campaign_id": {
          "type": "uuid",
          "required": false,
          "fk": "campaigns.id",
          "description": "Campaign ID (NULL = product onboarding content, NOT NULL = campaign content)"
        },
        "campaign_asset_id": {
          "type": "uuid",
          "required": false,
          "fk": "campaign_assets.id",
          "description": "Campaign asset referenced by this content (NULL = no asset link)"
        }
      },
      "description": "Platform-specific marketing content with versioning and performance tracking"
    },
    "price_lists": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()",
          "description": "Primary key UUID. Auto-generated."
        },
        "name": {
          "type": "varchar",
          "required": true
        },
        "code": {
          "type": "varchar",
          "required": true,
          "description": "Unique code for programmatic reference. Example: RETAIL_INR, WHOLESALE_USD. Use for API lookups."
        },
        "description": {
          "type": "text",
          "required": false
        },
        "currency": {
          "type": "varchar",
          "required": true,
          "default": "INR",
          "description": "ISO 4217 currency code. All prices in this list are in this currency. Example: INR, USD, EUR."
        },
        "is_tax_inclusive": {
          "type": "boolean",
          "required": true,
          "default": "True",
          "description": "TRUE if prices include tax (B2C typical). FALSE if prices are tax-exclusive (B2B typical). Critical for invoice calculations."
        },
        "default_tax_category": {
          "type": "varchar",
          "required": false,
          "default": "STANDARD",
          "description": "Default tax category for products in this list. STANDARD (18%), REDUCED (5%), ZERO (0%), EXEMPT. Can be overridden per product."
        },
        "list_type": {
          "type": "varchar",
          "required": true,
          "default": "SALES",
          "description": "SALES: Customer-facing prices. PURCHASE: Supplier costs. TRANSFER: Inter-location transfers. PROMOTIONAL: Time-limited discounts."
        },
        "priority": {
          "type": "integer",
          "required": true,
          "default": "100",
          "description": "Higher number = higher priority. When multiple lists apply, highest priority wins. Default 100. Promotional lists often 200+."
        },
        "effective_from": {
          "type": "date",
          "required": false,
          "default": "CURRENT_DATE"
        },
        "effective_to": {
          "type": "date",
          "required": false
        },
        "status": {
          "type": "varchar",
          "required": true,
          "default": "ACTIVE"
        },
        "is_default": {
          "type": "boolean",
          "required": true,
          "default": "False",
          "description": "TRUE for fallback price list when no specific list applies. Only one default per list_type + currency combination."
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Record creation timestamp. Auto-set on INSERT."
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Last modification timestamp. Auto-updated by trigger."
        }
      },
      "description": "Price list headers defining pricing contexts. Each list has a currency, tax treatment, and effectivity period. Products can have different prices in different lists. Priority determines which list applies when multiple match. Referenced by: product_prices (price_list_id), customer_prices (price_list_id), suppliers (default_price_list_id). Query pattern: SELECT * FROM price_lists WHERE list_type = ? AND status = 'ACTIVE' AND (effective_to IS NULL OR effective_to > CURRENT_DATE) ORDER BY priority DESC."
    },
    "product_assets": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()",
          "description": "Primary key UUID. Auto-generated."
        },
        "product_id": {
          "type": "uuid",
          "required": false,
          "fk": "products.id",
          "description": "Specific product this asset belongs to. XOR with product_family_id. NULL if family-level asset."
        },
        "product_family_id": {
          "type": "uuid",
          "required": false,
          "fk": "product_families.id",
          "description": "Product family this asset belongs to. XOR with product_id. Inherited by all family products."
        },
        "asset_id": {
          "type": "uuid",
          "required": true,
          "fk": "assets.id"
        },
        "asset_role": {
          "type": "varchar",
          "required": true,
          "default": "GALLERY",
          "description": "Purpose of asset: PRIMARY (main image), GALLERY (additional), THUMBNAIL, LIFESTYLE (in-use), ZOOM (high-res), SIZE_CHART, TECHNICAL (specs), CERTIFICATE, VIDEO_THUMBNAIL."
        },
        "sort_order": {
          "type": "integer",
          "required": true,
          "default": "0",
          "description": "Display order within the same role. Lower numbers appear first. Use 0, 10, 20 for easy insertion."
        },
        "alt_text": {
          "type": "varchar",
          "required": false,
          "description": "Accessibility description. Used for screen readers and SEO. Should describe the image content."
        },
        "is_active": {
          "type": "boolean",
          "required": true,
          "default": "True"
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Record creation timestamp. Auto-set on INSERT."
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Last modification timestamp. Auto-updated by trigger."
        }
      },
      "description": "Links assets to products or product families. XOR constraint: Each record links to EITHER a product OR a product_family, never both. Family assets are inherited by all products in the family. Query pattern: For product images, SELECT a.* FROM product_assets pa JOIN assets a ON pa.asset_id = a.id WHERE pa.product_id = ? OR pa.product_family_id = (SELECT product_family_id FROM products WHERE id = ?) ORDER BY pa.asset_role, pa.sort_order."
    },
    "product_families": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()"
        },
        "category_id": {
          "type": "uuid",
          "required": false,
          "fk": "categories.id"
        },
        "product_group_id": {
          "type": "text",
          "required": true
        },
        "sku_prefix": {
          "type": "text",
          "required": true
        },
        "name": {
          "type": "text",
          "required": true
        },
        "description": {
          "type": "text",
          "required": true
        },
        "brand": {
          "type": "text",
          "required": true
        },
        "tags": {
          "type": "array",
          "required": false
        },
        "google_product_category": {
          "type": "text",
          "required": false
        },
        "base_price": {
          "type": "numeric",
          "required": true
        },
        "price_currency": {
          "type": "text",
          "required": true,
          "default": "INR"
        },
        "material": {
          "type": "text",
          "required": false
        },
        "condition": {
          "type": "text",
          "required": true,
          "default": "new"
        },
        "custom_attributes": {
          "type": "jsonb",
          "required": false
        },
        "lifecycle_stage": {
          "type": "text",
          "required": true,
          "default": "regular"
        },
        "is_active": {
          "type": "boolean",
          "required": true,
          "default": "True",
          "description": "Legacy field - soft delete flag (not in v1 schema)"
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()"
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()"
        },
        "created_by": {
          "type": "text",
          "required": false
        },
        "updated_by": {
          "type": "text",
          "required": false,
          "description": "User/agent identifier who last updated this record"
        },
        "is_configurable": {
          "type": "boolean",
          "required": false,
          "default": "False",
          "description": "TRUE if family supports variant configuration (size/color combinations). When true, products inherit variant_attributes from family. Used for dynamic SKU generation."
        }
      },
      "description": "Parent product concepts that have variants. Example: \"Nike Air Max Sneaker\" with variants per size/color."
    },
    "product_family_industries": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()"
        },
        "product_family_id": {
          "type": "uuid",
          "required": true,
          "fk": "product_families.id"
        },
        "industry_naics_code": {
          "type": "text",
          "required": true,
          "fk": "industries.naics_code"
        },
        "industry_use_case": {
          "type": "text",
          "required": false,
          "description": "How this product solves problems in this specific industry"
        },
        "industry_benefits": {
          "type": "array",
          "required": true,
          "description": "Array of benefit strings - NOT NULL with empty array default"
        },
        "compliance_notes": {
          "type": "text",
          "required": false
        },
        "is_primary_industry": {
          "type": "boolean",
          "required": false,
          "default": "False",
          "description": "Main target industry - nullable to allow NULL for non-primary"
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()"
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Last update timestamp"
        }
      },
      "description": "M:N junction for multi-industry targeting (e.g., water bottle \u2192 healthcare, sports, corporate)"
    },
    "product_images": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()"
        },
        "product_family_id": {
          "type": "uuid",
          "required": false,
          "fk": "product_families.id",
          "description": "If set, image applies to all variants in family"
        },
        "product_id": {
          "type": "uuid",
          "required": false,
          "fk": "products.id",
          "description": "If set, image applies only to this specific variant"
        },
        "url": {
          "type": "text",
          "required": true
        },
        "alt_text": {
          "type": "text",
          "required": false
        },
        "image_type": {
          "type": "text",
          "required": true,
          "description": "Semantic classification for different contexts (catalog, lifestyle, detail shots)"
        },
        "display_order": {
          "type": "integer",
          "required": true,
          "default": "0"
        },
        "width": {
          "type": "integer",
          "required": false
        },
        "height": {
          "type": "integer",
          "required": false
        },
        "file_size_bytes": {
          "type": "integer",
          "required": false
        },
        "whatsapp_media_id": {
          "type": "text",
          "required": false,
          "description": "WhatsApp media ID for uploaded images"
        },
        "is_primary": {
          "type": "boolean",
          "required": false,
          "default": "False",
          "description": "Hero image shown first in listings/catalogs"
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()"
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()"
        }
      },
      "description": "Multi-level image storage: family-level (shared) or variant-specific images"
    },
    "product_prices": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()",
          "description": "Primary key UUID. Auto-generated."
        },
        "price_list_id": {
          "type": "uuid",
          "required": true,
          "fk": "price_lists.id",
          "description": "Parent price list. FK to price_lists.id. Inherits currency and tax treatment from price list."
        },
        "product_id": {
          "type": "uuid",
          "required": true,
          "fk": "products.id",
          "description": "Product being priced. FK to products.id. One product can have multiple price tiers (different min_quantity)."
        },
        "unit_price": {
          "type": "numeric",
          "required": true,
          "description": "Price per unit in price list currency. Tax handling depends on price_list.is_tax_inclusive. Must be >= 0."
        },
        "min_quantity": {
          "type": "numeric",
          "required": true,
          "default": "1",
          "description": "Minimum quantity for this price tier to apply. Example: 1 unit = $10, 100+ units = $8. Default 1."
        },
        "price_uom_id": {
          "type": "uuid",
          "required": false,
          "fk": "uom.id",
          "description": "UoM for price. Example: Price per KG even if sold in PCS. NULL defaults to product.sales_uom_id."
        },
        "cost_price": {
          "type": "numeric",
          "required": false,
          "description": "Cost price for margin calculations. Used for profitability analysis. NULL if not tracked."
        },
        "margin_percent": {
          "type": "numeric",
          "required": false,
          "description": "Calculated margin: ((unit_price - cost_price) / unit_price) * 100. Can be negative for loss leaders."
        },
        "effective_from": {
          "type": "date",
          "required": false
        },
        "effective_to": {
          "type": "date",
          "required": false
        },
        "is_active": {
          "type": "boolean",
          "required": true,
          "default": "True"
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Record creation timestamp. Auto-set on INSERT."
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Last modification timestamp. Auto-updated by trigger."
        }
      },
      "description": "Product prices within price lists. Supports quantity-based tiered pricing (different prices at different MOQs). Each product can have multiple price tiers per list. Query pattern: SELECT * FROM product_prices WHERE price_list_id = ? AND product_id = ? AND min_quantity <= ? ORDER BY min_quantity DESC LIMIT 1."
    },
    "product_uom_conversion": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()",
          "description": "Primary key UUID. Auto-generated."
        },
        "product_id": {
          "type": "uuid",
          "required": true
        },
        "from_uom_id": {
          "type": "uuid",
          "required": true,
          "fk": "uom.id"
        },
        "to_uom_id": {
          "type": "uuid",
          "required": true,
          "fk": "uom.id"
        },
        "conversion_factor": {
          "type": "numeric",
          "required": true,
          "description": "Product-specific multiplier. Example: For a 6-pack, PCS->PACK has factor 6 (6 PCS = 1 PACK)."
        },
        "context": {
          "type": "varchar",
          "required": true,
          "default": "ALL",
          "description": "Where this conversion applies. PURCHASE: when buying from suppliers. SALES: when selling to customers. INVENTORY: when counting stock. ALL: everywhere."
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Record creation timestamp. Auto-set on INSERT."
        }
      },
      "description": "Product-specific unit conversions. A \"pack\" of bottles might be 6, while a \"pack\" of caps might be 100. Context controls where conversion applies: ALL (everywhere), PURCHASE (buying), SALES (selling), INVENTORY (counting). Query pattern: SELECT conversion_factor FROM product_uom_conversion WHERE product_id = ? AND from_uom_id = ? AND to_uom_id = ? AND context IN (?, 'ALL')."
    },
    "product_variant_values": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()"
        },
        "product_id": {
          "type": "uuid",
          "required": true,
          "fk": "products.id"
        },
        "variant_value_id": {
          "type": "uuid",
          "required": true,
          "fk": "variant_values.id"
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()"
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()"
        }
      },
      "description": "M:N junction linking products to their variant dimension values"
    },
    "products": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "type": "text",
          "required": true
        },
        "description": {
          "type": "text",
          "required": true
        },
        "price": {
          "type": "numeric",
          "required": true
        },
        "sizes": {
          "type": "array",
          "required": false,
          "description": "DEPRECATED - Legacy array field from pre-variant architecture"
        },
        "colors": {
          "type": "array",
          "required": false,
          "description": "DEPRECATED - Legacy array field from pre-variant architecture"
        },
        "image_urls": {
          "type": "array",
          "required": false,
          "description": "DEPRECATED - Legacy array field from pre-variant architecture"
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()"
        },
        "product_family_id": {
          "type": "uuid",
          "required": false,
          "fk": "product_families.id",
          "description": "Links to parent product family; NULL for standalone products"
        },
        "sku": {
          "type": "text",
          "required": true,
          "description": "Unique SKU for this specific variant (e.g., SHOE-M-RED)"
        },
        "availability": {
          "type": "text",
          "required": true,
          "default": "in_stock",
          "description": "Current availability status for Facebook/schema.org compliance"
        },
        "stock_quantity": {
          "type": "integer",
          "required": true,
          "default": "0"
        },
        "sale_price": {
          "type": "numeric",
          "required": false
        },
        "sale_price_start": {
          "type": "timestamp",
          "required": false
        },
        "sale_price_end": {
          "type": "timestamp",
          "required": false
        },
        "link": {
          "type": "text",
          "required": false
        },
        "is_primary_variant": {
          "type": "boolean",
          "required": true,
          "default": "False",
          "description": "The default/hero variant shown first (only one per family)"
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()"
        },
        "is_active": {
          "type": "boolean",
          "required": true,
          "default": "True",
          "description": "Soft delete flag - false means deactivated"
        },
        "product_type": {
          "type": "varchar",
          "required": false,
          "default": "FINISHED_GOOD",
          "description": "Product classification. Valid values: RAW_MATERIAL (purchased for production), COMPONENT (manufactured intermediate), FINISHED_GOOD (sellable end product), PACK (bundled for sale), BUNDLE (virtual grouping), SERVICE (non-stockable). Determines applicable workflows: RAW_MATERIAL->purchasing, COMPONENT->manufacturing, FINISHED_GOOD->sales. Default: FINISHED_GOOD."
        },
        "hsn_code": {
          "type": "varchar",
          "required": false,
          "description": "HSN code (4-8 digits) for GST tax classification. Required for invoicing in India. Example: 62034200 for mens trousers."
        },
        "gst_rate": {
          "type": "numeric",
          "required": false,
          "default": "18.0",
          "description": "GST rate percentage (0, 5, 12, 18, 28). Used for tax calculations on invoices. Default 18% for most goods."
        },
        "barcode": {
          "type": "varchar",
          "required": false,
          "description": "Product barcode (EAN-13, UPC-A, or internal). Used for POS scanning and inventory operations."
        },
        "base_uom_id": {
          "type": "uuid",
          "required": false,
          "fk": "uom.id",
          "description": "Primary unit of measure for this product. All quantities internally stored in this unit. Example: PCS for garments, KG for fabric."
        },
        "purchase_uom_id": {
          "type": "uuid",
          "required": false,
          "fk": "uom.id",
          "description": "Unit of measure for purchase orders. Can differ from base_uom (e.g., buy fabric in MTR, store in M). Requires conversion in product_uom_conversion."
        },
        "inventory_uom_id": {
          "type": "uuid",
          "required": false,
          "fk": "uom.id",
          "description": "Unit of measure for inventory tracking. Usually same as base_uom but can differ for warehouse operations."
        },
        "sales_uom_id": {
          "type": "uuid",
          "required": false,
          "fk": "uom.id",
          "description": "Unit of measure for sales orders and invoices. Example: Sell fabric by MTR even if stored in M. Requires conversion in product_uom_conversion."
        },
        "is_purchasable": {
          "type": "boolean",
          "required": false,
          "default": "True",
          "description": "TRUE if product can be purchased from suppliers. FALSE for internally manufactured items that are never bought. Affects purchase order workflows."
        },
        "is_manufacturable": {
          "type": "boolean",
          "required": false,
          "default": "False",
          "description": "TRUE if product has a BOM and can be manufactured. Enables production workflows. RAW_MATERIAL typically false, FINISHED_GOOD typically true for manufacturers."
        },
        "is_sellable": {
          "type": "boolean",
          "required": false,
          "default": "True",
          "description": "TRUE if product can appear on sales orders/invoices. FALSE for internal components never sold directly. Affects catalog visibility."
        },
        "is_stockable": {
          "type": "boolean",
          "required": false,
          "default": "True",
          "description": "TRUE if product tracks inventory levels. FALSE for SERVICE type or virtual products. When false, skip inventory checks on orders."
        },
        "reorder_point": {
          "type": "numeric",
          "required": false,
          "default": "0",
          "description": "Inventory level that triggers reorder alert. When stock falls below this, generate purchase or production order. In base_uom units."
        },
        "safety_stock": {
          "type": "numeric",
          "required": false,
          "default": "0",
          "description": "Minimum inventory buffer to maintain. Safety cushion against demand variability. In base_uom units."
        },
        "min_sales_qty": {
          "type": "numeric",
          "required": false,
          "default": "1",
          "description": "Minimum quantity that can be sold in a single order line. Example: Fabric sold in min 0.5 MTR increments. In sales_uom units."
        },
        "production_strategy": {
          "type": "varchar",
          "required": false,
          "default": "MAKE_TO_STOCK",
          "description": "Manufacturing approach: MAKE_TO_STOCK (produce to inventory), MAKE_TO_ORDER (produce on demand), ASSEMBLE_TO_ORDER (assemble from stock components). Affects production planning."
        },
        "country_of_origin": {
          "type": "varchar",
          "required": false,
          "description": "ISO 3166-1 alpha-2 country code. Required for export documentation. Example: IN for India, CN for China."
        },
        "shelf_life_days": {
          "type": "integer",
          "required": false,
          "description": "Product shelf life in days from manufacturing date. NULL for non-perishable. Used for batch expiry calculations."
        },
        "status": {
          "type": "varchar",
          "required": false,
          "default": "ACTIVE",
          "description": "Operational status. Valid values: DRAFT (incomplete, not usable), ACTIVE (available for all operations), DISCONTINUED (no new orders, existing stock sellable), ARCHIVED (historical only, hidden from UI). Workflow: DRAFT->ACTIVE->DISCONTINUED->ARCHIVED. Default: ACTIVE."
        },
        "lifecycle_stage": {
          "type": "varchar",
          "required": false,
          "default": "MATURE",
          "description": "Lifecycle phase: INTRODUCTION (new product), GROWTH (increasing demand), MATURE (stable demand), DECLINE (decreasing demand). Used for demand forecasting."
        },
        "version": {
          "type": "integer",
          "required": false,
          "default": "1",
          "description": "Product revision number. Increment when BOM or specifications change. Used for traceability in manufacturing."
        },
        "custom_attributes": {
          "type": "jsonb",
          "required": false,
          "description": "Flexible JSONB for business-specific attributes not in core schema. Example: {\"material\": \"cotton\", \"thread_count\": 300}. Query with ->> operator."
        },
        "tags": {
          "type": "array",
          "required": false,
          "description": "Array of tags for categorization. Example: {premium, organic, bestseller}. Use && operator for filtering."
        }
      },
      "description": "Master product catalog. Each row is a unique SKU (Stock Keeping Unit). Products belong to product_families for variant management. Key relationships: product_family_id->product_families, base_uom_id->uom. Behavior determined by product_type and is_* flags. Referenced by: bom (product_id), bom_lines (component_id), inventory, product_prices, supplier_products, product_assets, batches. Query pattern: Filter by status='ACTIVE' for operational queries, use product_type for workflow routing."
    },
    "supplier_products": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()",
          "description": "Primary key UUID. Auto-generated."
        },
        "supplier_id": {
          "type": "uuid",
          "required": true,
          "fk": "suppliers.id",
          "description": "Supplier providing this product. FK to suppliers.id. CASCADE delete when supplier deleted."
        },
        "product_id": {
          "type": "uuid",
          "required": true,
          "fk": "products.id",
          "description": "Product supplied. FK to products.id. CASCADE delete when product deleted."
        },
        "supplier_sku": {
          "type": "varchar",
          "required": false,
          "description": "Supplier product code/SKU. May differ from internal SKU. Used on purchase orders for supplier reference."
        },
        "supplier_product_name": {
          "type": "varchar",
          "required": false,
          "description": "Supplier product name. May differ from internal name. For supplier communication."
        },
        "unit_price": {
          "type": "numeric",
          "required": false,
          "description": "Supplier price per unit. In currency specified. May be overridden by price lists."
        },
        "price_uom_id": {
          "type": "uuid",
          "required": false,
          "fk": "uom.id",
          "description": "Unit of measure for unit_price. FK to uom.id. NULL defaults to product.purchase_uom_id."
        },
        "currency": {
          "type": "varchar",
          "required": false,
          "default": "INR"
        },
        "min_order_qty": {
          "type": "numeric",
          "required": false,
          "default": "1",
          "description": "Minimum order quantity. Supplier MOQ constraint. In purchase UoM."
        },
        "order_multiple": {
          "type": "numeric",
          "required": false,
          "default": "1",
          "description": "Order quantity must be multiple of this. Example: Can only order in packs of 12."
        },
        "lead_time_days": {
          "type": "integer",
          "required": false,
          "default": "7",
          "description": "Expected days from order to delivery. Used for MRP calculations and promised dates."
        },
        "priority": {
          "type": "integer",
          "required": true,
          "default": "100",
          "description": "Higher number = higher priority. Used for automated supplier selection when multiple available."
        },
        "is_preferred": {
          "type": "boolean",
          "required": true,
          "default": "False",
          "description": "TRUE for preferred supplier. Only one per product should be preferred. Gets priority in selection."
        },
        "effective_from": {
          "type": "date",
          "required": false,
          "default": "CURRENT_DATE"
        },
        "effective_to": {
          "type": "date",
          "required": false
        },
        "is_active": {
          "type": "boolean",
          "required": true,
          "default": "True"
        },
        "notes": {
          "type": "text",
          "required": false
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Record creation timestamp. Auto-set on INSERT."
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Last modification timestamp. Auto-updated by trigger."
        }
      },
      "description": "Links suppliers to products they can provide. Supports multiple suppliers per product with priority ranking. Contains supplier-specific pricing, lead times, and ordering constraints. Query pattern: For best supplier, SELECT * FROM supplier_products WHERE product_id = ? AND is_active = true ORDER BY is_preferred DESC, priority DESC, unit_price ASC LIMIT 1."
    },
    "suppliers": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()",
          "description": "Primary key UUID. Auto-generated."
        },
        "name": {
          "type": "varchar",
          "required": true
        },
        "code": {
          "type": "varchar",
          "required": true,
          "description": "Unique supplier code for reference. Example: SUP-001, VENDOR-FABRIC-01. Use for purchase orders and integrations."
        },
        "email": {
          "type": "varchar",
          "required": false
        },
        "phone": {
          "type": "varchar",
          "required": false
        },
        "website": {
          "type": "varchar",
          "required": false
        },
        "contact_name": {
          "type": "varchar",
          "required": false
        },
        "contact_email": {
          "type": "varchar",
          "required": false
        },
        "contact_phone": {
          "type": "varchar",
          "required": false
        },
        "address_line1": {
          "type": "varchar",
          "required": false
        },
        "address_line2": {
          "type": "varchar",
          "required": false
        },
        "city": {
          "type": "varchar",
          "required": false
        },
        "state": {
          "type": "varchar",
          "required": false
        },
        "postal_code": {
          "type": "varchar",
          "required": false
        },
        "country": {
          "type": "varchar",
          "required": false,
          "default": "IN"
        },
        "gstin": {
          "type": "varchar",
          "required": false,
          "description": "GST Identification Number (India). 15-character format. Required for tax compliance on purchases."
        },
        "pan": {
          "type": "varchar",
          "required": false,
          "description": "Permanent Account Number (India). 10-character format. Required for TDS compliance."
        },
        "payment_terms": {
          "type": "varchar",
          "required": false,
          "default": "NET30",
          "description": "Default payment terms. Example: NET30, COD, ADVANCE. Used as default on purchase orders."
        },
        "credit_limit": {
          "type": "numeric",
          "required": false,
          "description": "Maximum outstanding amount allowed. Used for purchase approval workflow. In supplier currency."
        },
        "currency": {
          "type": "varchar",
          "required": false,
          "default": "INR",
          "description": "Supplier default currency. ISO 4217 code. Purchase prices stored in this currency unless overridden."
        },
        "default_price_list_id": {
          "type": "uuid",
          "required": false,
          "fk": "price_lists.id",
          "description": "Default purchase price list for this supplier. FK to price_lists.id where list_type=PURCHASE."
        },
        "supplier_type": {
          "type": "varchar",
          "required": false,
          "default": "VENDOR",
          "description": "VENDOR: Standard supplier. MANUFACTURER: Direct from maker. DISTRIBUTOR: Reseller. CONTRACTOR: Service provider."
        },
        "category": {
          "type": "varchar",
          "required": false
        },
        "rating": {
          "type": "numeric",
          "required": false,
          "description": "Performance rating 0-5 (5 best). Based on delivery, quality, pricing. Used for supplier selection."
        },
        "status": {
          "type": "varchar",
          "required": true,
          "default": "ACTIVE",
          "description": "PROSPECT: Potential supplier. ACTIVE: Approved for purchasing. ON_HOLD: Temporarily suspended. INACTIVE: No longer used."
        },
        "notes": {
          "type": "text",
          "required": false
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Record creation timestamp. Auto-set on INSERT."
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Last modification timestamp. Auto-updated by trigger."
        }
      },
      "description": "Supplier master for procurement operations. Each supplier can provide multiple products (via supplier_products). Supports multi-currency, credit limits, and performance tracking. Referenced by: supplier_products (supplier_id), batches (supplier_id). Query pattern: SELECT * FROM suppliers WHERE status = 'ACTIVE' ORDER BY rating DESC NULLS LAST."
    },
    "uom": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()",
          "description": "Primary key UUID. Auto-generated."
        },
        "code": {
          "type": "varchar",
          "required": true,
          "description": "Short identifier for display and lookup. Examples: KG, PCS, PACK, MT. Always uppercase."
        },
        "name": {
          "type": "varchar",
          "required": true
        },
        "uom_category": {
          "type": "varchar",
          "required": true,
          "description": "Groups related units. Same-category units can be converted. WEIGHT: mass units, COUNT: discrete items, PACKAGE: logistics units."
        },
        "is_base_unit": {
          "type": "boolean",
          "required": true,
          "default": "False",
          "description": "The reference unit for this category. KG is base for WEIGHT, PCS for COUNT. Conversions are relative to base."
        },
        "decimal_places": {
          "type": "integer",
          "required": true,
          "default": "2",
          "description": "Display precision. 0 for discrete units (PCS, DOZEN), 2-3 for continuous (KG, L)."
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Record creation timestamp. Auto-set on INSERT."
        }
      },
      "description": "Unit of Measure master. Every product quantity references a UoM. Referenced by: products (base_uom_id, purchase_uom_id, inventory_uom_id, sales_uom_id), bom_lines (uom_id), product_prices (price_uom_id), supplier_products (price_uom_id), inventory_transactions (uom_id), uom_conversion, product_uom_conversion. Query pattern: SELECT * FROM uom WHERE uom_category = ? ORDER BY is_base_unit DESC, code."
    },
    "uom_conversion": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()",
          "description": "Primary key UUID. Auto-generated."
        },
        "from_uom_id": {
          "type": "uuid",
          "required": true,
          "fk": "uom.id"
        },
        "to_uom_id": {
          "type": "uuid",
          "required": true,
          "fk": "uom.id"
        },
        "conversion_factor": {
          "type": "numeric",
          "required": true,
          "description": "Multiply from_uom quantity by this to get to_uom quantity. MT->KG = 1000, KG->G = 1000, DOZEN->PCS = 12."
        },
        "is_active": {
          "type": "boolean",
          "required": true,
          "default": "True"
        }
      },
      "description": "Global unit conversions (not product-specific). Formula: from_qty * conversion_factor = to_qty. Example: 1 MT * 1000 = 1000 KG. For product-specific conversions like \"6 bottles = 1 pack\", use product_uom_conversion. Query pattern: SELECT conversion_factor FROM uom_conversion WHERE from_uom_id = ? AND to_uom_id = ? AND is_active = true."
    },
    "variant_axes": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()"
        },
        "product_family_id": {
          "type": "uuid",
          "required": true,
          "fk": "product_families.id"
        },
        "name": {
          "type": "text",
          "required": true
        },
        "display_label": {
          "type": "text",
          "required": true
        },
        "sort_order": {
          "type": "integer",
          "required": true,
          "default": "0"
        },
        "schema_property": {
          "type": "text",
          "required": false
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()"
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Last update timestamp"
        }
      },
      "description": "Defines dimensions along which a product family varies. Example: size, color."
    },
    "variant_values": {
      "columns": {
        "id": {
          "type": "uuid",
          "required": true,
          "pk": true,
          "default": "gen_random_uuid()"
        },
        "variant_axis_id": {
          "type": "uuid",
          "required": true,
          "fk": "variant_axes.id"
        },
        "value": {
          "type": "text",
          "required": true
        },
        "display_label": {
          "type": "text",
          "required": true
        },
        "sku_code": {
          "type": "text",
          "required": true
        },
        "color_hex": {
          "type": "text",
          "required": false
        },
        "image_url": {
          "type": "text",
          "required": false
        },
        "price_adjustment": {
          "type": "numeric",
          "required": true,
          "default": "0"
        },
        "sort_order": {
          "type": "integer",
          "required": true,
          "default": "0"
        },
        "is_active": {
          "type": "boolean",
          "required": true,
          "default": "True",
          "description": "Soft delete flag - false means deactivated"
        },
        "created_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()"
        },
        "updated_at": {
          "type": "timestamptz",
          "required": true,
          "default": "now()",
          "description": "Last update timestamp"
        }
      },
      "description": "Specific values for each variant axis. Example: \"Red\", \"Blue\" for color axis."
    }
  },
  "version": "live",
  "synced_at": "2026-02-13T12:44:19.560105+00:00"
}
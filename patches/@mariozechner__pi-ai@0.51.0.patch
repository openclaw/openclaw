diff --git a/dist/providers/anthropic.js b/dist/providers/anthropic.js
index ccc9bfe599a42ba1deb80855e1e5df5a1819f4e8..3aafcac8e5ed0a59e95fbf34cc6d21a87851e3a5 100644
--- a/dist/providers/anthropic.js
+++ b/dist/providers/anthropic.js
@@ -1,4 +1,8 @@
 import Anthropic from "@anthropic-ai/sdk";
+import { ProxyAgent } from "undici";
+const _proxyUrl = process.env.HTTPS_PROXY || process.env.HTTP_PROXY;
+const _proxyAgent = _proxyUrl ? new ProxyAgent(_proxyUrl) : undefined;
+const _proxyFetch = _proxyAgent ? (input, init) => fetch(input, { ...init, dispatcher: _proxyAgent }) : undefined;
 import { getEnvApiKey } from "../env-api-keys.js";
 import { calculateCost } from "../models.js";
 import { AssistantMessageEventStream } from "../utils/event-stream.js";
@@ -349,7 +353,7 @@ function createClient(model, apiKey, interleavedThinking, optionsHeaders) {
             "user-agent": `claude-cli/${claudeCodeVersion} (external, cli)`,
             "x-app": "cli",
         }, model.headers, optionsHeaders);
-        const client = new Anthropic({
+        const client = new Anthropic({ fetch: _proxyFetch,
             apiKey: null,
             authToken: apiKey,
             baseURL: model.baseUrl,
@@ -363,7 +367,7 @@ function createClient(model, apiKey, interleavedThinking, optionsHeaders) {
         "anthropic-dangerous-direct-browser-access": "true",
         "anthropic-beta": betaFeatures.join(","),
     }, model.headers, optionsHeaders);
-    const client = new Anthropic({
+    const client = new Anthropic({ fetch: _proxyFetch,
         apiKey,
         baseURL: model.baseUrl,
         dangerouslyAllowBrowser: true,

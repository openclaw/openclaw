Epic,Item,Type,Priority,EstimatePoints,OwnerRole,Description,AcceptanceCriteria
EPIC-01: v0 Dispatch API Spine,STORY-01: Implement command endpoints with idempotency,Story,P0,8,Backend,Create dispatch-api with command endpoints; enforce idempotency and return deterministic responses on replay.,All command endpoints require Idempotency-Key; idempotency replay works; conflicts return 409.
EPIC-01: v0 Dispatch API Spine,STORY-02: Append-only audit events + timeline,Story,P0,5,Backend/DB,Write audit_events on every mutation; expose GET /tickets/{id}/timeline.,Every mutation creates audit event with actor/tool/before/after/correlation_id; timeline returns ordered events.
EPIC-02: Postgres Schema + Migrations,"STORY-03: Create core schema (tickets, audit, idempotency, evidence)",Story,P0,5,DB,"Implement migrations that create tables, enums, indexes; include constraints.",Migrations apply cleanly; constraints prevent invalid states; indexes support state queue queries.
EPIC-03: Closed Toolset + Integration,STORY-04: Tool bridge maps tools â†’ dispatch-api endpoints,Story,P0,5,Integration,"Implement handlers for ticket.create, ticket.triage, schedule.confirm, etc.",Tool calls produce correct endpoint calls; correlation_id propagates; errors surfaced.
EPIC-03: Closed Toolset + Integration,STORY-05: Tool allowlisting by role,Story,P0,3,Integration/Security,Expose only permitted tools per role/session; deny unknown tools.,Unauthorized tools rejected; allowlist is config-driven and test-covered.
EPIC-04: Evidence + Incident Templates,STORY-06: Incident type templates (required evidence + checklists),Story,P0,5,Dispatch/PM,Define versioned incident templates for top door issues; include required evidence types.,Templates exist for at least 6 incident types; completion fails if evidence missing.
EPIC-04: Evidence + Incident Templates,STORY-07: Evidence upload + reference model,Story,P0,5,Backend,Implement evidence_items + object store references; accept evidence refs in complete.,Evidence can be attached and listed; complete requires evidence refs.
EPIC-05: E2E Proof,STORY-08: Canonical E2E scenario harness,Story,P0,8,QA,Create deterministic E2E test that runs through emergency scenario chain.,E2E passes in CI; includes fail-closed assertion for missing evidence.
EPIC-06: Observability,STORY-09: Structured logging + basic metrics,Story,P1,3,SRE/Backend,"Add structured logs, metrics counters, and correlation IDs.",Logs contain request_id/correlation_id; metrics for requests/errors/transitions exist.
EPIC-07: UX (v0 minimal),STORY-10: Dispatcher queue view spec + tech job packet,Story,P1,5,UX/PM,Define minimum dispatcher cockpit UI + tech workflow requirements.,"Wireframes/spec published; includes SLA timers, assignment override, timeline view."

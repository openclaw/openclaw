---ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
summary: "WhatsApp (web channel) integration: login, inbox, replies, media, and ops"ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
read_when:ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - Working on WhatsApp/web channel behavior or inbox routingï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
title: "WhatsApp"ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
---ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
# WhatsApp (web channel)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
Status: WhatsApp Web via Baileys only. Gateway owns the session(s).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Quick setup (beginner)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
1. Use a **separate phone number** if possible (recommended).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
2. Configure WhatsApp in `~/.openclaw/openclaw.json`.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
3. Run `openclaw channels login` to scan the QR code (Linked Devices).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
4. Start the gateway.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
Minimal config:ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
```json5ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
{ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  channels: {ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
    whatsapp: {ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
      dmPolicy: "allowlist",ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
      allowFrom: ["+15551234567"],ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
    },ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  },ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
}ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
```ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Goalsï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Multiple WhatsApp accounts (multi-account) in one Gateway process.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Deterministic routing: replies return to WhatsApp, no model routing.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Model sees enough context to understand quoted replies.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Config writesï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
By default, WhatsApp is allowed to write config updates triggered by `/config set|unset` (requires `commands.config: true`).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
Disable with:ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
```json5ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
{ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  channels: { whatsapp: { configWrites: false } },ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
}ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
```ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Architecture (who owns what)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- **Gateway** owns the Baileys socket and inbox loop.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- **CLI / macOS app** talk to the gateway; no direct Baileys use.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- **Active listener** is required for outbound sends; otherwise send fails fast.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Getting a phone number (two modes)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
WhatsApp requires a real mobile number for verification. VoIP and virtual numbers are usually blocked. There are two supported ways to run OpenClaw on WhatsApp:ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
### Dedicated number (recommended)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
Use a **separate phone number** for OpenClaw. Best UX, clean routing, no self-chat quirks. Ideal setup: **spare/old Android phone + eSIM**. Leave it on Wiâ€‘Fi and power, and link it via QR.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
**WhatsApp Business:** You can use WhatsApp Business on the same device with a different number. Great for keeping your personal WhatsApp separate â€” install WhatsApp Business and register the OpenClaw number there.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
**Sample config (dedicated number, single-user allowlist):**ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
```json5ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
{ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  channels: {ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
    whatsapp: {ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
      dmPolicy: "allowlist",ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
      allowFrom: ["+15551234567"],ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
    },ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  },ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
}ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
```ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
**Pairing mode (optional):**ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
If you want pairing instead of allowlist, set `channels.whatsapp.dmPolicy` to `pairing`. Unknown senders get a pairing code; approve with:ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
`openclaw pairing approve whatsapp <code>`ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
### Personal number (fallback)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
Quick fallback: run OpenClaw on **your own number**. Message yourself (WhatsApp â€œMessage yourselfâ€) for testing so you donâ€™t spam contacts. Expect to read verification codes on your main phone during setup and experiments. **Must enable self-chat mode.**ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
When the wizard asks for your personal WhatsApp number, enter the phone you will message from (the owner/sender), not the assistant number.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
**Sample config (personal number, self-chat):**ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
```jsonï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
{ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  "whatsapp": {ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
    "selfChatMode": true,ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
    "dmPolicy": "allowlist",ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
    "allowFrom": ["+15551234567"]ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  }ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
}ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
```ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
Self-chat replies default to `[{identity.name}]` when set (otherwise `[openclaw]`)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
if `messages.responsePrefix` is unset. Set it explicitly to customize or disableï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
the prefix (use `""` to remove it).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
### Number sourcing tipsï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- **Local eSIM** from your country's mobile carrier (most reliable)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - Austria: [hot.at](https://www.hot.at)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - UK: [giffgaff](https://www.giffgaff.com) â€” free SIM, no contractï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- **Prepaid SIM** â€” cheap, just needs to receive one SMS for verificationï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
**Avoid:** TextNow, Google Voice, most "free SMS" services â€” WhatsApp blocks these aggressively.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
**Tip:** The number only needs to receive one verification SMS. After that, WhatsApp Web sessions persist via `creds.json`.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Why Not Twilio?ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Early OpenClaw builds supported Twilioâ€™s WhatsApp Business integration.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- WhatsApp Business numbers are a poor fit for a personal assistant.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Meta enforces a 24â€‘hour reply window; if you havenâ€™t responded in the last 24 hours, the business number canâ€™t initiate new messages.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- High-volume or â€œchattyâ€ usage triggers aggressive blocking, because business accounts arenâ€™t meant to send dozens of personal assistant messages.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Result: unreliable delivery and frequent blocks, so support was removed.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Login + credentialsï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Login command: `openclaw channels login` (QR via Linked Devices).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Multi-account login: `openclaw channels login --account <id>` (`<id>` = `accountId`).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Default account (when `--account` is omitted): `default` if present, otherwise the first configured account id (sorted).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Credentials stored in `~/.openclaw/credentials/whatsapp/<accountId>/creds.json`.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Backup copy at `creds.json.bak` (restored on corruption).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Legacy compatibility: older installs stored Baileys files directly in `~/.openclaw/credentials/`.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Logout: `openclaw channels logout` (or `--account <id>`) deletes WhatsApp auth state (but keeps shared `oauth.json`).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Logged-out socket => error instructs re-link.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Inbound flow (DM + group)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- WhatsApp events come from `messages.upsert` (Baileys).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Inbox listeners are detached on shutdown to avoid accumulating event handlers in tests/restarts.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Status/broadcast chats are ignored.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Direct chats use E.164; groups use group JID.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- **DM policy**: `channels.whatsapp.dmPolicy` controls direct chat access (default: `pairing`).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - Pairing: unknown senders get a pairing code (approve via `openclaw pairing approve whatsapp <code>`; codes expire after 1 hour).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - Open: requires `channels.whatsapp.allowFrom` to include `"*"`.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - Your linked WhatsApp number is implicitly trusted, so self messages skip â `channels.whatsapp.dmPolicy` and `channels.whatsapp.allowFrom` checks.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
### Personal-number mode (fallback)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
If you run OpenClaw on your **personal WhatsApp number**, enable `channels.whatsapp.selfChatMode` (see sample above).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
Behavior:ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Outbound DMs never trigger pairing replies (prevents spamming contacts).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Inbound unknown senders still follow `channels.whatsapp.dmPolicy`.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Self-chat mode (allowFrom includes your number) avoids auto read receipts and ignores mention JIDs.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Read receipts sent for non-self-chat DMs.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Read receiptsï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
By default, the gateway marks inbound WhatsApp messages as read (blue ticks) once they are accepted.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
Disable globally:ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
```json5ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
{ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  channels: { whatsapp: { sendReadReceipts: false } },ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
}ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
```ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
Disable per account:ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
```json5ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
{ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  channels: {ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
    whatsapp: {ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
      accounts: {ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
        personal: { sendReadReceipts: false },ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
      },ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
    },ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  },ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
}ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
```ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
Notes:ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Self-chat mode always skips read receipts.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## WhatsApp FAQ: sending messages + pairingï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
**Will OpenClaw message random contacts when I link WhatsApp?**  ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
No. Default DM policy is **pairing**, so unknown senders only get a pairing code and their message is **not processed**. OpenClaw only replies to chats it receives, or to sends you explicitly trigger (agent/CLI).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
**How does pairing work on WhatsApp?**  ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
Pairing is a DM gate for unknown senders:ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- First DM from a new sender returns a short code (message is not processed).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Approve with: `openclaw pairing approve whatsapp <code>` (list with `openclaw pairing list whatsapp`).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Codes expire after 1 hour; pending requests are capped at 3 per channel.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
**Can multiple people use different OpenClaw instances on one WhatsApp number?**  ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
Yes, by routing each sender to a different agent via `bindings` (peer `kind: "direct"`, sender E.164 like `+15551234567`). Replies still come from the **same WhatsApp account**, and direct chats collapse to each agent's main session, so use **one agent per person**. DM access control (`dmPolicy`/`allowFrom`) is global per WhatsApp account. See [Multi-Agent Routing](/concepts/multi-agent).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
**Why do you ask for my phone number in the wizard?**  ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
The wizard uses it to set your **allowlist/owner** so your own DMs are permitted. Itâ€™s not used for auto-sending. If you run on your personal WhatsApp number, use that same number and enable `channels.whatsapp.selfChatMode`.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Message normalization (what the model sees)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `Body` is the current message body with envelope.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Quoted reply context is **always appended**:ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  ```ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  [Replying to +1555 id:ABC123]ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  <quoted text or <media:...>>ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  [/Replying]ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  ```ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Reply metadata also set:ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - `ReplyToId` = stanzaIdï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - `ReplyToBody` = quoted body or media placeholderï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - `ReplyToSender` = E.164 when knownï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Media-only inbound messages use placeholders:ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - `<media:image|video|audio|document|sticker>`ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Groupsï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Groups map to `agent:<agentId>:whatsapp:group:<jid>` sessions.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Group policy: `channels.whatsapp.groupPolicy = open|disabled|allowlist` (default `allowlist`).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Activation modes:ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - `mention` (default): requires @mention or regex match.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - `always`: always triggers.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `/activation mention|always` is owner-only and must be sent as a standalone message.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Owner = `channels.whatsapp.allowFrom` (or self E.164 if unset).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- **History injection** (pending-only):ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - Recent _unprocessed_ messages (default 50) inserted under:ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
    `[Chat messages since your last reply - for context]` (messages already in the session are not re-injected)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - Current message under:ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
    `[Current message - respond to this]`ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - Sender suffix appended: `[from: Name (+E164)]`ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Group metadata cached 5 min (subject + participants).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Reply delivery (threading)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- WhatsApp Web sends standard messages (no quoted reply threading in the current gateway).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Reply tags are ignored on this channel.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Acknowledgment reactions (auto-react on receipt)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
WhatsApp can automatically send emoji reactions to incoming messages immediately upon receipt, before the bot generates a reply. This provides instant feedback to users that their message was received.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
**Configuration:**ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
```jsonï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
{ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  "whatsapp": {ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
    "ackReaction": {ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
      "emoji": "ğŸ‘€",ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
      "direct": true,ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
      "group": "mentions"ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
    }ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  }ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
}ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
```ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
**Options:**ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `emoji` (string): Emoji to use for acknowledgment (e.g., "ğŸ‘€", "âœ…", "ğŸ“¨"). Empty or omitted = feature disabled.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `direct` (boolean, default: `true`): Send reactions in direct/DM chats.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `group` (string, default: `"mentions"`): Group chat behavior:ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - `"always"`: React to all group messages (even without @mention)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - `"mentions"`: React only when bot is @mentionedï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - `"never"`: Never react in groupsï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
**Per-account override:**ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
```jsonï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
{ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  "whatsapp": {ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
    "accounts": {ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
      "work": {ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
        "ackReaction": {ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
          "emoji": "âœ…",ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
          "direct": false,ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
          "group": "always"ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
        }ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
      }ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
    }ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  }ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
}ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
```ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
**Behavior notes:**ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Reactions are sent **immediately** upon message receipt, before typing indicators or bot replies.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- In groups with `requireMention: false` (activation: always), `group: "mentions"` will react to all messages (not just @mentions).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Fire-and-forget: reaction failures are logged but don't prevent the bot from replying.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Participant JID is automatically included for group reactions.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- WhatsApp ignores `messages.ackReaction`; use `channels.whatsapp.ackReaction` instead.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Agent tool (reactions)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Tool: `whatsapp` with `react` action (`chatJid`, `messageId`, `emoji`, optional `remove`).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Optional: `participant` (group sender), `fromMe` (reacting to your own message), `accountId` (multi-account).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Reaction removal semantics: see [/tools/reactions](/tools/reactions).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Tool gating: `channels.whatsapp.actions.reactions` (default: enabled).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Limitsï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Outbound text is chunked to `channels.whatsapp.textChunkLimit` (default 4000).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Optional newline chunking: set `channels.whatsapp.chunkMode="newline"` to split on blank lines (paragraph boundaries) before length chunking.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Inbound media saves are capped by `channels.whatsapp.mediaMaxMb` (default 50 MB).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Outbound media items are capped by `agents.defaults.mediaMaxMb` (default 5 MB).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Outbound send (text + media)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Uses active web listener; error if gateway not running.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Text chunking: 4k max per message (configurable via `channels.whatsapp.textChunkLimit`, optional `channels.whatsapp.chunkMode`).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Media:ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - Image/video/audio/document supported.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - Audio sent as PTT; `audio/ogg` => `audio/ogg; codecs=opus`.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - Caption only on first media item.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - Media fetch supports HTTP(S) and local paths.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - Animated GIFs: WhatsApp expects MP4 with `gifPlayback: true` for inline looping.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
    - CLI: `openclaw message send --media <mp4> --gif-playback`ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
    - Gateway: `send` params include `gifPlayback: true`ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Voice notes (PTT audio)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
WhatsApp sends audio as **voice notes** (PTT bubble).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Best results: OGG/Opus. OpenClaw rewrites `audio/ogg` to `audio/ogg; codecs=opus`.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `[[audio_as_voice]]` is ignored for WhatsApp (audio already ships as voice note).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Media limits + optimizationï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Default outbound cap: 5 MB (per media item).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Override: `agents.defaults.mediaMaxMb`.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Images are auto-optimized to JPEG under cap (resize + quality sweep).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Oversize media => error; media reply falls back to text warning.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Heartbeatsï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- **Gateway heartbeat** logs connection health (`web.heartbeatSeconds`, default 60s).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- **Agent heartbeat** can be configured per agent (`agents.list[].heartbeat`) or globallyï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  via `agents.defaults.heartbeat` (fallback when no per-agent entries are set).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - Uses the configured heartbeat prompt (default: `Read HEARTBEAT.md if it exists (workspace context). Follow it strictly. Do not infer or repeat old tasks from prior chats. If nothing needs attention, reply HEARTBEAT_OK.`) + `HEARTBEAT_OK` skip behavior.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - Delivery defaults to the last used channel (or configured target).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Reconnect behaviorï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Backoff policy: `web.reconnect`:ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  - `initialMs`, `maxMs`, `factor`, `jitter`, `maxAttempts`.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- If maxAttempts reached, web monitoring stops (degraded).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Logged-out => stop and require re-link.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Config quick mapï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `channels.whatsapp.dmPolicy` (DM policy: pairing/allowlist/open/disabled).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `channels.whatsapp.selfChatMode` (same-phone setup; bot uses your personal WhatsApp number).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `channels.whatsapp.allowFrom` (DM allowlist). WhatsApp uses E.164 phone numbers (no usernames).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `channels.whatsapp.mediaMaxMb` (inbound media save cap).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `channels.whatsapp.ackReaction` (auto-reaction on message receipt: `{emoji, direct, group}`).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `channels.whatsapp.accounts.<accountId>.*` (per-account settings + optional `authDir`).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `channels.whatsapp.accounts.<accountId>.mediaMaxMb` (per-account inbound media cap).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `channels.whatsapp.accounts.<accountId>.ackReaction` (per-account ack reaction override).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `channels.whatsapp.groupAllowFrom` (group sender allowlist).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `channels.whatsapp.groupPolicy` (group policy).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `channels.whatsapp.historyLimit` / `channels.whatsapp.accounts.<accountId>.historyLimit` (group history context; `0` disables).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `channels.whatsapp.dmHistoryLimit` (DM history limit in user turns). Per-user overrides: `channels.whatsapp.dms["<phone>"].historyLimit`.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `channels.whatsapp.groups` (group allowlist + mention gating defaults; use `"*"` to allow all)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `channels.whatsapp.actions.reactions` (gate WhatsApp tool reactions).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `agents.list[].groupChat.mentionPatterns` (or `messages.groupChat.mentionPatterns`)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `messages.groupChat.historyLimit`ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `channels.whatsapp.messagePrefix` (inbound prefix; per-account: `channels.whatsapp.accounts.<accountId>.messagePrefix`; deprecated: `messages.messagePrefix`)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `messages.responsePrefix` (outbound prefix)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `agents.defaults.mediaMaxMb`ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `agents.defaults.heartbeat.every`ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `agents.defaults.heartbeat.model` (optional override)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `agents.defaults.heartbeat.target`ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `agents.defaults.heartbeat.to`ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `agents.defaults.heartbeat.session`ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `agents.list[].heartbeat.*` (per-agent overrides)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `session.*` (scope, idle, store, mainKey)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `web.enabled` (disable channel startup when false)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `web.heartbeatSeconds`ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- `web.reconnect.*`ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Logs + troubleshootingï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Subsystems: `whatsapp/inbound`, `whatsapp/outbound`, `web-heartbeat`, `web-reconnect`.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Log file: `/tmp/openclaw/openclaw-YYYY-MM-DD.log` (configurable).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Troubleshooting guide: [Gateway troubleshooting](/gateway/troubleshooting).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
## Troubleshooting (quick)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
**Not linked / QR login required**ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Symptom: `channels status` shows `linked: false` or warns â€œNot linkedâ€.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Fix: run `openclaw channels login` on the gateway host and scan the QR (WhatsApp â†’ Settings â†’ Linked Devices).ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
**Linked but disconnected / reconnect loop**ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Symptom: `channels status` shows `running, disconnected` or warns â€œLinked but disconnectedâ€.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Fix: `openclaw doctor` (or restart the gateway). If it persists, relink via `channels login` and inspect `openclaw logs --follow`.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
**Bun runtime**ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
- Bun is **not recommended**. WhatsApp (Baileys) and Telegram are unreliable on Bun.ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰
  Run the gateway with **Node**. (See Getting Started runtime note.)ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰ï¼ˆè½‰ç‚ºç¹é«”ä¸­æ–‡ï¼‰

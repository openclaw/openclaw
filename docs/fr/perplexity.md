---
summary: "Configuration de Perplexity Sonar pour web_search"
read_when:
  - Vous souhaitez utiliser Perplexity Sonar pour la recherche Web
  - Vous avez besoin de PERPLEXITY_API_KEY ou d’une configuration OpenRouter
title: "Perplexity Sonar"
---

# Perplexity Sonar

OpenClaw peut utiliser Perplexity Sonar pour l’outil `web_search`. Vous pouvez vous connecter
via l’API directe de Perplexity ou via OpenRouter.

## Options d’API

### Perplexity (direct)

- URL de base : https://api.perplexity.ai
- Variable d’environnement : `PERPLEXITY_API_KEY`

### OpenRouter (alternative)

- URL de base : https://openrouter.ai/api/v1
- Variable d’environnement : `OPENROUTER_API_KEY`
- Prend en charge des crédits prépayés/crypto.

## Exemple de configuration

```json5
{
  tools: {
    web: {
      search: {
        provider: "perplexity",
        perplexity: {
          apiKey: "pplx-...",
          baseUrl: "https://api.perplexity.ai",
          model: "perplexity/sonar-pro",
        },
      },
    },
  },
}
```

## Passer de Brave

```json5
{
  tools: {
    web: {
      search: {
        provider: "perplexity",
        perplexity: {
          apiKey: "pplx-...",
          baseUrl: "https://api.perplexity.ai",
        },
      },
    },
  },
}
```

Si `PERPLEXITY_API_KEY` et `OPENROUTER_API_KEY` sont tous deux définis, définissez
`tools.web.search.perplexity.baseUrl` (ou `tools.web.search.perplexity.apiKey`)
pour lever l’ambiguïté.

Si aucune URL de base n’est définie, OpenClaw choisit une valeur par défaut en fonction de la source de la clé API :

- `PERPLEXITY_API_KEY` ou `pplx-...` → Perplexity direct (`https://api.perplexity.ai`)
- `OPENROUTER_API_KEY` ou `sk-or-...` → OpenRouter (`https://openrouter.ai/api/v1`)
- Formats de clé inconnus → OpenRouter (repli sûr)

## Modèles

- `perplexity/sonar` — questions-réponses rapides avec recherche Web
- `perplexity/sonar-pro` (par défaut) — raisonnement en plusieurs étapes + recherche Web
- `perplexity/sonar-reasoning-pro` — recherche approfondie

Voir [Outils Web](/tools/web) pour la configuration complète de web_search.

---
summary: "أعلام التشخيص لسجلات تصحيح الأخطاء المستهدفة"
read_when:
  - تحتاج إلى سجلات تصحيح أخطاء مستهدفة دون رفع مستويات التسجيل العامة
  - تحتاج إلى التقاط سجلات خاصة بأنظمة فرعية لأغراض الدعم
title: "أعلام التشخيص"
---

# أعلام التشخيص

تتيح أعلام التشخيص تمكين سجلات تصحيح أخطاء مستهدفة دون تشغيل التسجيل التفصيلي في كل مكان. هذه الأعلام اختيارية ولا يكون لها أي تأثير ما لم يتحقق منها نظام فرعي.

## كيف يعمل

- الأعلام عبارة عن سلاسل نصية (غير حسّاسة لحالة الأحرف).
- يمكنك تمكين الأعلام في التهيئة أو عبر تجاوز من متغيرات البيئة.
- يتم دعم أحرف البدل:
  - `telegram.*` يطابق `telegram.http`
  - `*` يفعّل جميع الأعلام

## التمكين عبر التهيئة

```json
{
  "diagnostics": {
    "flags": ["telegram.http"]
  }
}
```

أعلام متعددة:

```json
{
  "diagnostics": {
    "flags": ["telegram.http", "gateway.*"]
  }
}
```

أعد تشغيل Gateway (البوابة) بعد تغيير الأعلام.

## تجاوز Env (لمرة واحدة)

```bash
OPENCLAW_DIAGNOSTICS=telegram.http,telegram.payload
```

تعطيل جميع الأعلام:

```bash
OPENCLAW_DIAGNOSTICS=0
```

## أين تذهب السجلات

تُصدِر الأعلام السجلات إلى ملف سجلات التشخيص القياسي. افتراضيًا:

```
/tmp/openclaw/openclaw-YYYY-MM-DD.log
```

إذا قمت بتعيين `logging.file`، فاستخدم هذا المسار بدلًا من ذلك. تكون السجلات بصيغة JSONL (كائن JSON واحد لكل سطر). لا يزال تطبيق التنقيح قائمًا استنادًا إلى `logging.redactSensitive`.

## استخراج السجلات

اختر أحدث ملف سجلات:

```bash
ls -t /tmp/openclaw/openclaw-*.log | head -n 1
```

التصفية لتشخيصات HTTP الخاصة بـ Telegram:

```bash
rg "telegram http error" /tmp/openclaw/openclaw-*.log
```

أو المتابعة اللحظية أثناء إعادة الإنتاج:

```bash
tail -f /tmp/openclaw/openclaw-$(date +%F).log | rg "telegram http error"
```

بالنسبة إلى بوابات Gateway البعيدة، يمكنك أيضًا استخدام `openclaw logs --follow` (انظر [/cli/logs](/cli/logs)).

## ملاحظات

- إذا كانت قيمة `logging.level` أعلى من `warn`، فقد يتم كتم هذه السجلات. الإعداد الافتراضي `info` مناسب.
- من الآمن ترك الأعلام مفعّلة؛ فهي تؤثر فقط في حجم السجلات للنظام الفرعي المحدد.
- استخدم [/logging](/logging) لتغيير وجهات السجلات، والمستويات، والتنقيح.

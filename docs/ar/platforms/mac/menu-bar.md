---
summary: "ููุทู ุญุงูุฉ ุดุฑูุท ุงูููุงุฆู ููุง ุงูุฐู ูุธูุฑ ูููุณุชุฎุฏููู"
read_when:
  - ุชุนุฏูู ูุงุฌูุฉ ุฃู ููุทู ุญุงูุฉ ุดุฑูุท ุงูููุงุฆู ุนูู mac
title: "ุดุฑูุท ุงูููุงุฆู"
---

# ููุทู ุญุงูุฉ ุดุฑูุท ุงูููุงุฆู

## ูุง ุงูุฐู ูุชู ุนุฑุถู

- ูุนุฑุถ ุญุงูุฉ ุนูู ุงููููู ุงูุญุงููุฉ ูู ุฃููููุฉ ุดุฑูุท ุงูููุงุฆู ููู ุตู ุงูุญุงูุฉ ุงูุฃูู ุฏุงุฎู ุงููุงุฆูุฉ.
- ูุชู ุฅุฎูุงุก ุญุงูุฉ ุงูุตุญุฉ ุฃุซูุงุก ูุฌูุฏ ุนูู ูุดุทุ ูุชุนูุฏ ููุธููุฑ ุนูุฏูุง ุชุตุจุญ ุฌููุน ุงูุฌูุณุงุช ูู ูุถุน ุงูุฎููู.
- ุชุณุฑุฏ ูุชูุฉ ยซNodesยป ูู ุงููุงุฆูุฉ **ุงูุฃุฌูุฒุฉ** ููุท (ุงูุนููุฏ ุงูููุชุฑูุฉ ุนุจุฑ `node.list`)ุ ูููุณ ุฅุฏุฎุงูุงุช ุงูุนููู/ุงูุญุถูุฑ.
- ูุธูุฑ ูุณู ยซUsageยป ุถูู ยซContextยป ุนูุฏูุง ุชุชููุฑ ููุทุงุช ูุงุณุชุฎุฏุงู ุงูููููุฑ.

## ูููุฐุฌ ุงูุญุงูุฉ

- ุงูุฌูุณุงุช: ุชุตู ุงูุฃุญุฏุงุซ ูุน `runId` (ููู ุชุดุบูู) ุฅุถุงูุฉู ุฅูู `sessionKey` ูู ุงูุญูููุฉ. ุงูุฌูุณุฉ ยซุงูุฑุฆูุณูุฉยป ูู ุงูููุชุงุญ `main`ุ ูุฅุฐุง ูุงูุช ุบุงุฆุจุฉุ ูุนูุฏ ุฅูู ุฃุญุฏุซ ุฌูุณุฉ ุชู ุชุญุฏูุซูุง.
- ุงูุฃููููุฉ: ุงูุฌูุณุฉ ุงูุฑุฆูุณูุฉ ุชููุฒ ุฏุงุฆููุง. ุฅุฐุง ูุงูุช ุงูุฑุฆูุณูุฉ ูุดุทุฉุ ุชูุนุฑุถ ุญุงูุชูุง ููุฑูุง. ุฅุฐุง ูุงูุช ุงูุฑุฆูุณูุฉ ุฎุงููุฉุ ุชูุนุฑุถ ุฃุญุฏุซ ุฌูุณุฉ ุบูุฑ ุฑุฆูุณูุฉ ูุงูุช ูุดุทุฉ. ูุง ูููู ุจุงูุชุจุฏูู ุงููุชูุฑุฑ ุฃุซูุงุก ุงููุดุงุทุ ูุจุฏูู ููุท ุนูุฏูุง ุชุตุจุญ ุงูุฌูุณุฉ ุงูุญุงููุฉ ุฎุงููุฉ ุฃู ุนูุฏูุง ุชุตุจุญ ุงูุฌูุณุฉ ุงูุฑุฆูุณูุฉ ูุดุทุฉ.
- ุฃููุงุน ุงููุดุงุท:
  - `job`: ุชูููุฐ ุฃูุงูุฑ ุนุงููุฉ ุงููุณุชูู (`state: started|streaming|done|error`).
  - `tool`: `phase: start|result` ูุน `toolName` ู `meta/args`.

## ุชุนุฏุงุฏ IconState (Swift)

- `idle`
- `workingMain(ActivityKind)`
- `workingOther(ActivityKind)`
- `overridden(ActivityKind)` (ุชุฌุงูุฒ ุชุตุญูุญู)

### ActivityKind โ ุงูุฑูุฒ

- `exec` โ ๐ป
- `read` โ ๐
- `write` โ โ๏ธ
- `edit` โ ๐
- `attach` โ ๐
- ุงูุงูุชุฑุงุถู โ ๐๏ธ

### ุฑุณู ุงูุฎุฑุงุฆุท ุงูุจุตุฑูุฉ

- `idle`: ูุงุฆู ุนุงุฏู.
- `workingMain`: ุดุงุฑุฉ ูุน ุฑูุฒุ ุชูููู ูุงููุ ุญุฑูุฉ ยซุนููยป ููุฃุฑุฌู.
- `workingOther`: ุดุงุฑุฉ ูุน ุฑูุฒุ ุชูููู ูุฎููุ ุฏูู ุญุฑูุฉ.
- `overridden`: ูุณุชุฎุฏู ุงูุฑูุฒ/ุงูุชูููู ุงููุฎุชุงุฑ ุจุบุถู ุงููุธุฑ ุนู ุงููุดุงุท.

## ูุต ุตู ุงูุญุงูุฉ (ุงููุงุฆูุฉ)

- ุฃุซูุงุก ูุฌูุฏ ุนูู ูุดุท: `<Session role> ยท <activity label>`
  - ุฃูุซูุฉ: `Main ยท exec: pnpm test`ุ `Other ยท read: apps/macos/Sources/OpenClaw/AppState.swift`.
- ุนูุฏ ุงูุฎููู: ูุนูุฏ ุฅูู ููุฎุต ุงูุตุญุฉ.

## ุงุณุชูุนุงุจ ุงูุฃุญุฏุงุซ

- ุงููุตุฏุฑ: ุฃุญุฏุงุซ ููุงุฉ ุงูุชุญูู `agent` (`ControlChannel.handleAgentEvent`).
- ุงูุญููู ุงูููุญููููุฉ:
  - `stream: "job"` ูุน `data.state` ููุจุฏุงูุฉ/ุงูุฅููุงู.
  - `stream: "tool"` ูุน `data.phase`ุ `name`ุ ู `meta`/`args` ุงูุงุฎุชูุงุฑูุฉ.
- ุงูุชุณููุงุช:
  - `exec`: ุงูุณุทุฑ ุงูุฃูู ูู `args.command`.
  - `read`/`write`: ูุณุงุฑ ูุฎุชุตุฑ.
  - `edit`: ูุณุงุฑ ูุน ููุน ุงูุชุบููุฑ ุงูููุณุชูุชูุฌ ูู `meta`/ุนุฏูุงุฏุงุช ุงููุฑูู.
  - ุงูุจุฏูู: ุงุณู ุงูุฃุฏุงุฉ.

## Debug override

- ุงูุฅุนุฏุงุฏุงุช โธ Debug โธ ูููุชูู ยซIcon overrideยป:
  - `System (auto)` (ุงูุงูุชุฑุงุถู)
  - `Working: main` (ููู ููุน ุฃุฏุงุฉ)
  - `Working: other` (ููู ููุน ุฃุฏุงุฉ)
  - `Idle`
- ูุชู ุงูุชุฎุฒูู ุนุจุฑ `@AppStorage("iconOverride")`ุ ูููุฑุจุท ุจู `IconState.overridden`.

## ูุงุฆูุฉ ุงูุชุญูู ููุงุฎุชุจุงุฑ

- ุชุดุบูู ูููุฉ ููุฌูุณุฉ ุงูุฑุฆูุณูุฉ: ุงูุชุญูู ูู ุชุจุฏูู ุงูุฃููููุฉ ููุฑูุง ูุนุฑุถ ุชุณููุฉ ุงูุฑุฆูุณูุฉ ูู ุตู ุงูุญุงูุฉ.
- ุชุดุบูู ูููุฉ ูุฌูุณุฉ ุบูุฑ ุฑุฆูุณูุฉ ุจูููุง ุงูุฑุฆูุณูุฉ ุฎุงููุฉ: ุชูุธูุฑ ุงูุฃููููุฉ/ุงูุญุงูุฉ ุบูุฑ ุงูุฑุฆูุณูุฉุ ูุชุจูู ูุณุชูุฑุฉ ุญุชู ุชูุชูู.
- ุจุฏุก ุงูุฑุฆูุณูุฉ ุจูููุง ุฃุฎุฑู ูุดุทุฉ: ุชูููุจ ุงูุฃููููุฉ ุฅูู ุงูุฑุฆูุณูุฉ ููุฑูุง.
- ุฏูุนุงุช ุฃุฏูุงุช ุณุฑูุนุฉ: ุงูุชุฃูุฏ ูู ุฃู ุงูุดุงุฑุฉ ูุง ุชููุถ (ูููุฉ TTL ููุชุงุฆุฌ ุงูุฃุฏูุงุช).
- ุนูุฏุฉ ุตู ุงูุตุญุฉ ููุธููุฑ ุจูุฌุฑุฏ ุฃู ุชุตุจุญ ุฌููุน ุงูุฌูุณุงุช ุฎุงููุฉ.

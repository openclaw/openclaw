---
summary: "واجهة طرفية (TUI): الاتصال بـ Gateway من أي جهاز"
read_when:
  - تريد دليلًا مبسّطًا للمبتدئين لاستخدام TUI
  - تحتاج إلى القائمة الكاملة لميزات TUI والأوامر والاختصارات
title: "TUI"
---

# TUI (واجهة المستخدم الطرفية)

## البدء السريع

1. شغّل Gateway.

```bash
openclaw gateway
```

2. افتح TUI.

```bash
openclaw tui
```

3. اكتب رسالة واضغط Enter.

Gateway بعيد:

```bash
openclaw tui --url ws://<host>:<port> --token <gateway-token>
```

استخدم `--password` إذا كان Gateway لديك يستخدم مصادقة بكلمة مرور.

## ما الذي تراه

- الترويسة: عنوان URL للاتصال، الوكيل الحالي، الجلسة الحالية.
- سجل الدردشة: رسائل المستخدم، ردود المساعد، إشعارات النظام، بطاقات الأدوات.
- سطر الحالة: حالة الاتصال/التشغيل (جارٍ الاتصال، يعمل، بثّ، خامل، خطأ).
- التذييل: حالة الاتصال + الوكيل + الجلسة + النموذج + التفكير/التفصيل/الاستدلال + عدّادات الرموز + التسليم.
- الإدخال: محرّر نص مع إكمال تلقائي.

## النموذج الذهني: الوكلاء + الجلسات

- الوكلاء هم مُعرِّفات فريدة (مثل `main`، `research`). يعرض Gateway القائمة.
- الجلسات تنتمي إلى الوكيل الحالي.
- تُخزَّن مفاتيح الجلسات كـ `agent:<agentId>:<sessionKey>`.
  - إذا كتبت `/session main`، تقوم TUI بتوسيعه إلى `agent:<currentAgent>:main`.
  - إذا كتبت `/session agent:other:main`، فإنك تنتقل صراحةً إلى جلسة ذلك الوكيل.
- نطاق الجلسة:
  - `per-sender` (الافتراضي): لكل وكيل عدة جلسات.
  - `global`: تستخدم TUI دائمًا جلسة `global` (قد يكون المنتقي فارغًا).
- يظهر الوكيل + الجلسة الحاليان دائمًا في التذييل.

## الإرسال + التسليم

- تُرسل الرسائل إلى Gateway؛ ويكون التسليم إلى الموفّرين مُعطّلًا افتراضيًا.
- لتشغيل التسليم:
  - `/deliver on`
  - أو لوحة الإعدادات
  - أو البدء باستخدام `openclaw tui --deliver`

## المنتقيات + التراكبات

- منتقي النماذج: يسرد النماذج المتاحة ويضبط تجاوز الجلسة.
- منتقي الوكلاء: اختر وكيلًا مختلفًا.
- منتقي الجلسات: يعرض الجلسات الخاصة بالوكيل الحالي فقط.
- الإعدادات: تبديل التسليم، وتوسيع مخرجات الأدوات، وإظهار التفكير.

## اختصارات لوحة المفاتيح

- Enter: إرسال الرسالة
- Esc: إيقاف التشغيل النشط
- Ctrl+C: مسح الإدخال (اضغط مرتين للخروج)
- Ctrl+D: خروج
- Ctrl+L: منتقي النماذج
- Ctrl+G: منتقي الوكلاء
- Ctrl+P: منتقي الجلسات
- Ctrl+O: تبديل توسيع مخرجات الأدوات
- Ctrl+T: تبديل إظهار التفكير (يعيد تحميل السجل)

## tools/slash-commands.md

الأساسية:

- `/help`
- `/status`
- `/agent <id>` (أو `/agents`)
- `/session <key>` (أو `/sessions`)
- `/model <provider/model>` (أو `/models`)

التحكم في الجلسة:

- `/think <off|minimal|low|medium|high>`
- `/verbose <on|full|off>`
- `/reasoning <on|off|stream>`
- `/usage <off|tokens|full>`
- `/elevated <on|off|ask|full>` (اسم بديل: `/elev`)
- `/activation <mention|always>`
- `/deliver <on|off>`

دورة حياة الجلسة:

- `/new` أو `/reset` (إعادة ضبط الجلسة)
- `/abort` (إيقاف التشغيل النشط)
- `/settings`
- `/exit`

تُمرَّر أوامر الشرطة المائلة الأخرى الخاصة بـ Gateway (مثل `/context`) إلى Gateway وتُعرض كمخرجات نظام. انظر [Slash commands](/tools/slash-commands).

## أوامر الصدفة المحلية

- أضِف بادئة `!` إلى السطر لتشغيل أمر صدفة محلي على مضيف TUI.
- تطلب TUI الإذن مرة واحدة لكل جلسة للسماح بالتنفيذ المحلي؛ ويؤدي الرفض إلى إبقاء `!` معطّلًا للجلسة.
- تُشغَّل الأوامر في صدفة جديدة غير تفاعلية ضمن دليل عمل TUI (من دون `cd`/env دائم).
- يُرسل `!` وحده كرسالة عادية؛ ولا تؤدي المسافات البادئة إلى تفعيل التنفيذ المحلي.

## مخرجات الأدوات

- تظهر استدعاءات الأدوات كبطاقات تتضمن الوسائط + النتائج.
- يبدّل Ctrl+O بين العرضين المطوي/الموسّع.
- أثناء تشغيل الأدوات، تُبثّ التحديثات الجزئية إلى البطاقة نفسها.

## السجل + البث

- عند الاتصال، تحمّل TUI أحدث سجل (الافتراضي 200 رسالة).
- تُحدَّث الاستجابات المتدفقة في مكانها حتى الاكتمال.
- تستمع TUI أيضًا إلى أحداث أدوات الوكيل لعرض بطاقات أدوات أغنى.

## تفاصيل الاتصال

- تُسجِّل TUI نفسها لدى Gateway باسم `mode: "tui"`.
- يظهر عند إعادة الاتصال إشعار نظام؛ وتُبرز فجوات الأحداث في السجل.

## الخيارات

- `--url <url>`: عنوان WebSocket لـ Gateway (الافتراضي من التهيئة أو `ws://127.0.0.1:<port>`)
- `--token <token>`: رمز Gateway (إن لزم)
- `--password <password>`: كلمة مرور Gateway (إن لزم)
- `--session <key>`: مفتاح الجلسة (الافتراضي: `main`، أو `global` عندما يكون النطاق عامًا)
- `--deliver`: تسليم ردود المساعد إلى الموفّر (مُعطّل افتراضيًا)
- `--thinking <level>`: تجاوز مستوى التفكير عند الإرسال
- `--timeout-ms <ms>`: مهلة الوكيل بالميلي ثانية (الافتراضي `agents.defaults.timeoutSeconds`)

ملاحظة: عند تعيين `--url`، لا تعود TUI إلى التهيئة أو بيانات اعتماد متغيرات البيئة.
مرِّر `--token` أو `--password` صراحةً. يُعد غياب بيانات الاعتماد الصريحة خطأً.

## استكشاف الأخطاء وإصلاحها

لا يوجد مخرجات بعد إرسال رسالة:

- شغّل `/status` في TUI لتأكيد اتصال Gateway وحالته (خامل/مشغول).
- تحقّق من سجلات Gateway: `openclaw logs --follow`.
- أكِّد أن الوكيل قادر على التشغيل: `openclaw status` و `openclaw models status`.
- إذا كنت تتوقع رسائل في قناة دردشة، فعِّل التسليم (`/deliver on` أو `--deliver`).
- `--history-limit <n>`: عدد إدخالات السجل المطلوب تحميلها (الافتراضي 200)

## استكشاف أخطاء الاتصال

- `disconnected`: تأكّد من أن Gateway يعمل وأن `--url/--token/--password` لديك صحيحة.
- لا يوجد وكلاء في المنتقي: تحقّق من `openclaw agents list` وتهيئة التوجيه لديك.
- منتقي الجلسات فارغ: قد تكون في النطاق العام أو لا توجد جلسات بعد.

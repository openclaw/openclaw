---
summary: "ุฌููุน ุฎูุงุฑุงุช ุงูุชููุฆุฉ ูู ~/.openclaw/openclaw.json ูุน ุฃูุซูุฉ"
read_when:
  - ุฅุถุงูุฉ ุฃู ุชุนุฏูู ุญููู ุงูุชููุฆุฉ
title: "ุงูุชููุฆุฉ"
---

# ุงูุชููุฆุฉ ๐ง

ููุฑุฃ OpenClaw ููู ุชููุฆุฉ **JSON5** ุงุฎุชูุงุฑููุง ูู `~/.openclaw/openclaw.json` (ุชูุณูุญ ุงูุชุนูููุงุช ูุงูููุงุตู ุงููุงุญูุฉ).

ุฅุฐุง ูุงู ุงูููู ููููุฏูุงุ ูุณุชุฎุฏู OpenClaw ุฅุนุฏุงุฏุงุช ุงูุชุฑุงุถูุฉ ยซุขููุฉ ุฅูู ุญุฏูู ูุงยป (ูููู Pi ููุถูููู + ุฌูุณุงุช ููู ููุฑุณูู + ูุณุงุญุฉ ุนูู `~/.openclaw/workspace`). ุนุงุฏุฉู ูุง ุชุญุชุงุฌ ุฅูู ููู ุชููุฆุฉ ุฅูุง ูู ุฃุฌู:

- ุชูููุฏ ูู ููููู ุชุดุบูู ุงูุจูุช (`channels.whatsapp.allowFrom`ุ `channels.telegram.allowFrom`ุ ุฅูุฎ)
- ุงูุชุญููู ูู ููุงุฆู ุงูุณูุงุญ ูููุฌููุนุงุช ูุณููู ุงูุฅุดุงุฑุงุช (`channels.whatsapp.groups`ุ `channels.telegram.groups`ุ `channels.discord.guilds`ุ `agents.list[].groupChat`)
- ุชุฎุตูุต ุจุงุฏุฆุงุช ุงูุฑุณุงุฆู (`messages`)
- ุชุนููู ูุณุงุญุฉ ุนูู ุงููููู (`agents.defaults.workspace` ุฃู `agents.list[].workspace`)
- ุถุจุท ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ ูููููู ุงูููุถูููู (`agents.defaults`) ูุณููู ุงูุฌูุณุงุช (`session`)
- ุชุนููู ูููุฉ ููู ูููู (`agents.list[].identity`)

> **ุฌุฏูุฏ ุนูู ุงูุชููุฆุฉุ** ุงุทููุน ุนูู ุฏููู [ุฃูุซูุฉ ุงูุชููุฆุฉ](/gateway/configuration-examples) ููุญุตูู ุนูู ุฃูุซูุฉ ูุงููุฉ ูุน ุดุฑูุญ ููุตููุฉ!

## ุงูุชุญูู ุงูุตุงุฑู ูู ุงูุชูููู

ูุง ููุจู OpenClaw ุฅูุง ุงูุชููุฆุงุช ุงูุชู ุชุทุงุจู ุงููุฎุทุท ุจุงููุงูู.
ุงูููุงุชูุญ ุบูุฑ ุงููุนุฑููุฉุ ุฃู ุงูุฃููุงุน ุบูุฑ ุงูุตุญูุญุฉุ ุฃู ุงูููู ุบูุฑ ุงูุตุงูุญุฉ ุชุฌุนู Gateway **ูุฑูุถ ุงูุจุฏุก** ุญูุงุธูุง ุนูู ุงูุฃูุงู.

ุนูุฏ ูุดู ุงูุชุญููู:

- ูุง ูุจุฏุฃ Gateway.
- ููุณูุญ ููุท ุจุฃูุงูุฑ ุงูุชุดุฎูุต (ุนูู ุณุจูู ุงููุซุงู: `openclaw doctor`ุ `openclaw logs`ุ `openclaw health`ุ `openclaw status`ุ `openclaw service`ุ `openclaw help`).
- ุดุบูู `openclaw doctor` ูุนุฑุถ ุงููุดููุงุช ุจุฏููุฉ.
- ุดุบูู `openclaw doctor --fix` (ุฃู `--yes`) ูุชุทุจูู ุนูููุงุช ุงูุชุฑุญูู/ุงูุฅุตูุงุญ.

ูุง ููุชุจ Doctor ุฃู ุชุบููุฑุงุช ุฅูุง ุฅุฐุง ุงุฎุชุฑุช ุตุฑุงุญุฉู `--fix`/`--yes`.

## ุงููุฎุทุท + ุชูููุญุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู

ูุนุฑุถ Gateway ุชูุซูู JSON Schema ููุชููุฆุฉ ุนุจุฑ `config.schema` ููุญุฑูุฑุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู.
ุชุนุฑุถ ูุงุฌูุฉ ุงูุชุญูู ูููุฐุฌูุง ูุจูููุง ุนูู ูุฐุง ุงููุฎุทุทุ ูุน ูุญุฑูุฑ **Raw JSON** ูุฎูุงุฑ ุทูุงุฑุฆ.

ูููู ูุฅุถุงูุงุช ุงููููุงุช ูุงูุงูุชุฏุงุฏุงุช ุชุณุฌูู ูุฎุทุท + ุชูููุญุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุชููุฆุชูุงุ ุจุญูุซ ุชุจูู ุฅุนุฏุงุฏุงุช ุงููููุงุช ูุงุฆูุฉ ุนูู ุงููุฎุทุท ุนุจุฑ ุงูุชุทุจููุงุช ุฏูู ููุงุฐุฌ ููุดููุฑุฉ ูุฏูููุง.

ุชูุฑููู ุงูุชูููุญุงุช (ุงูุชุณููุงุชุ ุงูุชุฌููุนุ ุงูุญููู ุงูุญุณูุงุณุฉ) ูุน ุงููุฎุทุท ูู ุชุชูููู ุงูุนููุงุก ูู ุนุฑุถ ููุงุฐุฌ ุฃูุถู ุฏูู ูุนุฑูุฉ ููุณุจูุฉ ุจุงูุชููุฆุฉ.

## ุงูุชุทุจูู + ุฅุนุงุฏุฉ ุงูุชุดุบูู (RPC)

ุงุณุชุฎุฏู `config.apply` ููุชุญููู ููุชุงุจุฉ ุงูุชููุฆุฉ ูุงููุฉู ูุฅุนุงุฏุฉ ุชุดุบูู Gateway ูู ุฎุทูุฉ ูุงุญุฏุฉ.
ููุชุจ ุฅุดุงุฑุฉ ุฅุนุงุฏุฉ ุชุดุบูู ูููุฌุฑู ุชูุจูููุง ูุขุฎุฑ ุฌูุณุฉ ูุดุทุฉ ุจุนุฏ ุนูุฏุฉ Gateway.

ุชุญุฐูุฑ: ูุณุชุจุฏู `config.apply` **ุงูุชููุฆุฉ ุจุงููุงูู**. ุฅุฐุง ุฃุฑุฏุช ุชุบููุฑ ููุงุชูุญ ููููุฉ ููุทุ
ูุงุณุชุฎุฏู `config.patch` ุฃู `openclaw config set`. ุงุญุชููุธ ุจูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู `~/.openclaw/openclaw.json`.

Params:

- `raw` (string) โ ุญูููุฉ JSON5 ููุงูู ุงูุชููุฆุฉ
- `baseHash` (ุงุฎุชูุงุฑู) โ ุชุฌุฒุฆุฉ ุงูุชููุฆุฉ ูู `config.get` (ูุทููุจุฉ ุนูุฏ ูุฌูุฏ ุชููุฆุฉ ูุณุจููุง)
- `sessionKey` (ุงุฎุชูุงุฑู) โ ููุชุงุญ ุขุฎุฑ ุฌูุณุฉ ูุดุทุฉ ูุชูุจูู ุงูุงุณุชููุงุธ
- `note` (ุงุฎุชูุงุฑู) โ ููุงุญุธุฉ ูุฅุฏุฑุงุฌูุง ูู ุฅุดุงุฑุฉ ุฅุนุงุฏุฉ ุงูุชุดุบูู
- `restartDelayMs` (ุงุฎุชูุงุฑู) โ ูููุฉ ูุจู ุฅุนุงุฏุฉ ุงูุชุดุบูู (ุงูุงูุชุฑุงุถู 2000)

ูุซุงู (ุนุจุฑ `gateway call`):

```bash
openclaw gateway call config.get --params '{}' # capture payload.hash
openclaw gateway call config.apply --params '{
  "raw": "{\\n  agents: { defaults: { workspace: \\"~/.openclaw/workspace\\" } }\\n}\\n",
  "baseHash": "<hash-from-config.get>",
  "sessionKey": "agent:main:whatsapp:dm:+15555550123",
  "restartDelayMs": 1000
}'
```

## ุงูุชุญุฏูุซุงุช ุงูุฌุฒุฆูุฉ (RPC)

ุงุณุชุฎุฏู `config.patch` ูุฏูุฌ ุชุญุฏูุซ ุฌุฒุฆู ูู ุงูุชููุฆุฉ ุงูุญุงููุฉ ุฏูู ุงููุชุงุจุฉ ููู
ุงูููุงุชูุญ ุบูุฑ ุฐุงุช ุงูุตูุฉ. ูุทุจูู ุฏูุงูุงุช JSON merge patch:

- ุชูุฏูุฌ ุงููุงุฆูุงุช ุชูุฑุงุฑููุง
- `null` ูุญุฐู ููุชุงุญูุง
- ุชูุณุชุจุฏู ุงููุตูููุงุช
  ูููุง ูู `config.apply`ุ ูุชู ุงูุชุญููู ููุชุงุจุฉ ุงูุชููุฆุฉ ูุชุฎุฒูู ุฅุดุงุฑุฉ ุฅุนุงุฏุฉ ุงูุชุดุบูู ูุฌุฏููุฉ
  ุฅุนุงุฏุฉ ุชุดุบูู Gateway (ูุน ุชูุจูู ุงุฎุชูุงุฑู ุนูุฏ ุชูููุฑ `sessionKey`).

Params:

- `raw` (string) โ ุญูููุฉ JSON5 ุชุญุชูู ููุท ุงูููุงุชูุญ ุงููุฑุงุฏ ุชุบููุฑูุง
- `baseHash` (ูุทููุจ) โ ุชุฌุฒุฆุฉ ุงูุชููุฆุฉ ูู `config.get`
- `sessionKey` (ุงุฎุชูุงุฑู) โ ููุชุงุญ ุขุฎุฑ ุฌูุณุฉ ูุดุทุฉ ูุชูุจูู ุงูุงุณุชููุงุธ
- `note` (ุงุฎุชูุงุฑู) โ ููุงุญุธุฉ ูุฅุฏุฑุงุฌูุง ูู ุฅุดุงุฑุฉ ุฅุนุงุฏุฉ ุงูุชุดุบูู
- `restartDelayMs` (ุงุฎุชูุงุฑู) โ ูููุฉ ูุจู ุฅุนุงุฏุฉ ุงูุชุดุบูู (ุงูุงูุชุฑุงุถู 2000)

ูุซุงู:

```bash
openclaw gateway call config.get --params '{}' # capture payload.hash
openclaw gateway call config.patch --params '{
  "raw": "{\\n  channels: { telegram: { groups: { \\"*\\": { requireMention: false } } } }\\n}\\n",
  "baseHash": "<hash-from-config.get>",
  "sessionKey": "agent:main:whatsapp:dm:+15555550123",
  "restartDelayMs": 1000
}'
```

## ุฃูู ุชููุฆุฉ ููููุฉ (ููุทุฉ ุจุฏุก ูููุตู ุจูุง)

```json5
{
  agents: { defaults: { workspace: "~/.openclaw/workspace" } },
  channels: { whatsapp: { allowFrom: ["+15555550123"] } },
}
```

ุงุจูู ุงูุตูุฑุฉ ุงูุงูุชุฑุงุถูุฉ ูุฑุฉ ูุงุญุฏุฉ ุจุงุณุชุฎุฏุงู:

```bash
scripts/sandbox-setup.sh
```

## ูุถุน ุงูุฏุฑุฏุดุฉ ุงูุฐุงุชูุฉ (ูููุตู ุจู ููุชุญููู ุจุงููุฌููุนุงุช)

ูููุน ุงูุจูุช ูู ุงูุฑุฏ ุนูู ุฅุดุงุฑุงุช @ ูู ูุฌููุนุงุช WhatsApp (ูุงูุฑุฏ ููุท ุนูู ูุญููุฒุงุช ูุตูุฉ ูุญุฏุฏุฉ):

```json5
{
  agents: {
    defaults: { workspace: "~/.openclaw/workspace" },
    list: [
      {
        id: "main",
        groupChat: { mentionPatterns: ["@openclaw", "reisponde"] },
      },
    ],
  },
  channels: {
    whatsapp: {
      // Allowlist is DMs only; including your own number enables self-chat mode.
      allowFrom: ["+15555550123"],
      groups: { "*": { requireMention: true } },
    },
  },
}
```

## ุชุถูููุงุช ุงูุชููุฆุฉ (`$include`)

ูุณูู ุชููุฆุชู ุฅูู ูููุงุช ูุชุนุฏุฏุฉ ุจุงุณุชุฎุฏุงู ุงูุชูุฌูู `$include`. ูููุฏ ุฐูู ูู:

- ุชูุธูู ุงูุชููุฆุงุช ุงููุจูุฑุฉ (ูุซู ุชุนุฑููุงุช ูููุงุก ููู ุนููู)
- ูุดุงุฑูุฉ ุงูุฅุนุฏุงุฏุงุช ุงููุดุชุฑูุฉ ุนุจุฑ ุงูุจูุฆุงุช
- ุฅุจูุงุก ุงูุชููุฆุงุช ุงูุญุณูุงุณุฉ ูููุตูุฉ

### ุงูุงุณุชุฎุฏุงู ุงูุฃุณุงุณู

```json5
// ~/.openclaw/openclaw.json
{
  gateway: { port: 18789 },

  // Include a single file (replaces the key's value)
  agents: { $include: "./agents.json5" },

  // Include multiple files (deep-merged in order)
  broadcast: {
    $include: ["./clients/mueller.json5", "./clients/schmidt.json5"],
  },
}
```

```json5
// ~/.openclaw/agents.json5
{
  defaults: { sandbox: { mode: "all", scope: "session" } },
  list: [{ id: "main", workspace: "~/.openclaw/workspace" }],
}
```

### ุณููู ุงูุฏูุฌ

- **ููู ูุงุญุฏ**: ูุณุชุจุฏู ุงููุงุฆู ุงูุฐู ูุญุชูู `$include`
- **ูุตูููุฉ ูููุงุช**: ุฏูุฌ ุนููู ูููููุงุช ุจุงูุชุฑุชูุจ (ุงููุงุญู ูุบููุจ ุงูุณุงุจู)
- **ูุน ููุงุชูุญ ุดูููุฉ**: ุชูุฏูุฌ ุงูููุงุชูุญ ุงูุดูููุฉ ุจุนุฏ ุงูุชุถูููุงุช (ุชุบููุจ ุงูููู ุงูููุถููููุฉ)
- **ููุงุชูุญ ุดูููุฉ + ูุตูููุงุช/ุจุฏุงุฆูุงุช**: ุบูุฑ ูุฏุนูู (ูุฌุจ ุฃู ูููู ุงููุญุชูู ุงูููุถูููู ูุงุฆููุง)

```json5
// Sibling keys override included values
{
  $include: "./base.json5", // { a: 1, b: 2 }
  b: 99, // Result: { a: 1, b: 99 }
}
```

### ุชุถูููุงุช ูุชุฏุงุฎูุฉ

ูููู ูููููุงุช ุงูููุถููููุฉ ุฃู ุชุญุชูู ุจุฏูุฑูุง ุนูู ุชูุฌููุงุช `$include` (ุญุชู 10 ูุณุชููุงุช ุนูู):

```json5
// clients/mueller.json5
{
  agents: { $include: "./mueller/agents.json5" },
  broadcast: { $include: "./mueller/broadcast.json5" },
}
```

### ุญูู ุงููุณุงุฑุงุช

- **ูุณุงุฑุงุช ูุณุจูุฉ**: ุชูุญูู ูุณุจุฉู ุฅูู ุงูููู ุงูููุถูููู
- **ูุณุงุฑุงุช ูุทููุฉ**: ุชูุณุชุฎุฏู ููุง ูู
- **ุฏูุงุฆู ุนููุง**: ุชุนูู ูุฑุงุฌุน `../` ููุง ูู ูุชูููุน

```json5
{ "$include": "./sub/config.json5" }      // relative
{ "$include": "/etc/openclaw/base.json5" } // absolute
{ "$include": "../shared/common.json5" }   // parent dir
```

### ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

- **ููู ููููุฏ**: ุฎุทุฃ ูุงุถุญ ูุน ุงููุณุงุฑ ุงูููุญูู
- **ุฎุทุฃ ุชุญููู**: ูุจููู ุฃู ููู ููุถูููู ูุดู
- **ุชุถูููุงุช ุฏุงุฆุฑูุฉ**: ุชููุชุดู ูููุจููุบ ุนููุง ูุน ุณูุณูุฉ ุงูุชุถููู

### ูุซุงู: ุฅุนุฏุงุฏ ูุงูููู ูุชุนุฏุฏ ุงูุนููุงุก

```json5
// ~/.openclaw/openclaw.json
{
  gateway: { port: 18789, auth: { token: "secret" } },

  // Common agent defaults
  agents: {
    defaults: {
      sandbox: { mode: "all", scope: "session" },
    },
    // Merge agent lists from all clients
    list: { $include: ["./clients/mueller/agents.json5", "./clients/schmidt/agents.json5"] },
  },

  // Merge broadcast configs
  broadcast: {
    $include: ["./clients/mueller/broadcast.json5", "./clients/schmidt/broadcast.json5"],
  },

  channels: { whatsapp: { groupPolicy: "allowlist" } },
}
```

```json5
// ~/.openclaw/clients/mueller/agents.json5
[
  { id: "mueller-transcribe", workspace: "~/clients/mueller/transcribe" },
  { id: "mueller-docs", workspace: "~/clients/mueller/docs" },
]
```

```json5
// ~/.openclaw/clients/mueller/broadcast.json5
{
  "120363403215116621@g.us": ["mueller-transcribe", "mueller-docs"],
}
```

## ุงูุฎูุงุฑุงุช ุงูุดุงุฆุนุฉ

### Env vars + `.env`

ููุฑุฃ OpenClaw ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู ุงูุนูููุฉ ุงูุฃุจ (ุงูุตุฏูุฉุ launchd/systemdุ CIุ ุฅูุฎ).

ุจุงูุฅุถุงูุฉ ุฅูู ุฐููุ ูุญููู:

- `.env` ูู ุฏููู ุงูุนูู ุงูุญุงูู (ุฅู ููุฌุฏ)
- ููู ุงุญุชูุงุทู ุนุงู `.env` ูู `~/.openclaw/.env` (ุงููุนุฑูู ุฃูุถูุง ุจู `$OPENCLAW_STATE_DIR/.env`)

ูุง ูุชุฌุงูุฒ ููู `env` ููู env ุงูููุฌูุฏ ุญุงููุงู.

ููููู ุฃูุถูุง ุชูููุฑ ูุชุบูุฑุงุช ุจูุฆุฉ ุถูููุฉ ุฏุงุฎู ุงูุชููุฆุฉ. ุชูุทุจูู ููุท ุฅุฐุง ูุงู ููุชุงุญ ุงูุนูููุฉ ููููุฏูุง
(ููุณ ูุงุนุฏุฉ ุนุฏู ุงูุชุฌุงูุฒ):

```json5
{
  env: {
    OPENROUTER_API_KEY: "sk-or-...",
    vars: {
      GROQ_API_KEY: "gsk-...",
    },
  },
}
```

ุงูุธุฑ [/environment](/help/environment) ููุงุทููุงุน ุนูู ุงูุฃุณุจููุฉ ุงููุงููุฉ ูุงููุตุงุฏุฑ.

### `env.shellEnv` (ุงุฎุชูุงุฑู)

ุฎูุงุฑ ููุงุฆู ุจุงูุงุดุชุฑุงู: ุฅุฐุง ูุงู ููุนูููุง ููู ุชูุถุจุท ุฃู ูู ุงูููุงุชูุญ ุงููุชููุนุฉ ุจุนุฏุ ูุดุบูู OpenClaw ุตุฏูุฉ ุชุณุฌูู ุงูุฏุฎูู ูุฏูู ููุณุชูุฑุฏ ููุท ุงูููุงุชูุญ ุงููุชููุนุฉ ุงูููููุฏุฉ (ููุง ูุชุฌุงูุฒ ุงูููู).
ูุฐุง ูุนุงุฏู ูุนูููุง ุงุณุชูุฑุงุฏ ููู ุชุนุฑูู ุงูุตุฏูุฉ ูุฏูู.

```json5
{
  env: {
    shellEnv: {
      enabled: true,
      timeoutMs: 15000,
    },
  },
}
```

ููุงูุฆ Env :

- `OPENCLAW_LOAD_SHELL_ENV=1`
- `OPENCLAW_SHELL_ENV_TIMEOUT_MS=15000`

### ุงุณุชุจุฏุงู Env var ูู ุงูุชููุฆุฉ

ููููู ุงูุฅุดุงุฑุฉ ูุจุงุดุฑุฉู ุฅูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู ุฃู ูููุฉ ูุตูุฉ ุจุงูุชููุฆุฉ ุจุงุณุชุฎุฏุงู
ุตูุบุฉ `${VAR_NAME}`. ูุชู ุงูุงุณุชุจุฏุงู ุนูุฏ ุชุญููู ุงูุชููุฆุฉ ููุจู ุงูุชุญููู.

```json5
{
  models: {
    providers: {
      "vercel-gateway": {
        apiKey: "${VERCEL_GATEWAY_API_KEY}",
      },
    },
  },
  gateway: {
    auth: {
      token: "${OPENCLAW_GATEWAY_TOKEN}",
    },
  },
}
```

**ุงูููุงุนุฏ:**

- ูุง ุชูุทุงุจูู ุฅูุง ุฃุณูุงุก ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุจุงูุญุฑูู ุงููุจูุฑุฉ: `[A-Z_][A-Z0-9_]*`
- ุงููุชุบูุฑุงุช ุงูููููุฏุฉ ุฃู ุงููุงุฑุบุฉ ุชูุณุจูุจ ุฎุทุฃ ุนูุฏ ุชุญููู ุงูุชููุฆุฉ
- ุงููุฑูุจ ุจุงุณุชุฎุฏุงู `$${VAR}` ูุฅุฎุฑุงุฌ `${VAR}` ุญุฑูููุง
- ุชุนูู ูุน `$include` (ุชูุทุจูู ุงูุงุณุชุจุฏุงูุงุช ุฃูุถูุง ุนูู ุงููููุงุช ุงูููุถููููุฉ)

**ุงูุงุณุชุจุฏุงู ุงูุถููู:**

```json5
{
  models: {
    providers: {
      custom: {
        baseUrl: "${CUSTOM_API_BASE}/v1", // โ "https://api.example.com/v1"
      },
    },
  },
}
```

### ุชุฎุฒูู ุงููุตุงุฏูุฉ (OAuth + ููุงุชูุญ API)

ูุฎุฒูู OpenClaw ูููุงุช ุงููุตุงุฏูุฉ **ููู ูููู** (OAuth + ููุงุชูุญ API) ูู:

- `<agentDir>/auth-profiles.json` (ุงูุงูุชุฑุงุถู: `~/.openclaw/agents/<agentId>/agent/auth-profiles.json`)

ุงูุธุฑ ุฃูุถูุง: [/concepts/oauth](/concepts/oauth)

ุงุณุชูุฑุงุฏุงุช OAuth ุงููุฏููุฉ:

- `~/.openclaw/credentials/oauth.json` (ุฃู `$OPENCLAW_STATE_DIR/credentials/oauth.json`)

ูุญุงูุธ ูููู Pi ุงูููุถูููู ุนูู ุฐุงูุฑุฉ ุชุฎุฒูู ูุคูุชุฉ ููุช ุงูุชุดุบูู ูู:

- `<agentDir>/auth.json` (ุชูุฏุงุฑ ุชููุงุฆููุงุ ูุง ุชูุนุฏูู ูุฏูููุง)

ุฏููู ุงููููู ุงููุฏูู (ูุจู ุชุนุฏุฏ ุงููููุงุก):

- `~/.openclaw/agent/*` (ููุฑุญูู ุจูุงุณุทุฉ `openclaw doctor` ุฅูู `~/.openclaw/agents/<defaultAgentId>/agent/*`)

ุงูุชุฌุงูุฒุงุช:

- ุฏููู OAuth (ุงุณุชูุฑุงุฏ ูุฏูู ููุท): `OPENCLAW_OAUTH_DIR`
- ุฏููู ุงููููู (ุชุฌุงูุฒ ุฌุฐุฑ ุงููููู ุงูุงูุชุฑุงุถู): `OPENCLAW_AGENT_DIR` (ูููุถูู)ุ `PI_CODING_AGENT_DIR` (ูุฏูู)

ุนูุฏ ุฃูู ุงุณุชุฎุฏุงูุ ูุณุชูุฑุฏ OpenClaw ุฅุฏุฎุงูุงุช `oauth.json` ุฅูู `auth-profiles.json`.

### `auth`

ุจูุงูุงุช ูุตููุฉ ุงุฎุชูุงุฑูุฉ ููููุงุช ุงููุตุงุฏูุฉ. **ูุง** ุชุฎุฒูู ุฃุณุฑุงุฑูุงุ ุจู ุชุฑุจุท
ูุนุฑููุงุช ุงููููุงุช ุจูุฒููุฏ + ูุถุน (ูุจุฑูุฏ ุฅููุชุฑููู ุงุฎุชูุงุฑู) ูุชุญุฏูุฏ ุชุฑุชูุจ
ุชุฏููุฑ ุงููุฒููุฏ ุงููุณุชุฎุฏู ููุชุฌุงูุฒ ุนูุฏ ุงููุดู.

```json5
{
  auth: {
    profiles: {
      "anthropic:me@example.com": { provider: "anthropic", mode: "oauth", email: "me@example.com" },
      "anthropic:work": { provider: "anthropic", mode: "api_key" },
    },
    order: {
      anthropic: ["anthropic:me@example.com", "anthropic:work"],
    },
  },
}
```

### `agents.list[].identity`

ูููุฉ ุงุฎุชูุงุฑูุฉ ููู ูููู ุชูุณุชุฎุฏู ููุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ ูุชุฌุฑุจุฉ ุงูุงุณุชุฎุฏุงู. ููุชุจูุง ูุนุงูุฌ ุงูุฅุนุฏุงุฏ ุงูุฃููู ุนูู macOS.

ุฅุฐุง ูุงูุช ููุนูููุฉุ ูุณุชูุชุฌ OpenClaw ุงูููู ุงูุงูุชุฑุงุถูุฉ (ููุท ุนูุฏูุง ูุง ุชููู ูุฏ ุนูููุชูุง ุตุฑุงุญุฉู):

- `messages.ackReaction` ูู `identity.emoji` **ูููููู ุงููุดุท** (ุงูุงูุชุฑุงุถู ๐)
- `agents.list[].groupChat.mentionPatterns` ูู `identity.name`/`identity.emoji` ูููููู (ููุนูู โ@Samanthaโ ุนุจุฑ ูุฌููุนุงุช Telegram/Slack/Discord/Google Chat/iMessage/WhatsApp)
- `identity.avatar` ููุจู ูุณุงุฑ ุตูุฑุฉ ูุณุจู ููุณุงุญุฉ ุงูุนูู ุฃู URL/โdata URL ุจุนูุฏ. ูุฌุจ ุฃู ุชููู ุงููููุงุช ุงููุญููุฉ ุฏุงุฎู ูุณุงุญุฉ ุนูู ุงููููู.

ููุจู `identity.avatar`:

- ูุณุงุฑูุง ูุณุจููุง ููุณุงุญุฉ ุงูุนูู (ูุฌุจ ุฃู ูุจูู ุฏุงุฎู ูุณุงุญุฉ ุนูู ุงููููู)
- ุนููุงู URL ูู `http(s)`
- URI ูู `data:`

```json5
{
  agents: {
    list: [
      {
        id: "main",
        identity: {
          name: "Samantha",
          theme: "helpful sloth",
          emoji: "๐ฆฅ",
          avatar: "avatars/samantha.png",
        },
      },
    ],
  },
}
```

### `wizard`

ุจูุงูุงุช ูุตููุฉ ููุชุจูุง ูุนุงูุฌุงุช CLI (`onboard`ุ `configure`ุ `doctor`).

```json5
{
  wizard: {
    lastRunAt: "2026-01-01T00:00:00.000Z",
    lastRunVersion: "2026.1.4",
    lastRunCommit: "abc1234",
    lastRunCommand: "configure",
    lastRunMode: "local",
  },
}
```

### `logging`

- ููู ุงูุณุฌู ุงูุงูุชุฑุงุถู: `/tmp/openclaw/openclaw-YYYY-MM-DD.log`
- ุฅุฐุง ุฃุฑุฏุช ูุณุงุฑูุง ุซุงุจุชูุงุ ุนููู `logging.file` ุฅูู `/tmp/openclaw/openclaw.log`.
- ูููู ุถุจุท ุฅุฎุฑุงุฌ ูุญุฏุฉ ุงูุชุญูู ุจุดูู ูููุตู ุนุจุฑ:
  - `logging.consoleLevel` (ุงูุงูุชุฑุงุถู `info`ุ ููุฑุชูุน ุฅูู `debug` ุนูุฏ `--verbose`)
  - `logging.consoleStyle` (`pretty` | `compact` | `json`)
- ูููู ุชูููุญ ููุฎูุตุงุช ุงูุฃุฏูุงุช ูุชุฌููุจ ุชุณุฑูุจ ุงูุฃุณุฑุงุฑ:
  - `logging.redactSensitive` (`off` | `tools`ุ ุงูุงูุชุฑุงุถู: `tools`)
  - `logging.redactPatterns` (ูุตูููุฉ ุชุนุงุจูุฑ ููุทูุฉุ ุชุชุฌุงูุฒ ุงูุงูุชุฑุงุถูุงุช)

```json5
{
  logging: {
    level: "info",
    file: "/tmp/openclaw/openclaw.log",
    consoleLevel: "info",
    consoleStyle: "pretty",
    redactSensitive: "tools",
    redactPatterns: [
      // Example: override defaults with your own rules.
      "\\bTOKEN\\b\\s*[=:]\\s*([\"']?)([^\\s\"']+)\\1",
      "/\\bsk-[A-Za-z0-9_-]{8,}\\b/gi",
    ],
  },
}
```

### `channels.whatsapp.dmPolicy`

ูุชุญููู ูู ููููุฉ ุงูุชุนุงูู ูุน ุงูุฏุฑุฏุดุงุช ุงููุจุงุดุฑุฉ ูู WhatsApp (DMs):

- `"pairing"` (ุงูุงูุชุฑุงุถู): ูุญุตู ุงููุฑุณููู ุงููุฌููููู ุนูู ุฑูุฒ ุฅูุฑุงูุ ูุฌุจ ุนูู ุงููุงูู ุงูููุงููุฉ
- `"allowlist"`: ุงูุณูุงุญ ููุท ูููุฑุณููู ูู `channels.whatsapp.allowFrom` (ุฃู ูุฎุฒู ุงูุณูุงุญ ุงูููุชุฑู)
- `"open"`: ุงูุณูุงุญ ุจุฌููุน DMs ุงููุงุฑุฏุฉ (**ูุชุทููุจ** ุชุถููู `channels.whatsapp.allowFrom` ูู `"*"`)
- `"disabled"`: ุชุฌุงูู ุฌููุน DMs ุงููุงุฑุฏุฉ

ุชูุชูู ุตูุงุญูุฉ ุฑููุฒ ุงูุฅูุฑุงู ุจุนุฏ ุณุงุนุฉุ ููุง ูุฑุณู ุงูุจูุช ุฑูุฒ ุฅูุฑุงู ุฅูุง ุนูุฏ ุฅูุดุงุก ุทูุจ ุฌุฏูุฏ. ุชูุญุฏููุฏ ุทูุจุงุช ุฅูุฑุงู DMs ุงููุนูููุฉ ุจุญุฏู ุฃูุตู **3 ููู ููุงุฉ** ุงูุชุฑุงุถููุง.

ููุงููุงุช ุงูุฅูุฑุงู:

- `openclaw pairing list whatsapp`
- `openclaw pairing approve whatsapp <code>`

### `channels.whatsapp.allowFrom`

ูุงุฆูุฉ ุณูุงุญ ุจุฃุฑูุงู ููุงุชู E.164 ุงูุชู ูููููุง ุชุดุบูู ุฑุฏูุฏ WhatsApp ุงูุชููุงุฆูุฉ (**DMs ููุท**).
ุฅุฐุง ูุงูุช ูุงุฑุบุฉ ู `channels.whatsapp.dmPolicy="pairing"`ุ ุณูุชููู ุงููุฑุณููู ุงููุฌููููู ุฑูุฒ ุฅูุฑุงู.
ูููุฌููุนุงุชุ ุงุณุชุฎุฏู `channels.whatsapp.groupPolicy` + `channels.whatsapp.groupAllowFrom`.

```json5
{
  channels: {
    whatsapp: {
      dmPolicy: "pairing", // pairing | allowlist | open | disabled
      allowFrom: ["+15555550123", "+447700900123"],
      textChunkLimit: 4000, // optional outbound chunk size (chars)
      chunkMode: "length", // optional chunking mode (length | newline)
      mediaMaxMb: 50, // optional inbound media cap (MB)
    },
  },
}
```

### `channels.whatsapp.sendReadReceipts`

ูุชุญููู ูููุง ุฅุฐุง ูุงูุช ุฑุณุงุฆู WhatsApp ุงููุงุฑุฏุฉ ุชูุนูููู ูููุฑูุกุฉ (ุนูุงูุชุง ุฒุฑูุงุก). ุงูุงูุชุฑุงุถู: `true`.

ูุชุฌุงูุฒ ูุถุน ุงูุฏุฑุฏุดุฉ ุงูุฐุงุชูุฉ ุฅูุตุงูุงุช ุงููุฑุงุกุฉ ุฏุงุฆููุงุ ุญุชู ุนูุฏ ุงูุชูููู.

ุชุฌุงูุฒ ููู ุญุณุงุจ: `channels.whatsapp.accounts.<id>.sendReadReceipts`.

```json5
{
  channels: {
    whatsapp: { sendReadReceipts: false },
  },
}
```

### `channels.whatsapp.accounts` (ุชุนุฏูุฏ ุงูุญุณุงุจุงุช)

ุชุดุบูู ุนุฏุฉ ุญุณุงุจุงุช WhatsApp ูู Gateway ูุงุญุฏ:

```json5
{
  channels: {
    whatsapp: {
      accounts: {
        default: {}, // optional; keeps the default id stable
        personal: {},
        biz: {
          // Optional override. Default: ~/.openclaw/credentials/whatsapp/biz
          // authDir: "~/.openclaw/credentials/whatsapp/biz",
        },
      },
    },
  },
}
```

ููุงุญุธุงุช:

- ุชููุฌููู ุงูุฃูุงูุฑ ุงูุตุงุฏุฑุฉ ุงูุชุฑุงุถููุง ุฅูู ุงูุญุณุงุจ `default` ุฅู ููุฌุฏุ ูุฅูุง ูุฃูู ูุนุฑูู ุญุณุงุจ ูููููุฃ (ูุฑุชุจ).
- ููุฑุญููู ุฏููู ูุตุงุฏูุฉ Baileys ุฃุญุงุฏู ุงูุญุณุงุจ ุงููุฏูู ุจูุงุณุทุฉ `openclaw doctor` ุฅูู `whatsapp/default`.

### `channels.telegram.accounts` / `channels.discord.accounts` / `channels.googlechat.accounts` / `channels.slack.accounts` / `channels.mattermost.accounts` / `channels.signal.accounts` / `channels.imessage.accounts`

ุชุดุบูู ุนุฏุฉ ุญุณุงุจุงุช ููู ููุงุฉ (ููู ุญุณุงุจ `accountId` ุฎุงุต ุจู ู `name` ุงุฎุชูุงุฑู):

```json5
{
  channels: {
    telegram: {
      accounts: {
        default: {
          name: "Primary bot",
          botToken: "123456:ABC...",
        },
        alerts: {
          name: "Alerts bot",
          botToken: "987654:XYZ...",
        },
      },
    },
  },
}
```

ููุงุญุธุงุช:

- ููุณุชุฎุฏู `default` ุนูุฏูุง ููููู `accountId` (CLI + ุงูุชูุฌูู).
- ุชูุทุจู ุฑููุฒ ุงูุจูุฆุฉ ููุท ุนูู ุงูุญุณุงุจ **ุงูุงูุชุฑุงุถู**.
- ุชูุทุจูู ุฅุนุฏุงุฏุงุช ุงูููุงุฉ ุงูุฃุณุงุณูุฉ (ุณูุงุณุฉ ุงููุฌููุนุงุชุ ุจูุงุจุฉ ุงูุฅุดุงุฑุงุชุ ุฅูุฎ) ุนูู ุฌููุน ุงูุญุณุงุจุงุช ูุง ูู ุชูุชุฌุงูุฒ ููู ุญุณุงุจ. ุชุทุจูู ุนูู ุฌููุน ุงูุญุณุงุจุงุช ูุง ูู ูุชู ุชุฌุงูุฒูุง ููู ุญุณุงุจ.
- ุงุณุชุฎุฏู `bindings[].match.accountId` ูุชูุฌูู ูู ุญุณุงุจ ุฅูู agents.defaults ูุฎุชูู.

### ุจูุงุจุฉ ุงูุฅุดุงุฑุงุช ูู ุงูุฏุฑุฏุดุฉ ุงูุฌูุงุนูุฉ (`agents.list[].groupChat` + `messages.groupChat`)

ุชูุชุฑุถ ุฑุณุงุฆู ุงููุฌููุนุงุช ุงูุชุฑุงุถููุง **ุงุดุชุฑุงุท ุงูุฅุดุงุฑุฉ** (ุฅุดุงุฑุฉ ูุตููุฉ ุฃู ุฃููุงุท regex). ููุทุจู ุฐูู ุนูู ูุฌููุนุงุช WhatsApp ูTelegram ูDiscord ูGoogle Chat ูiMessage.

**ุฃููุงุน ุงูุฅุดุงุฑุงุช:**

- **ุงูุฅุดุงุฑุงุช ุงููุตููุฉ**: ุฅุดุงุฑุงุช @ ุงูุฃุตููุฉ ููููุตุฉ (ูุซู ุงูููุฑ ููุฅุดุงุฑุฉ ูู WhatsApp). ุชูุชุฌุงูู ูู ูุถุน ุงูุฏุฑุฏุดุฉ ุงูุฐุงุชูุฉ ูู WhatsApp (ุงูุธุฑ `channels.whatsapp.allowFrom`).
- **ุฃููุงุท ุงููุต**: ุฃููุงุท Regex ููุนุฑูููุฉ ูู `agents.list[].groupChat.mentionPatterns`. ุชููุญูุต ุฏุงุฆููุง ุจุบุถู ุงููุธุฑ ุนู ูุถุน ุงูุฏุฑุฏุดุฉ ุงูุฐุงุชูุฉ.
- ูุง ุชููุฑูุถ ุจูุงุจุฉ ุงูุฅุดุงุฑุงุช ุฅูุง ุนูุฏูุง ูููู ุงูุชุดุงู ุงูุฅุดุงุฑุฉ ูููููุง (ุฅุดุงุฑุงุช ุฃุตููุฉ ุฃู ุนูู ุงูุฃูู `mentionPattern` ูุงุญุฏ).

```json5
{
  messages: {
    groupChat: { historyLimit: 50 },
  },
  agents: {
    list: [{ id: "main", groupChat: { mentionPatterns: ["@openclaw", "openclaw"] } }],
  },
}
```

ููุนููู `messages.groupChat.historyLimit` ุงูุงูุชุฑุงุถู ุงูุนุงู ูุณูุงู ุณุฌูู ุงููุฌููุนุงุช. ูููู ูููููุงุช ุงูุชุฌุงูุฒ ุนุจุฑ `channels.<channel>.historyLimit` (ุฃู `channels.<channel>.accounts.*.historyLimit` ูุชุนุฏูุฏ ุงูุญุณุงุจุงุช). ุนููู `0` ูุชุนุทูู ููู ุงูุณุฌู.

#### ุญุฏูุฏ ุชุงุฑูุฎ DM

ุชุณุชุฎุฏู ูุญุงุฏุซุงุช DMs ุณุฌููุง ูุงุฆููุง ุนูู ุงูุฌูุณุงุช ูุฏูุฑู ุงููููู. ููููู ุชูููุฏ ุนุฏุฏ ุฃุฏูุงุฑ ุงููุณุชุฎุฏู ุงููุญุชููุธ ุจูุง ููู ุฌูุณุฉ DM:

```json5
{
  channels: {
    telegram: {
      dmHistoryLimit: 30, // limit DM sessions to 30 user turns
      dms: {
        "123456789": { historyLimit: 50 }, // per-user override (user ID)
      },
    },
  },
}
```

ุชุฑุชูุจ ุงูุญุณู:

1. ุชุฌุงูุฒ ููู DM: `channels.<provider>.dms[userId].historyLimit`
2. ุงูุชุฑุงุถู ุงููุฒููุฏ: `channels.<provider>.dmHistoryLimit`
3. ุจูุง ุญุฏ (ุงูุงุญุชูุงุธ ุจูู ุงูุณุฌู)

ุงููุฒููุฏูู ุงููุฏุนูููู: `telegram`ุ `whatsapp`ุ `discord`ุ `slack`ุ `signal`ุ `imessage`ุ `msteams`.

ุชุฌุงูุฒ ููู ูููู (ูู ุงูุฃุณุจููุฉ ุนูุฏ ุงูุถุจุทุ ุญุชู `[]`):

```json5
{
  agents: {
    list: [
      { id: "work", groupChat: { mentionPatterns: ["@workbot", "\\+15555550123"] } },
      { id: "personal", groupChat: { mentionPatterns: ["@homebot", "\\+15555550999"] } },
    ],
  },
}
```

ุฐูุฑ ุงูุงูุชุฑุงุถู ุนูุฏ ุงูุจูุงุจุฉ ููู ููุงุฉ (`channels.whatsapp.groups`ุ `channels.telegram.groups`ุ `channels.imessage.groups`ุ `channels.discord.guilds`). ุนูุฏูุง ูุชู ุชุนููู `*.groups'ุ ูุฅููุง ุชุนูู ุฃูุถุง ููุงุฆูุฉ ูุณููุญ ุจูุง ูููุฌููุนุฉุ ุชุดูู `\*' ููุณูุงุญ ูุฌููุน ุงููุฌููุนุงุช.

ููุฑุฏ **ููุท** ุนูู ูุดุบูุงุช ูุต ูุญุฏุฏุฉ (ุชุฌุงูู ุงูุฃุตู @-mentions):

```json5
1. {
  channels: {
    whatsapp: {
      // Include your own number to enable self-chat mode (ignore native @-mentions).
      allowFrom: ["+15555550123"],
      groups: { "*": { requireMention: true } },
    },
  },
  agents: {
    list: [
      {
        id: "main",
        groupChat: {
          // Only these text patterns will trigger responses
          mentionPatterns: ["reisponde", "@openclaw"],
        },
      },
    ],
  },
}
```

### ุณูุงุณุฉ ุงููุฌููุนุฉ (ููู ููุงุฉ)

ุงุณุชุฎุฏู 'channels.\*.groupPolicy' ููุชุญูู ูููุง ุฅุฐุง ูุงูุช ุฑุณุงุฆู ุงููุฌููุนุฉ/ุงูุบุฑูุฉ ููุจููุฉ ุนูู ุงูุฅุทูุงู:

```json5
2. {
  channels: {
    whatsapp: {
      groupPolicy: "allowlist",
      groupAllowFrom: ["+15551234567"],
    },
    telegram: {
      groupPolicy: "allowlist",
      groupAllowFrom: ["tg:123456789", "@alice"],
    },
    signal: {
      groupPolicy: "allowlist",
      groupAllowFrom: ["+15551234567"],
    },
    imessage: {
      groupPolicy: "allowlist",
      groupAllowFrom: ["chat_id:123"],
    },
    msteams: {
      groupPolicy: "allowlist",
      groupAllowFrom: ["user@org.com"],
    },
    discord: {
      groupPolicy: "allowlist",
      guilds: {
        GUILD_ID: {
          channels: { help: { allow: true } },
        },
      },
    },
    slack: {
      groupPolicy: "allowlist",
      channels: { "#general": { allow: true } },
    },
  },
}
```

ููุงุญุธุงุช:

- `ูุชุญ"`: ุงููุฌููุนุงุช ุชุชุฎุทู ููุงุฆู ุงูุณูุงุญ ุจุฐููุ ูุง ุชุฒุงู ุงูุจูุงุจุฉ ุงููุฐููุฑุฉ ููุทุจูุฉ.
- `ูุนุทู`: ุญุธุฑ ุฌููุน ุฑุณุงุฆู ุงููุฌููุนุฉ/ุงูุบุฑูุฉ.
- `"allowlist"`: ููุท ุงูุณูุงุญ ูููุฌููุนุงุช/ุงูุบุฑู ุงูุชู ุชุชุทุงุจู ูุน ูุงุฆูุฉ ุงููุณููุญ ุจุชูููููุง.
- 'channels.defaults.groupPolicy' ูุนูู ุงูุงูุชุฑุงุถู ุนูุฏูุง ูุชู ุฅูุบุงุก ุชุนููู 'groupPolicy' ูููุฏู ุงูุฎุฏูุฉ.
- WhatsApp/Telegram/Signal/iMessage/Microsoft Teams ูุณุชุฎุฏู \`groupAllowFrom' (ุงูุฎูููุฉ: 'allowFrom' ุตุฑุงุญุฉ).
- Discord/Slack ุงุณุชุฎุฏุงู ูุงุฆูุฉ ุงูุณูุงุญ ููููุงุฉ (`channels.discord.guilds.*.channels`ุ `channels.slack.channels`).
- ูุง ุชุฒุงู ูุฌููุนุฉ DMs (Discord/Slack) ุฎุงุถุนุฉ ูู `dm.groupEnabled` + `dm.groupChannels`.
- ุงูุงูุชุฑุงุถู ูู `ุณูุงุณุฉ ุงููุฌููุนุงุช: "allowlist"` (ูุง ูู ูุชู ุชุฌุงูุฒูุง ุจูุงุณุทุฉ `channels.defaults.groupPolicy`)ุ ุฅุฐุง ูู ูุชู ุชูููู ูุงุฆูุฉ ุงูุณูุงุญ ุ ูุชู ุญุธุฑ ุงูุฑุณุงุฆู ุงูุฌูุงุนูุฉ.

### ุชูุฌูู ูุชุนุฏุฏ ุงูุนูุงูู (`ุงููููุงุกs.list` + `ุงูุงุฑุชุจุงุทุงุช`)

ุชุดุบูู ุนุฏุฉ ุนูุงุตุฑ ูุนุฒููุฉ (ูุณุงุญุฉ ุนูู ูููุตูุฉุ 'ูููู ุฏูุฑ\`ุ ุฏูุฑุงุช) ุฏุงุฎู ุจูุงุจุฉ ูุงุญุฏุฉ.
ูุชู ุชูุฌูู ุงูุฑุณุงุฆู ุงููุงุฑุฏุฉ ุฅูู ูููู ุนู ุทุฑูู ุงูุฑุจุท.

- ุงููุนุงููุงุช:
  - `id`: ูุนุฑู ุงูุนุงูู ุงููุณุชูุฑ (ูุทููุจ).
  - 'ุงูุงูุชุฑุงุถู\`: ุงุฎุชูุงุฑูุ ุนูุฏูุง ูุชู ุชุนููู ุงููุชุนุฏุฏููุ ูููุฒ ุงูุฃูู ููุชู ุชุณุฌูู ุงูุชุญุฐูุฑ.
    ุฅุฐุง ูู ูุชู ุชุนููู ุฃู ูููุงุ ูุฅู **ุฃูู ุฅุฏุฎุงู** ูู ุงููุงุฆูุฉ ูู ุงููููู ุงูุงูุชุฑุงุถู.
  - `name`: ุงุณู ุงูุนุฑุถ ูููููู.
  - `ูุณุงุญุฉ ุงูุนูู`: ุงูุงูุชุฑุงุถู `~/.openclaw/workspace-<agentId>(ูู `main`ุ ุงูุนูุฏุฉ ุฅูู `agents.defaults.workspace\`).
  - `agentDir`: ุงูุงูุชุฑุงุถู `~/.openclaw/agents/<agentId>/agent`.
  - 'model`: ุงููููุฐุฌ ุงูุงูุชุฑุงุถู ููู ูููู ุ ููุบู `agents.defaults.model' ูุฐูู ุงููููู.
    - ุดูู ุงูุณูุณูุฉ: `ูุฒูุฏ/model"`ุ ููุบู ููุท `agents.defaults.model.primary`
    - ุดูู ุงููุงุฆู: `{ primary, fallbacks }` (ุชุฌุงูุฒ ุงูุงุญุชูุงุทุงุช `agents.defaults.model.fallbacks`; `[]` ูุนุทู ุงูุงุฑุชุฏุงุฏ ุงูุนุงููู ูุฐูู ุงููููู)
  - `ูููุฉ`: ุงุณู ูู ุนุงูู/ููุถูุน/emoji (ูุณุชุฎุฏู ูุฐูุฑ ุงูุฃููุงุท + ุฑุฏูุฏ ุงููุนู).
  - `ูุญุงุฏุซุฉ ุงููุฌููุนุฉ`: ููู ุนุงูู ุฐูุฑ ุงูุจูุงุจุฉ (`ุฐูุฑ:Patterns`).
  - `sandbox`: ููู ุนุงูู sandbox config (ุชุฌุงูุฒ `agents.defaults.sandbox`).
    - `mode`: `"off"` <unk> `"non-main"` <unk> `"all"`
    - `ูุณุงุญุฉ ุงูุนูู`: `"ูุง ุดูุก"` <unk> `ro"` <unk> `"rw"`
    - `ุงููุทุงู`: `ุงูุฏูุฑุฉ` <unk> `ุงููููู"` <unk> `"ุงููุดุชุฑูุฉ"`
    - `workspaceRoot`: ุฌุฐุฑ ุณุงุชู ุงูุนูู ุงููุฎุตุต
    - `docker`: ุชุฌุงูุฒุงุช ูุฑูุฃ ููู ุนุงูู (ูุซู `image` ู`network` ู`env` ู`setupcommand` ูุงูุญุฏูุฏุ ูุชุฌุงููุช ุนูุฏูุง `ุงููุทุงู: "ุงููุดุชุฑู"`)
    - `ุงููุชุตูุญ`: ุชุฌุงูุฒ ุงููุชุตูุญ ุงูุฑููู ููู ุนุงูู (ุชู ุชุฌุงููู ุนูุฏูุง `ุงููุทุงู: "ูุดุงุฑูุฉ"`)
    - 'prune': ุชุฌุงูุฒ ูุฑุจุน ุฑูู ููู ุนุงูู (ุชู ุชุฌุงููู ุนูุฏูุง 'ุงููุทุงู: 'ุงููุดุชุฑูุฉ\`)
  - 'ุงูุนูุงูู ุงููุฑุนูุฉ\`: ุงูุชุฑุงุถุงุช ุงูุนูุงูู ุงููุฑุนูุฉ ููู ุนููู.
    - `ุงููููุงุก`: ุงูุณูุงุญ ุจูุงุฆูุฉ ูุนุงุฑู ุงููููู ูู `sessions_spawn' ูู ูุฐุง ุงููููู (`["\*"]\` = ุงูุณูุงุญ ุจุฃู ูุณููุ ุงูุงูุชุฑุงุถู: ููุท ููุณ ุงููููู)
  - `ุฃุฏูุงุช`: ูููุฏ ุนูู ุฃุฏุงุฉ ููู ุนุงูู (ุชุทุจู ูุจู ุณูุงุณุฉ ุฃุฏุงุฉ ุตูุฏูู ุงูุฑูู).
    - 'ุงูููู ุงูุดุฎุตู\`: ููู ุชุนุฑูู ุงูุฃุฏุงุฉ ุงูุฃุณุงุณูุฉ (ูุทุจู ูุจู ุงูุณูุงุญ/ุงูุฑูุถ)
    - `ุญุงุฆุฒ`: ูุฌููุนุฉ ูู ุฃุณูุงุก ุงูุฃุฏูุงุช ุงููุณููุญ ุจูุง
    - `ููุฑ`: ูุฌููุนุฉ ูู ุฃุณูุงุก ุงูุฃุฏูุงุช ุงููุญุฑููุฉ (ููุฒ)
- 'agents.defaults': ุงูุชุฑุงุถู ุงููููู ุงููุดุชุฑู (ุงููููุฐุฌุ ูุณุงุญุฉ ุงูุนููุ ุตูุฏูู ุงูุฑููุฉุ ุฅูุฎ.).
- `ููุฒูุงุช]`: ุชูุฌูู ุงูุฑุณุงุฆู ุงููุงุฑุฏุฉ ุฅูู `ูููู ูููุฉ`.
  - \`match.channel' (ูุทููุจ)
  - `match.accountId` (ุงุฎุชูุงุฑูุ `*` = ุฃู ุญุณุงุจุ ุญุฐู = ุงูุญุณุงุจ ุงูุงูุชุฑุงุถู)
  - `match.peer` (ุงุฎุชูุงุฑูุ `{ kind: dm|group|channel, id }`)
  - `match.guildId` / `match.teamId` (ุงุฎุชูุงุฑูุ ููุงุฉ ูุญุฏุฏุฉ)

ุชุฑุชูุจ ุงููุจุงุฑุงุฉ ุงููุฒูุฑูุฉ:

1. `match.peer`
2. `match.guildId`
3. `match.teamId`
4. \`match.accountId' (ุจุงูุถุจุทุ ูุง ุฃูุฑุงู/guild/team)
5. \`match.accountId: "\*" (channel-wide, no peer/guild/team)
6. ุงููููู ุงูุงูุชุฑุงุถู (`agents.list[].default`ุ ูุฅูุง ุฃุฏุฎู ุฃูู ูุงุฆูุฉ ุฃุฎุฑูุ `main"`)

ุฏุงุฎู ูู ูุณุชูู ูู ูุณุชููุงุช ุงููุทุงุจูุฉุ ูููุฒ ุฃูู ุฅุฏุฎุงู ูุทุงุจู ูู "ุงูุงุฑุชุจุงุทุงุช".

#### ูููุงุช ูุตูู ููู ูููู (ูุชุนุฏุฏ ุงููููุงุก)

ูููู ููู ูููู ุฃู ูุญูู ุณูุงุณุฉ ุงูุนูุจุฉ ุงูุฑูููุฉ + ุงูุฎุงุตุฉ ุจู. ุงุณุชุฎุฏู ูุฐุง ููุฒุฌ ุงููุตูู ุฅูู ุงููุณุชููุงุช
ูู ุจูุงุจุฉ ูุงุญุฏุฉ:

- **ุงููุตูู ุงููุงูู** (ุงููููู ุงูุดุฎุตู)
- ุฃุฏูุงุช **ูููุฑุงุกุฉ ููุท** + ูุณุงุญุฉ ุงูุนูู
- **ูุง ููุฌุฏ ูุตูู ุฅูู ูุธุงู ุงููููุงุช** (ุงูุฑุณุงุฆู/ุฃุฏูุงุช ุงูุฌูุณุฉ ููุท)

ุฑุงุฌุน [Multi-Agent Sandbox & Tools](/tools/multi-agent-sandbox-tools) ููุญุตูู ุนูู ุฃูุซูุฉ ุฅุถุงููุฉ ุนู ุงูุฃุณุจููุฉ ู
.

ุงููุตูู ุงููุงูู (ุจุฏูู ุนูุจุฉ ุฑูููุฉ):

```json5
{
  agents: {
    list: [
      {
        id: "personal",
        workspace: "~/.openclaw/workspace-personal",
        sandbox: { mode: "off" },
      },
    ],
  },
}
```

ุฃุฏูุงุช ุงููุฑุงุกุฉ ููุท + ูุณุงุญุฉ ุงูุนูู ูููุฑุงุกุฉ ููุท:

```json5
3. {
  agents: {
    list: [
      {
        id: "family",
        workspace: "~/.openclaw/workspace-family",
        sandbox: {
          mode: "all",
          scope: "agent",
          workspaceAccess: "ro",
        },
        tools: {
          allow: [
            "read",
            "sessions_list",
            "sessions_history",
            "sessions_send",
            "sessions_spawn",
            "session_status",
          ],
          deny: ["write", "edit", "apply_patch", "exec", "process", "browser"],
        },
      },
    ],
  },
}
```

ูุง ููุฌุฏ ูุตูู ุฅูู ูุธุงู ุงููููุงุช (ุชูููู ุงูุฑุณุงุฆู/ุฃุฏูุงุช ุงูุฌูุณุฉ):

```json5
4. {
  agents: {
    list: [
      {
        id: "public",
        workspace: "~/.openclaw/workspace-public",
        sandbox: {
          mode: "all",
          scope: "agent",
          workspaceAccess: "none",
        },
        tools: {
          allow: [
            "sessions_list",
            "sessions_history",
            "sessions_send",
            "sessions_spawn",
            "session_status",
            "whatsapp",
            "telegram",
            "slack",
            "discord",
            "gateway",
          ],
          deny: [
            "read",
            "write",
            "edit",
            "apply_patch",
            "exec",
            "process",
            "browser",
            "canvas",
            "nodes",
            "cron",
            "gateway",
            "image",
          ],
        },
      },
    ],
  },
}
```

ุนูู ุณุจูู ุงููุซุงู: ุญุณุงุจุงู ูู WhatsApp โ ููููุงู:

```json5
5. {
  agents: {
    list: [
      { id: "home", default: true, workspace: "~/.openclaw/workspace-home" },
      { id: "work", workspace: "~/.openclaw/workspace-work" },
    ],
  },
  bindings: [
    { agentId: "home", match: { channel: "whatsapp", accountId: "personal" } },
    { agentId: "work", match: { channel: "whatsapp", accountId: "biz" } },
  ],
  channels: {
    whatsapp: {
      accounts: {
        personal: {},
        biz: {},
      },
    },
  },
}
```

### `tools.agentToAgent` (ุงุฎุชูุงุฑู)

ุฑุณุงูุฉ ุงููููู ุฅูู ุงููููู ุชุฎุชุงุฑ:

```json5
{
  ุฃุฏูุงุช: {
    ูููู ุงููููู: {
      enableled: false,
      allow: ["home", "work"],
    },
  },
}
```

### `messages.liste`

ูุชุญูู ูู ููููุฉ ุชุตุฑู ุงูุฑุณุงุฆู ุงููุงุฑุฏุฉ ุนูุฏูุง ูููู ูููู ูุนูู ุจุงููุนู ูุดุทุง.

```json5
6. {
  messages: {
    queue: {
      mode: "collect", // steer | followup | collect | steer-backlog (steer+backlog ok) | interrupt (queue=steer legacy)
      debounceMs: 1000,
      cap: 20,
      drop: "summarize", // old | new | summarize
      byChannel: {
        whatsapp: "collect",
        telegram: "collect",
        discord: "collect",
        imessage: "collect",
        webchat: "collect",
      },
    },
  },
}
```

### `messages.inbound`

7. ูู ุจุนูู ุฅุฒุงูุฉ ุงูุชุฒุงุฒ (Debounce) ููุฑุณุงุฆู ุงููุงุฑุฏุฉ ุงูุณุฑูุนุฉ ูู **ููุณ ุงููุฑุณู** ุจุญูุซ ุชุชุญูู ุนุฏุฉ ุฑุณุงุฆู ูุชุชุงููุฉ ุฅูู ุฏูุฑ ูุงุญุฏ ูููููู. ูููุทุงู ุงูุฅุฎูุงุฏ ููู ููุงุฉ + ูุญุงุฏุซุฉุ ููุณุชุฎุฏู ุฃุญุฏุซ ุฑุณุงูุฉ ูุฑุจุท ุงูุฑุฏูุฏ/ุงููุนุฑููุงุช.

```json5
{
  ุฑุณุงุฆู: {
    ุบูุฑ ูุญุฏุฏ: {
      debounceMs: 2000, // 0 ูุนุทู
      ุจุฃู ููุงุฉ: {
        ุฃู ุชุทุจูู: 5000ุ
        ุณูุณูุฉ: 1500,
        Discord: 1500,
      },
    },
  },
}
```

ููุงุญุธุงุช:

- ุญุฐู ุฏูุนุงุช **ุฑุณุงุฆู ูุตูุฉ ููุท**ุ ูุณุงุฆุท ุงูุฅุนูุงู/ุงููุฑููุงุช ุชูุถู ุนูู ุงูููุฑ.
- ุฃูุงูุฑ ุงูุชุญูู (ูุซูุงู: `/liste`, `/new`) ุชุฌุงูุฒ ุงูุชูุตูุต ุญุชู ุชุธู ุซุงุจุชุฉ.

### `ุงูุฃูุงูุฑ` (ููุงููุฉ ุฃูุฑ ุงูุฏุฑุฏุดุฉ)

ุงูุชุญูู ูู ููููุฉ ุชูููู ุฃูุงูุฑ ุงูุฏุฑุฏุดุฉ ุนุจุฑ ุงูููุตูุงุช.

```json5
{
  ุงูุฃูุงูุฑ: {
    ุงูุฃุตูู: "ุชููุงุฆู"ุ // ุชุณุฌูู ุงูุฃูุงูุฑ ุงูุฃุตููุฉ ุนูุฏ ุฏุนู ุงููุต (ุชููุงุฆู)
    : ุตุญูุญ, // ุชุญููู ุงูุฃูุงูุฑ ุงููุงุตูุฉ ูู ุฑุณุงุฆู ุงูุฏุฑุฏุดุฉ
    ุจุงุด: ุฎุทุฃุ // ุงุณูุญ ุจ! (ุงูุงุณู ุงููุณุชุนุงุฑ /bash) (ุงููุถูู ููุทุ ูุชุทูุจ ุฃุฏูุงุช. ุงูููุงุฆู ุงููุณููุญ ุจูุง)
    bashForegroundMs: 2000, // bash ูู ููุฏูุฉ ุงููุงูุฐุฉ (0 ุฎูููุงุช ููุฑุง)
    config: false, // ุงูุณูุงุญ /config (ููุชุจ ุฅูู ูุฑุต)
    ุงูุชุตุญูุญ: ุฎุทุฃุ // ุงูุณูุงุญ /debug (ุชุดุบูู/ุชุฌุงูุฒ ุงูููุช ููุท)
    ุฅุนุงุฏุฉ ุงูุชุดุบูู: ุฎุทุฃุ // ุงูุณูุงุญ / ุฅุนุงุฏุฉ ุงูุชุดุบูู + ุฅุนุงุฏุฉ ุชุดุบูู ุฃุฏุงุฉ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุจูุงุจุฉ
    useAccessGroups: true, // ุฅููุงุฐ ุงูุณูุงุญ ููุฌููุนุฉ ุงููุตูู/ุงูุณูุงุณุงุช ููุฃูุงูุฑ
  },
}
```

ููุงุญุธุงุช:

- ูุฌุจ ุฅุฑุณุงู ุฃูุงูุฑ ุงููุต ูุฑุณุงูุฉ **ููุงุฆูุฉ ุจุฐุงุชูุง** ูุงุณุชุฎุฏุงู ุงูููุงุฏุงุช `/` (ูุง ุชูุฌุฏ ุฃุณูุงุก ูุณุชุนุงุฑุฉ ูููุต ุงูุณุฑูุน).
- \`commands.text: false' ูุนุทู ุชุญููู ุฑุณุงุฆู ุงูุฏุฑุฏุดุฉ ููุฃูุงูุฑ.
- `commands.native: "auto"` (default) ูุนูู ุนูู ุงูุฃูุงูุฑ ุงูุฃุตููุฉ ููุฏูุณููุฑุฏ/ุชูููุฌุฑุงู ููุชุฑู Slack ูุชูููุฉ ุ ุงููููุงุช ุบูุฑ ุงููุฏุนููุฉ ุชุจูู ุงููุต ููุท.
- ุชุนููู `commands.native: true<unk> false` ูุฅุฌุจุงุฑ ุงูุฌููุนุ ุฃู ุชุฌุงูุฒ ูู ููุงุฉ ูุน `channels.discord.commands.native`ุ `channels.telegram.commands.native`ุ `channels.slack.commands.native` (bool ุฃู `auto"`). "false" ูุณุญ ุงูุฃูุงูุฑ ุงููุณุฌูุฉ ุณุงุจูุงู ุนูู ุฏูุณููุฑุฏ/ุชูููุฌุฑุงู ุนูุฏ ุจุฏุก ุงูุชุดุบููุ ุชุชู ุฅุฏุงุฑุฉ ุงูุฃูุงูุฑ Slack ูู ุชุทุจูู Slack .
- ูุถูู `channels.telegram.customcommands` ุฅุฏุฎุงูุงุช ุฅุถุงููุฉ ูู ูุงุฆูุฉ ุงูุจูุช ุชูููุฌุฑุงู. ูุชู ุชุทุจูุน ุงูุฃุณูุงุกุ ูุชู ุชุฌุงูู ุงูุชุนุงุฑุถ ูุน ุงูุฃูุงูุฑ ุงูุฃุตููุฉ.
- `commands.bash: true' ุชูููู `! <cmd>` ูุชุดุบูู ุฃูุงูุฑ ูุฐููุฉ ุงููุถูู (`/bash <cmd>'ูุนูู ุฃูุถูุง ูุงุณู ูุณุชุนุงุฑ). 8. ูุชุทูุจ `tools.elevated.enabled` ูุฅุฏุฑุงุฌ ุงููุฑุณู ูู ูุงุฆูุฉ ุงูุณูุงุญ ุถูู `tools.elevated.allowFrom.<channel>`.\`.
- `commands.bashForegroundMs` ูุชุญูู ูู ุทูู ูุชุฑุฉ ุงูุงูุชุธุงุฑ ูุจู ุงูุฎูููุฉ. ุจูููุง ูุชู ุชุดุบูู ูุธููุฉ ุจุงุด ุ \`! ุงูุทูุจุงุช <cmd>ุชู ุฑูุถูุง (ูุงุญุฏุฉ ูู ูู ูุฑุฉ).
- `commands.config: true' ุชูููู `/config' (reads/writes `openclaw.json`).
- `ุงููููุงุช.<provider>ุชููุฆุฉ ุจูุงุจุงุช .configWrites` ุงูุชู ุจุฏุฃุชูุง ุชูู ุงูููุงุฉ (ุงูุงูุชุฑุงุถู: ุตุญูุญ). ููุทุจู ูุฐุง ุนูู `/config set<unk> unset` ุฒุงุฆุฏุงู ุงูุชุฑุญูู ุงูุชููุงุฆู ุงูุฎุงุต ุจุงููุฒูุฏ (ุชุบููุฑุงุช ูุนุฑู ุงููุฌููุนุฉ ุงูุฎุงุฑูุฉ ุชูููุฌุฑุงูุ ุชุบููุฑุงุช ูุนุฑู ุงูููุงุฉ Slack Tack).
- 'commands.debug: true' ูู ุจุชูููู '/debug' (runtime ููุท overrides).
- 'commands.restart: true' ุชูููู '/restart' ูุงูุจูุงุจุฉ ุฃุฏุงุฉ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฅุฌุฑุงุก.
- 'commands.useAccessGroups: false' ูุณูุญ ููุฃูุงูุฑ ุจุชุฌุงูุฒ ุงูุณูุงุญ ูููุฌููุนุฉ ุงููุตูู ุฅูู ุงููุฌููุนุฉ/ุงูุณูุงุณุงุช.
- ุฃูุงูุฑ ุงูุดุฑุทุฉ ุงููุงุฆูุฉ ูุงูุชูุฌููุงุช ุชูุญุชุฑู ููุท ูููุฑุณููู **ุงููุฎููููู**. ุงูุงุนุชูุงุฏ ูุณุชูุฏ ูู
  ุงูุณูุงุญ ููููุงุฉ / ุงูุงูุชุฑุงู ุจุงูุฅุถุงูุฉ ุฅูู `commands.useAccessGroups`.

### `web` (ุชุดุบูู ููุงุฉ ููุจ)

WhatsApp ูุนูู ูู ุฎูุงู ููุงุฉ ููุจ ุงูุจูุงุจุฉ (Baileys Web). ูุจุฏุฃ ุชููุงุฆูุงู ุนูุฏ ูุฌูุฏ ุฌูุณุฉ ูุชุฑุงุจุทุฉ.
ุชุนููู `web.enabled: ุฎุทุฃ` ูุฅุจูุงุฆูุง ูุบููุฉ ุจุดูู ุงูุชุฑุงุถู.

```json5
9. {
  web: {
    enabled: true,
    heartbeatSeconds: 60,
    reconnect: {
      initialMs: 2000,
      maxMs: 120000,
      factor: 1.4,
      jitter: 0.2,
      maxAttempts: 0,
    },
  },
}
```

### `channels.telegram` (ููู ุงูุจูุช)

OpenClaw ูุจุฏุฃ Telegram ููุท ุนูุฏูุง ูููู ูุณู ุงูุชูููู `channels.telegram` ููุฌูุฏุงู. ุชู ุญู ุงูุฑูุฒ ุงููููุฒ ููุจูุช ูู `channels.telegram.botToken` (ุฃู `channels.telegram.tokenFile`)ุ ูุน `TELEGRAM_BOT_TOKEN` ูุฑุฏ ุงุญุชูุงุทู ููุญุณุงุจ ุงูุงูุชุฑุงุถู.
ุชุนููู `channels.telegram.enabled: false` ูุชุนุทูู ุจุฏุก ุงูุชุดุบูู ุงูุชููุงุฆู.
ุญูุงุฉ ุงูุฏุนู ุงููุชุนุฏุฏ ุงูุญุณุงุจุงุช ุชุญุช 'channels.telegram.accounts' (ุงูุธุฑ ุงููุณู ูุชุนุฏุฏ ุงูุญุณุงุจุงุช ุฃุนูุงู). ุชุทุจูู ุฑูุฒ Env ููุท ุนูู ุงูุญุณุงุจ ุงูุงูุชุฑุงุถู.
ุชุนููู `channels.telegram.configWrites: false` ูููุน ูุชุงุจุงุช ุงูุชูููู ุงูุชู ุจุฏุฃุชูุง ุชูููุฌุฑุงู (ุจูุง ูู ุฐูู ูุฌุฑุงุช ูุนุฑู ุงููุฌููุนุฉ ุงูุฎุงุฑูุฉ ู `/config set<unk> unset`).

```json5
10. {
  channels: {
    telegram: {
      enabled: true,
      botToken: "your-bot-token",
      dmPolicy: "pairing", // pairing | allowlist | open | disabled
      allowFrom: ["tg:123456789"], // optional; "open" requires ["*"]
      groups: {
        "*": { requireMention: true },
        "-1001234567890": {
          allowFrom: ["@admin"],
          systemPrompt: "Keep answers brief.",
          topics: {
            "99": {
              requireMention: false,
              skills: ["search"],
              systemPrompt: "Stay on topic.",
            },
          },
        },
      },
      customCommands: [
        { command: "backup", description: "Git backup" },
        { command: "generate", description: "Create an image" },
      ],
      historyLimit: 50, // include last N group messages as context (0 disables)
      replyToMode: "first", // off | first | all
      linkPreview: true, // toggle outbound link previews
      streamMode: "partial", // off | partial | block (draft streaming; separate from block streaming)
      draftChunk: {
        // optional; only for streamMode=block
        minChars: 200,
        maxChars: 800,
        breakPreference: "paragraph", // paragraph | newline | sentence
      },
      actions: { reactions: true, sendMessage: true }, // tool action gates (false disables)
      reactionNotifications: "own", // off | own | all
      mediaMaxMb: 5,
      retry: {
        // outbound retry policy
        attempts: 3,
        minDelayMs: 400,
        maxDelayMs: 30000,
        jitter: 0.1,
      },
      network: {
        // transport overrides
        autoSelectFamily: false,
      },
      proxy: "socks5://localhost:9050",
      webhookUrl: "https://example.com/telegram-webhook", // requires webhookSecret
      webhookSecret: "secret",
      webhookPath: "/telegram-webhook",
    },
  },
}
```

ูุดุฑูุน ููุงุญุธุงุช ุงูุชุฏูู:

- ูุณุชุฎุฏู Telegram `sendMessageDraft` (ูุณูุฏุฉ ุงูููุงุนุฉุ ูููุณ ุฑุณุงูุฉ ุญููููุฉ).
- ูุชุทูุจ **ููุงุถูุน ุงูุฏุฑุฏุดุฉ ุงูุฎุงุตุฉ** (message_thread_id ูู DM; ุงูุจูุช ูุฏูู ููุถูุนุงุช ููุนูุฉ).
- '/reasoning stream\` ูู ูุณุงุฑุงุช ููุทููุฉ ูู ุงููุดุฑูุนุ ุซู ุชุฑุณู ุงูุฅุฌุงุจุฉ ุงูููุงุฆูุฉ.
  ุฅุนุงุฏุฉ ูุญุงููุฉ ุงูุงูุชุฑุงุถุงุช ูุงูุณููู ููุซูุฉ ูู [ุฅุนุงุฏุฉ ุงููุญุงููุฉ](/concepts/retry).

### `channels.discord` (ููู ุงูุจูุช)

11. ูู ุจุชููุฆุฉ ุจูุช Discord ุนู ุทุฑูู ุชุนููู ุฑูุฒ ุงูุจูุช (bot token) ูุงููููุฏ ุงูุงุฎุชูุงุฑูุฉ:
    ุฏุนู ุชุนุฏุฏ ุงูุญุณุงุจุงุช ููุฌูุฏ ุถูู `channels.discord.accounts` (ุงูุธุฑ ูุณู ุชุนุฏุฏ ุงูุญุณุงุจุงุช ุฃุนูุงู). ุชุทุจูู ุฑูุฒ Env ููุท ุนูู ุงูุญุณุงุจ ุงูุงูุชุฑุงุถู.

```json5
12. {
  channels: {
    discord: {
      enabled: true,
      token: "your-bot-token",
      mediaMaxMb: 8, // clamp inbound media size
      allowBots: false, // allow bot-authored messages
      actions: {
        // tool action gates (false disables)
        reactions: true,
        stickers: true,
        polls: true,
        permissions: true,
        messages: true,
        threads: true,
        pins: true,
        search: true,
        memberInfo: true,
        roleInfo: true,
        roles: false,
        channelInfo: true,
        voiceStatus: true,
        events: true,
        moderation: false,
      },
      replyToMode: "off", // off | first | all
      dm: {
        enabled: true, // disable all DMs when false
        policy: "pairing", // pairing | allowlist | open | disabled
        allowFrom: ["1234567890", "steipete"], // optional DM allowlist ("open" requires ["*"])
        groupEnabled: false, // enable group DMs
        groupChannels: ["openclaw-dm"], // optional group DM allowlist
      },
      guilds: {
        "123456789012345678": {
          // guild id (preferred) or slug
          slug: "friends-of-openclaw",
          requireMention: false, // per-guild default
          reactionNotifications: "own", // off | own | all | allowlist
          users: ["987654321098765432"], // optional per-guild user allowlist
          channels: {
            general: { allow: true },
            help: {
              allow: true,
              requireMention: true,
              users: ["987654321098765432"],
              skills: ["docs"],
              systemPrompt: "Short answers only.",
            },
          },
        },
      },
      historyLimit: 20, // include last N guild messages as context
      textChunkLimit: 2000, // optional outbound text chunk size (chars)
      chunkMode: "length", // optional chunking mode (length | newline)
      maxLinesPerMessage: 17, // soft max lines per message (Discord UI clipping)
      retry: {
        // outbound retry policy
        attempts: 3,
        minDelayMs: 500,
        maxDelayMs: 30000,
        jitter: 0.1,
      },
    },
  },
}
```

OpenClaw ูุจุฏุฃ ุฏูุณููุฑุฏ ููุท ุนูุฏ ูุฌูุฏ ูุณู ุงูุชูููู `channels.discord'. ุชู ุญู ุงูุฑูุฒ ุงููููุฒ ูู `channels.discord.token'ุ ูุน `DISCORD_BOT_TOKEN' ูุฑุฏ ุงุญุชูุงุทู ููุญุณุงุจ ุงูุงูุชุฑุงุถู (ูุง ูู ููู `channels.discord.enabled' 'false'). ุงุณุชุฎุฏู `user:<id>` (DM) ุฃู `channel:<id>` (Guild channel) ุนูุฏ ุชุญุฏูุฏ ุฃูุฏุงู ุงูุชุณููู ูุฃูุงูุฑ ุงูุฃูุฑุงู/LIุ ุงููุนุฑูุงุช ุงูุฑูููุฉ ุบูุฑ ุงููุจุงุดุฑุฉ ุบุงูุถุฉ ููุฑููุถุฉ.
ููุญุฏุฑุงุช ุงูุฑุงุจุทุฉ ุตุบูุฑุฉ ูุน ุงุณุชุจุฏุงู ุงููุณุงูุงุช ุจู `-`ุ ููุงุชูุญ ุงูููุงุฉ ุชุณุชุฎุฏู ุงุณู ุงูููุงุฉ ุงููููุฌุฉ (ูุง ููุฌุฏ ุฑุงุฆุฏ `#`). ุชูุถูู ูุนุงุฑู ุงูุฑุงุจุทุฉ ูููุงุชูุญ ูุชุฌูุจ ุฅุนุงุฏุฉ ุชุณููุฉ ุงูุบููุถ.
ูุชู ุชุฌุงูู ุงูุฑุณุงุฆู ุงููุคููุฉ ูู ุจูุช ุจุดูู ุงูุชุฑุงุถู. ุชูููู ูุน \`channels.discord.allow', (ูุง ุชุฒุงู ุงูุฑุณุงุฆู ุงูุฎุงุตุฉ ูุชู ุชุตููุชูุง ูููุน ุญููุงุช ุงูุฑุฏ ุงูุฐุงุชู).
ูุถุน ุงุดุนุงุฑ ุฑุฏ ุงููุนู:

- `off`: ุจูุง ุฃุญุฏุงุซ ุชูุงุนู.
- `own`: ุงูุชูุงุนูุงุช ุนูู ุฑุณุงุฆู ุงูุจูุช ููุณู (ุงูุงูุชุฑุงุถู).
- `all`: ูู ุงูุชูุงุนูุงุช ุนูู ุฌููุน ุงูุฑุณุงุฆู.
- `allowlist`: ุงูุชูุงุนูุงุช ูู `guilds.<id>.users` ุนูู ุฌููุน ุงูุฑุณุงุฆู (ูุงุฆูุฉ ูุงุฑุบุฉ ุชุนุทู).
  ุงููุต ุงูุตุงุฏุฑ ููุณู ุฅูู `channels.discord.textChunkLimit` (ุงูุงูุชุฑุงุถู 2000). ุชุนููู `channels.discord.chunkMode="newline"` ูุชูุณูู ุนูู ุงูุฎุทูุท ุงููุงุฑุบุฉ (ุญุฏูุฏ ุงูููุฑุฉ) ูุจู ุทูู ุงููุทุน. ูููู ูุนููุงุก ุฏูุณููุฑุฏ ุฃู ููุทุนูุง ุฑุณุงุฆู ุทูููุฉ ุฌุฏุงูุ ูุฐูู ูููู `channels.discord.maxLinesPerMessage` (ุงูุงูุชุฑุงุถู 17) ุจุชูุณูู ุงูุฑุฏูุฏ ุงูุทูููุฉ ูุชุนุฏุฏุฉ ุงูุฃุณุทุฑ ุญุชู ุนูุฏูุง ุชูู ุนู 2000 ุญุฑู.
  ุฅุนุงุฏุฉ ูุญุงููุฉ ุงูุงูุชุฑุงุถุงุช ูุงูุณููู ููุซูุฉ ูู [ุฅุนุงุฏุฉ ุงููุญุงููุฉ](/concepts/retry).

### `channels.googlechat` (Chat API webhook)

ูุญุงุฏุซุฉ ุฌูุฌู ุชุนูู ุนุจุฑ HTTP webhooks ูุน ูุตุงุฏูุฉ ุนูู ูุณุชูู ุงูุชุทุจูู (ุญุณุงุจ ุงูุฎุฏูุฉ).
ุญูุงุฉ ุงูุฏุนู ุงููุชุนุฏุฏ ุงูุญุณุงุจุงุช ุชุญุช \`channels.googlechat.accounts' (ุงูุธุฑ ุงููุณู ูุชุนุฏุฏ ุงูุญุณุงุจุงุช ุฃุนูุงู). ูุง ููุทุจู Env ุฅูุง ุนูู ุงูุญุณุงุจ ุงูุงูุชุฑุงุถู.

```json5
13. {
  channels: {
    googlechat: {
      enabled: true,
      serviceAccountFile: "/path/to/service-account.json",
      audienceType: "app-url", // app-url | project-number
      audience: "https://gateway.example.com/googlechat",
      webhookPath: "/googlechat",
      botUser: "users/1234567890", // optional; improves mention detection
      dm: {
        enabled: true,
        policy: "pairing", // pairing | allowlist | open | disabled
        allowFrom: ["users/1234567890"], // optional; "open" requires ["*"]
      },
      groupPolicy: "allowlist",
      groups: {
        "spaces/AAAA": { allow: true, requireMention: true },
      },
      actions: { reactions: true },
      typingIndicator: "message",
      mediaMaxMb: 20,
    },
  },
}
```

ููุงุญุธุงุช:

- ุญุณุงุจ ุงูุฎุฏูุฉ JSON ูููู ุฃู ูููู ูุถูู ('serviceAccount`) ุฃู ูุณุชูุฏุง ุฅูู ููู ('serviceAccountFile`).
- ุงูุณ ุงูุงุฑุชุฏุงุฏ ููุญุณุงุจ ุงูุงูุชุฑุงุถู: `GOOGLE_CHAT_SERVICE_ACCOUNT` ุฃู `GOOGLE_CHAT_SERVICE_ACCOUNT_FILE`.
- ูุฌุจ ุฃู ูุทุงุจู 'ุงูุฌูููุฑ' + 'ุงูุฌูููุฑ' ุฅุนุฏุงุฏุงุช ูุตุงุฏูุฉ ุงูููุจ ููู ูุชุทุจูู ุงูุฏุฑุฏุดุฉ.
- ุงุณุชุฎุฏู `ุงููุณุงูุงุช/<spaceId>` ุฃู \`ุงููุณุชุฎุฏููู/<userId|email>ุนูุฏ ุชุญุฏูุฏ ุฃูุฏุงู ุงูุชุณููู.

### \`channels.slack' (ูุถุน ุงูููุทุน)

Slack ูุนูู ูู ูุถุน ุงูููุจุณ ููุชุทูุจ ูู ูู ุฑูุฒ ุจูุช ู ุฑูุฒ ุงูุชุทุจูู:

```json5
14. {
  channels: {
    slack: {
      enabled: true,
      botToken: "xoxb-...",
      appToken: "xapp-...",
      dm: {
        enabled: true,
        policy: "pairing", // pairing | allowlist | open | disabled
        allowFrom: ["U123", "U456", "*"], // optional; "open" requires ["*"]
        groupEnabled: false,
        groupChannels: ["G123"],
      },
      channels: {
        C123: { allow: true, requireMention: true, allowBots: false },
        "#general": {
          allow: true,
          requireMention: true,
          allowBots: false,
          users: ["U123"],
          skills: ["docs"],
          systemPrompt: "Short answers only.",
        },
      },
      historyLimit: 50, // include last N channel/group messages as context (0 disables)
      allowBots: false,
      reactionNotifications: "own", // off | own | all | allowlist
      reactionAllowlist: ["U123"],
      replyToMode: "off", // off | first | all
      thread: {
        historyScope: "thread", // thread | channel
        inheritParent: false,
      },
      actions: {
        reactions: true,
        messages: true,
        pins: true,
        memberInfo: true,
        emojiList: true,
      },
      slashCommand: {
        enabled: true,
        name: "openclaw",
        sessionPrefix: "slack:slash",
        ephemeral: true,
      },
      textChunkLimit: 4000,
      chunkMode: "length",
      mediaMaxMb: 20,
    },
  },
}
```

ุญุณุงุจ ุฏุนู ูุชุนุฏุฏ ุชุญุช 'channels.slack.accounts' (ุงูุธุฑ ุงููุณู ูุชุนุฏุฏ ุงูุญุณุงุจุงุช ุฃุนูุงู). ุชุทุจูู ุฑูุฒ Env ููุท ุนูู ุงูุญุณุงุจ ุงูุงูุชุฑุงุถู.

ูุจุฏุฃ OpenClaw Slack ุนูุฏูุง ูุชู ุชูููู ุงููุฒูุฏ ููุชู ุชุนููู ููุง ุงูุฑููุฒ (ุนู ุทุฑูู ุงูุชูููู ุฃู `SLACK_BOT_TOKEN` + `SLACK_APP_TOKEN`). ุงุณุชุฎุฏู `user:<id>` (DM) ุฃู `channel:<id>ุนูุฏ ุชุญุฏูุฏ ุฃูุฏุงู ุงูุชุณููู ูุฃูุงูุฑ ุงูุฃูุฑุงู/LI.
ุชุนููู `channels.slack.configWrites: false`ูููุน ูุชุงุจุฉ ุงูุฅุนุฏุงุฏุงุช ุงูุชู ุจุฏุฃูุง Slack-ุจูุชูุฉ (ุจูุง ูู ุฐูู ูุฌุฑุงุช ูุนุฑู ุงูููุงุฉ ู`/config set<unk> unset\`).

ูุชู ุชุฌุงูู ุงูุฑุณุงุฆู ุงููุคููุฉ ูู ุจูุช ุจุดูู ุงูุชุฑุงุถู. ุชูููู ุจุงุณุชุฎุฏุงู `channels.slack.allowุงูุจูุงุบ` ุฃู `channels.slack.channels.<id>.allowBots`.

ูุถุน ุงุดุนุงุฑ ุฑุฏ ุงููุนู:

- `off`: ุจูุง ุฃุญุฏุงุซ ุชูุงุนู.
- `own`: ุงูุชูุงุนูุงุช ุนูู ุฑุณุงุฆู ุงูุจูุช ููุณู (ุงูุงูุชุฑุงุถู).
- `all`: ูู ุงูุชูุงุนูุงุช ุนูู ุฌููุน ุงูุฑุณุงุฆู.
- `allowlist`: ุฑุฏูุฏ ุงููุนู ูู \`channels.slack.reactionAllowlist' ุนูู ุฌููุน ุงูุฑุณุงุฆู (ุชุนุทูู ุงููุงุฆูุฉ ุงููุงุฑุบุฉ).

ุฌูุณุฉ ููุงูุดุฉ ููุนุฒูุฉ:

- 'channels.slack.thread.historyScope' ูุชุญูู ูููุง ุฅุฐุง ูุงู ุชุงุฑูุฎ ุงูููุถูุน ููู ููุถูุน ('thread', default) ุฃู ูุดุงุฑูุชู ุนุจุฑ ุงูููุงุฉ ('channel\`).
- 'channels.slack.thread.inheritParent' ูุชุญูู ูููุง ุฅุฐุง ูุงูุช ุฌูุณุงุช ุงูููุงุถูุน ุงูุฌุฏูุฏุฉ ุชุฑุซ ูุต ุงูููุงุฉ ุงูุฃุตููุฉ (ุงูุงูุชุฑุงุถู: false).

ูุฌููุนุงุช ุนูู "ุจูุงู" (ุฅุฌุฑุงุกุงุช ุฃุฏุงุฉ "ุงูุชูุงุนุจ"):

| ูุฌููุนุฉ ุงูุฅุฌุฑุงุกุงุช | ุงูุงูุชุฑุงุถู | ุงูููุงุญุธุงุช                   |
| ---------------- | --------- | --------------------------- |
| reactions        | ููุนูู     | ุชูุงุนู + ุณุฑุฏ ุงูุชูุงุนูุงุช       |
| messages         | ููุนูู     | ูุฑุงุกุฉ/ุฅุฑุณุงู/ุชุนุฏูู/ุญุฐู       |
| pins             | ููุนูู     | ุชุซุจูุช/ุฅูุบุงุก ุงูุชุซุจูุช/ุงููุงุฆูุฉ |
| memberInfo       | ููุนูู     | ูุนูููุงุช ุงูุฃุนุถุงุก             |
| emojiList        | ููุนูู     | ูุงุฆูุฉ ุงูุฑููุฒ ุงููุฎุตุตุฉ        |

### \`channels.mattermost' (bot token)

ูููุฏููู Mattermost ูููููู ุฅุถุงูู ููุง ูููู ูุถููููุง ูุน ุงูุชุซุจูุช ุงูุฃุณุงุณู.
ุซุจูุชู ุฃููุงู: `openclaw plugins install @openclaw/mattermost` (ุฃู `./extensions/mattermost` ูู git Checout).

Mattermost ูุชุทูุจ ุฑูุฒ ุจูุช ุจุงูุฅุถุงูุฉ ุฅูู ุนููุงู URL ุงูุฃุณุงุณู ููุฎุงุฏู ุงูุฎุงุต ุจู:

```json5
{
  ุงูููุงุฉ: {
    ูููุฉ: {
      ููุนู: ุตุญูุญ,
      botToken: "mm-token",
      baseUrl: "https://chat. ุฅูุณุงููู. om",
      dmPolicy: "ุงูุงูุชุฑุงู"ุ
      ุงููุญุงุฏุซุฉ: "oncall", // ุนูู ุงูููุงููุฉ <unk> onmessage <unk> onchar
      oncharfixes: [">", "! ]ุ
      ูุทุนุฉ ูุต: 4000ุ
      ุฌุฒุก ููุนุฏ: "ุทูู"ุ
    },
  },
}
```

ูุจุฏุฃ OpenClaw Mattermost ุนูุฏ ุชูููู ุงูุญุณุงุจ (ุจูุช ุชูููู + ูุงุนุฏุฉ URL) ูููุนู. ูุชู ุญู ุนููุงู URL ุงููููุฒ + ูุงุนุฏุฉ ูู 'channels.mattermost.botToken' + 'channels.mattermost.baseUrl' ุฃู 'MATTERMOST_BOT_TOKEN' + 'MATTERMOST_URL\` ููุญุณุงุจ ุงูุงูุชุฑุงุถู (ูุง ูู ููู 'channels.mattermost.enabled' 'false').

ูุถุน ุงูุฏุฑุฏุดุฉ:

- 'oncall' (ุงูุงูุชุฑุงุถู): ุงูุฑุฏ ุนูู ุฑุณุงุฆู ุงูููุงุฉ ููุท ุนูุฏูุง @mentioned.
- `onmessage`: ุงูุฑุฏ ุนูู ูู ุฑุณุงูุฉ ูู ุงูููุงุฉ.
- `onchar`: ุงูุฑุฏ ุนูุฏูุง ุชุจุฏุฃ ุงูุฑุณุงูุฉ ุจุจุงุฏุฆุฉ ูุดุบูุฉ (`channels.mattermost.oncharPrefixes`ุ ุงูุงูุชุฑุงุถู `[">"ุ "!"]`).

ุงูุชุญูู ุจุงูุฏุฎูู:

- DM: `channels.mattermost.dmPolicy="ุงูุงูุชุฑุงู"` (ุงููุฑุณููู ุบูุฑ ุงููุนุฑูููู ูุญุตููู ุนูู ุฑูุฒ ุงูุชุฑุงู).
- ุงูุฑุณุงุฆู ุงูุฎุงุตุฉ ุงูุนุงูุฉ: `channels.mattermost.dmPolicy="open"` ุจุงูุฅุถุงูุฉ ุฅูู `channels.mattermost.allowFrom=["*"]`.
- ุงููุฌููุนุงุช: `channels.mattermost.groupPolicy="allowlist"" ุงูุชุฑุงุถูุงู (ุฐูุฑ). ุงุณุชุฎุฏู `channels.mattermost.groupAllowFrom\` ูุชูููุฏ ุงููุฑุณููู.

ุญูุงุฉ ุงูุฏุนู ุงููุชุนุฏุฏ ุงูุญุณุงุจุงุช ุชุญุช `channels.mattermost.accounts' (ุงูุธุฑ ุงููุณู ูุชุนุฏุฏ ุงูุญุณุงุจุงุช ุฃุนูุงู). ูุง ููุทุจู Env ุฅูุง ุนูู ุงูุญุณุงุจ ุงูุงูุชุฑุงุถู.
ุงุณุชุฎุฏู `channel:<id>`ุฃู`user:<id>(ุฃู `@username`) ุนูุฏ ุชุญุฏูุฏ ุฃูุฏุงู ุงูุชุณูููุ ูุงููุนููุงุช bis ูุชู ุงูุชุนุงูู ูุนูุง ููุนุฑู ููููุงุฉ.

### `channels.signal` (signal-cli)

ุฑุฏูุฏ ูุนู ุงูุฅุดุงุฑุงุช ูููู ุฃู ุชูุจุนุซ ูู ุฃุญุฏุงุซ ุงููุธุงู (ุฃุฏุงุฉ ุงูุชูุงุนู ุงููุดุชุฑูุฉ):

```json5
{
  ุงููููุงุช : {
    ุฅุดุงุฑุฉ: {
      ReactionNotifices: "own", /off <unk> own <unk> all <unk> allowlist
      ReactionAlallowlist ["+15551234567", "uuid:123e4567-e89b-12d3-a456-426614174000"]ุ
      HistyLimit: 50ุ // ุชุดูู ุขุฎุฑ ุฑุณุงุฆู ุงููุฌููุนุฉ N ูุณูุงู (0 ุชุนุทู)
    },
  },
}
```

ูุถุน ุงุดุนุงุฑ ุฑุฏ ุงููุนู:

- `off`: ุจูุง ุฃุญุฏุงุซ ุชูุงุนู.
- `own`: ุงูุชูุงุนูุงุช ุนูู ุฑุณุงุฆู ุงูุจูุช ููุณู (ุงูุงูุชุฑุงุถู).
- `all`: ูู ุงูุชูุงุนูุงุช ุนูู ุฌููุน ุงูุฑุณุงุฆู.
- `allowlist`: ุฑุฏูุฏ ุงููุนู ูู \`channels.signal.reactionAllowlist' ุนูู ุฌููุน ุงูุฑุณุงุฆู (ุชุนุทูู ูุงุฆูุฉ ูุงุฑุบุฉ).

### \`channels.imessage' (imsg CLI)

OpenClaw spans \`imsg rpc' (JSON-RPC ููู stdio). ูุง ุชูุฌุฏ ุญุงุฌุฉ ุฅูู ุฑุฏูููู ุฃู ูููุงุก.

```json5
15. {
  channels: {
    imessage: {
      enabled: true,
      cliPath: "imsg",
      dbPath: "~/Library/Messages/chat.db",
      remoteHost: "user@gateway-host", // SCP for remote attachments when using SSH wrapper
      dmPolicy: "pairing", // pairing | allowlist | open | disabled
      allowFrom: ["+15555550123", "user@example.com", "chat_id:123"],
      historyLimit: 50, // include last N group messages as context (0 disables)
      includeAttachments: false,
      mediaMaxMb: 16,
      service: "auto",
      region: "US",
    },
  },
}
```

ุญูุงุฉ ุฏุนู ุงูุญุณุงุจุงุช ุงููุชุนุฏุฏุฉ ุชุญุช \`channels.imessage.accounts' (ุงูุธุฑ ุงููุณู ูุชุนุฏุฏ ุงูุญุณุงุจุงุช ุฃุนูุงู).

ููุงุญุธุงุช:

- ูุชุทูุจ ุงููุตูู ุงููุงูู ูููุฑุต ุฅูู ุงูุฑุณุงุฆู DB.
- ุฃูู ุฅุฑุณุงู ุณูุทูุจ ุฅุฐู ุชููุงุฆู ููุฑุณุงุฆู.
- ุชูุถูู ุงูุฃูุฏุงู `chat_id:<id>`. ุงุณุชุฎุฏู ูุญุงุฏุซุฉ `imsg --ุงูุญุฏ 20` ููุงุฆูุฉ ุงููุญุงุฏุซุงุช.
- `channels.imessage.cliPath' ูููู ุฃู ูุดูุฑ ุฅูู ูุต ูุบูู (ุนูู ุณุจูู ุงููุซุงู 'ssh' ููุงู ุขุฎุฑ ูุนูู ุจู `imsg rpc')ุ ุงุณุชุฎุฏู ููุงุชูุญ SSH ูุชุฌูุจ ุทูุจุงุช ูููุฉ ุงููุฑูุฑ.
- ุจุงููุณุจุฉ ูุฃุบููุฉ SSH ุงูุจุนูุฏุฉุ ูู ุจุชุนููู `channels.imessage.remoteHost` ูุฌูุจ ุงููุฑููุงุช ุนู ุทุฑูู SCP ุนูุฏูุง ูุชู ุชูููู \`includeFacilments'.

ุบูุงู ูุซุงู:

```bash
#!/usr/bin/env bash
exec ssh -T gateway-host imsg "$@"
```

### `agents.defaults.workspace`

ูุนูู **ุฏููู ูุถุงุก ุงูุนูู ุงูุนุงููู ุงููุญูุฏ** ุงูุฐู ูุณุชุฎุฏูู ุงููููู ูุนูููุงุช ุงููููุงุช.

ุงูุงูุชุฑุงุถู: `~/.openclaw/workspace`.

```json5
{
  agents: { defaults: { workspace: "~/.openclaw/workspace" } },
}
```

ุฅุฐุง ุชู ุชูููู `agents.defaults.sandbox'ุ ูููู ููุฌูุณุงุช ุบูุฑ ุงูุฑุฆูุณูุฉ ุชุฌุงูุฒ ูุฐุง ูุน ูุณุงุญุฉ ุงูุนูู ุงูุฎุงุตุฉ ุจูุง
ููู ูุทุงู ุชุญุช `agents.defaults.sandbox.workspaceRoot\`.

### `agents.defaults.repoRoot`

ุฌุฐุฑ ูุณุชูุฏุน ุงุฎุชูุงุฑู ูุฅุธูุงุฑู ูู ุฎุท ููุช ุงูุชุดุบูู ุงูุฎุงุต ุจููุฌู ุงููุธุงู. ุฅุฐุง ูู ูุชู ุชุนููููุ ูุญุงูู OpenClaw
ุงููุดู ุนู ุฏููู `.git` ุนู ุทุฑูู ุงููุดู ุตุนูุฏุง ูู ูุณุงุญุฉ ุงูุนูู (ูุฏููู ุงูุนูู ุงูุญุงูู
. ููุฌุจ ุฃู ูููู ุงููุณุงุฑ ููุฌูุฏุง ูุงุณุชุฎุฏุงูู.

```json5
{
  ุงููููุงุก: { ุงูุงูุชุฑุงุถู: { repoRoot: "~/Projects/openclaw" } },
}
```

### `agents.defaults.skipBootstrap`

ุชุนุทูู ุงูุฅูุดุงุก ุงูุชููุงุฆู ููููุงุช bootstrap ููุถุงุก ุงูุนูู (`AGENTS.md`ุ `SOUL.md`ุ `TOOLS.md`ุ `IDENTITY.md`ุ `USER.md`ุ `HEARTBEAT.md`ุ ู`BOTSTRAP.md`).

ุงุณุชุฎุฏู ูุฐุง ูููุดุฑ ูุจู ุงูุจุฐูุฑ ุญูุซ ุชุฃุชู ูููุงุช ูุณุงุญุฉ ุงูุนูู ุงูุฎุงุตุฉ ุจู ูู ุงููุณุชูุฏุน.

```json5
{
  ุงููููุงุก: { ุงูุฅูุชุฑุงุถู: { skipBootstrap: true } },
}
```

### `agents.defaults.bootstrapMaxChars`

ุงูุญุฏ ุงูุฃูุตู ูุญุฑูู ูู ููู ุงูุชูููุฏ ูู ูุถุงุก ุงูุนูู ูุญููุฉ ูู ููุฌู ุงููุธุงู
ูุจู ุงูุชุฎุฒูู. ุงูุงูุชุฑุงุถู: `20000`.

ุนูุฏูุง ูุชุฌุงูุฒ ููู ูุฐุง ุงูุญุฏุ ูุณุฌู OpenClaw ุชุญุฐูุฑุง ููุญูู
head/tail ููุชุทูุฉ ูุน ุนูุงูุฉ.

```json5
{
  ุงููููุงุก: { ุงูุฅูุชุฑุงุถู: { bootstrapMaxChars: 20000 } },
}
```

### `agents.defaults.userTimezone`

ุชุนููู ุงูููุทูุฉ ุงูุฒูููุฉ ูููุณุชุฎุฏู ูู **ุณูุงู ุทูุจ ุงููุธุงู** (ููุณ ููุทูุงุจุน ุงูุฒูููุฉ ูู
ูุธุงุฑูู ุงูุฑุณุงูุฉ). ุฅุฐุง ูู ูุชู ุชุนููููุ ูุณุชุฎุฏู OpenClaw ุงูููุทูุฉ ุงูุฒูููุฉ ุงููุถููุฉ ุนูุฏ ุงูุชุดุบูู.

```json5
{
  agents: { defaults: { userTimezone: "America/Chicago" } },
}
```

### `agents.defaults.timeFormat`

ูุชุญูู ูู **ุชูุณูู ุงูููุช** ุงููุจูู ูู ูุณู ุงูุชุงุฑูุฎ ูุงูููุช ุงูุญุงูู ููุจุงุฏุฑุฉ ุงููุธุงู.
ุงูุงูุชุฑุงุถู: 'ุชููุงุฆู\` ุชูุถููุงุช (OS).

```json5
{
  ุงููููุงุก: { ุงูุฅูุชุฑุงุถู: { timeFormat: "ุชููุงุฆู" } }, // auto <unk> 12 <unk> 24
}
```

### `ุงูุฑุณุงุฆู`

ูุชุญูู ูู ุงูุจุงุฏุฆุงุช ุบูุฑ ุงููุญุฏุฏุฉ/ุงูุตุงุฏุฑุฉ ูุฑุฏูุฏ ุงููุนู ุงูุนูููุฉ ุงูุงุฎุชูุงุฑูุฉ.
ุงูุธุฑ [Messages](/concepts/messagesูููุงุฆููู ุนูู ุงูุงูุชุธุงุฑ ูุงูุฌูุณุงุช ูุณูุงู ุงูุจุซ.

```json5
{
  ุฑุณุงูุฉ: {
    responsePrefix: "๐ฆ", // ุฃู "auto"
    ackReaction: "๐",
    ackReactionScope: "group-mentions",
    remove AckAfterReply: false,
  },
}
```

ูุชู ุชุทุจูู 'responsePrefix' ุนูู **ุฌููุน ุงูุฑุฏูุฏ ุงูุตุงุฏุฑุฉ** (ููุฎุตุงุช ุงูุฃุฏูุงุชุ ูุชูุฉ
ุงูุจุซ ูุงูุฑุฏูุฏ ุงูููุงุฆูุฉ) ุนุจุฑ ุงููููุงุช ูุง ูู ุชูู ููุฌูุฏุฉ ุจุงููุนู.

ุงูุชุฌุงูุฒุงุช ูููู ุชูููููุง ููู ููุงุฉ ููู ุญุณุงุจ:

- ูุชุฌุงูุฒ `channels.<channel>.responsePrefix`
- ูุชุฌุงูุฒ `channels.<channel>.accounts.<id>.responsePrefix`

ุชุฑุชูุจ ุงูุญุณู (ุงูุฃูุซุฑ ุชุญุฏูุฏูุง ูููุฒ):

1. ูุชุฌุงูุฒ `channels.<channel>.accounts.<id>.responsePrefix`
2. ูุชุฌุงูุฒ `channels.<channel>.responsePrefix`
3. `messages.responsePrefix`

ุงูุฃููุงุธ

- 'ุบูุฑ ูุญุฏุฏ\` ูุตู ุฅูู ุงููุณุชูู ุงูุชุงูู.
- `""` ูุนุทู ุงูุจุงุฏุฆุฉ ุตุฑุงุญุฉ ููููู ุงูุชุนุงูุจ.
- `"auto"` ูุณุชูุจุท `[{identity.name}]` ุจุงููุณุจุฉ ูููููู ุงูููุฌู.

ูุชูุทุจู ุงูุชุฌุงูุฒุงุช ุนูู ุฌููุน ุงููููุงุชุ ุจูุง ูู ุฐูู ุงูุฅุถุงูุงุชุ ูุนูู ูู ููุน ูู ุงูุฑุฏูุฏ ุงูุตุงุฏุฑุฉ.

ุฅุฐุง ูู ูุชู ุชุนููู `messages.responsePrefix'ุ ูุง ูุชู ุชุทุจูู ุงูุจุงุฏุฆุฉ ุจุดูู ุงูุชุฑุงุถู. ุฑุฏูุฏ WhatsApp ุงูุฐุงุชูุฉ
ูู ุงูุงุณุชุซูุงุก: ููู ุงูุชุฑุงุถูุฉ ุฅูู '[{identity.name}]` ุนูุฏ ุงูุถุจุทุ ูุฅูุง
`[openclaw]`ุ ูุฐูู ุชุธู ุงููุญุงุฏุซุงุช ููุณูุง ููุฑูุกุฉ.
ุนูููู ุฅูู `"ุชููุงุฆู"` ูุงุดุชูุงู `[{identity.name}]` ูููููู ุงูููุฌู (ุนูุฏ ุชุนูููู).

#### ูุชุบูุฑุงุช ุงููุงูุจ

ูููู ุฃู ูุชุถูู ุณูุณูุฉ "responsePrefix" ูุชุบูุฑุงุช ูุงูุจ ุชุญู ุจุดูู ุฏููุงูููู:

| ุงููุชุบูุฑ           | ุงููุตู                | ูุซุงู                                       |
| ----------------- | -------------------- | ------------------------------------------ |
| `{model}`         | ุงุณู ุงููููุฐุฌ ุงููุตูุฑ   | `claude-opus-4-6`, `gpt-4o`                |
| `{modelFull}`     | ูุนุฑู ุงููููุฐุฌ ุงููุงูู  | `ุงูุจุดุฑู/claude-opus-4-6`                   |
| `{provider}`      | ุงุณู ุงููุฒูุฏ           | `ุจุดุฑูุฉ`, `openai`                          |
| `{thinkingLevel}` | ูุณุชูู ุงูุชูููุฑ ุงูุญุงูู | `ุนุงูู`ุ `ููุฎูุถ`ุ `ุฅููุงู`                   |
| `{identity.name}` | ุงุณู ูููุฉ ุงููููู      | (ููุณ ุงููุถุน `ุงูุชููุงุฆูุฉ`) |

ุงููุชุบูุฑุงุช ุญุณุงุณุฉ ูุญุงูุฉ ุงูุฃุญุฑู (`{MODEL}` = `{model}`). `{think}` ูู ุงุณู ูุณุชุนุงุฑ ูู `{thinkingLevel}`.
ุชุจูู ุงููุชุบูุฑุงุช ุงูุชู ูู ูุชู ุญููุง ููุต ุญุฑูู.

```json5
{
  ุฑุณุงุฆู: {
    ุงูุฑุฏ ุงูุณุงุจู: "[{model} <unk> think:{thinkingLevel}]",
  },
}
```

ูุซุงู ุนูู ุงููุฎุฑุฌ: `[claude-opus-4-6 <unk> think:high] ุฅููู ุงุณุชุฌุงุจุชู...`

ูุชู ุชูููู ุจุงุฏุฆุฉ WhatsApp ุงููุงุฑุฏุฉ ุนุจุฑ `channels.whatsapp.messagePrefix` (ููููุฉ:
`messages.messagePrefix`). ูุจูู ุงูุงูุชุฑุงุถู **ุจุฏูู ุชุบููุฑ**: `"[openclaw]"` ุนูุฏูุง ูููู
`channels.whatsapp.allowFrom` ูุงุฑุบุงูุ ูุฅูุง `""` (ุจุฏูู ุจุงุฏุฆุฉ). ุนูุฏ ุงุณุชุฎุฏุงู
`"[openclaw]"`ุ ุณูุณุชุนูู OpenClaw ุจุฏูุงู ูู ุฐูู `[{identity.name}]` ุนูุฏูุง ูููู ุงููููู
ูุฏูู ูุฌููุนุฉ \`identity.name'.

ูุฑุณู "ackReaction" ุฑุฏ ูุนู ุงูุฑููุฒ ุงูุชุนุจูุฑูุฉ ูุฃูุถู ุฌูุฏ ููุฅูุฑุงุฑ ุจุงูุฑุณุงุฆู ุงููุงุฑุฏุฉ
ุนูู ุงููููุงุช ุงูุชู ุชุฏุนู ุฑุฏูุฏ ุงููุนู (Slack/Discord/Telegram/Google Chat). ุงูุงูุชุฑุงุถู ูู
ุงููููู ุงููุดุท `identity.emoji' ุนูุฏ ุชุนููููุ ูุฅูุง `๐"`. ุนูููู ุฅูู `""\` ูุชุนุทูู. (Automatic Translation)

ุงูุชุญูู "ackReactionSscope" ุนูุฏ ุฅุทูุงู ุงูุชูุงุนู:

- 'ุฐูุฑ ุงููุฌููุนุฉ' (ุงูุงูุชุฑุงุถู): ููุท ุนูุฏูุง ุชุชุทูุจ ุงููุฌููุนุฉ / ุงูุบุฑูุฉ ุฐูุฑ **ู** ุงูุจูุช ุฐูุฑ
- 'ุงููุฌููุนุฉ\`: ุฌููุน ุฑุณุงุฆู ุงููุฌููุนุฉ/ุงูุบุฑูุฉ
- 'ูุจุงุดุฑุฉ\`: ุงูุฑุณุงุฆู ุงููุจุงุดุฑุฉ ููุท
- `ูู`: ุฌููุน ุงูุฑุณุงุฆู

'removeAckAfterReply' ูุฒูู ุฑุฏ ุงูุจูุช ุงูุฒุงุฆุฏ ุจุนุฏ ุฅุฑุณุงู ุฑุฏ
(Slack/Discord/Telegram/Google Chat ููุท). ุงูุงูุชุฑุงุถู: `ุฎุทุฃ`.

#### `messages.tts`

ุชูููู ุงููุต ุฅูู ุงูููุงู ููุฑุฏูุฏ ุงูุตุงุฏุฑุฉ. ุนูุฏ ุงูุชูุนููุ ููุดุฆ OpenClaw ุงูุตูุช
ุจุงุณุชุฎุฏุงู ElevenLabs ุฃู OpenAI ููุฑููู ุจุงูุฑุฏูุฏ. Telegram ูุณุชุฎุฏู ููุงุญุธุงุช ุตูุชูุฉ Opus
ุ ูููุงุช ุฃุฎุฑู ุชุฑุณู ุงูุตูุช MP3.

```json5
16. {
  messages: {
    tts: {
      auto: "always", // off | always | inbound | tagged
      mode: "final", // final | all (include tool/block replies)
      provider: "elevenlabs",
      summaryModel: "openai/gpt-4.1-mini",
      modelOverrides: {
        enabled: true,
      },
      maxTextLength: 4000,
      timeoutMs: 30000,
      prefsPath: "~/.openclaw/settings/tts.json",
      elevenlabs: {
        apiKey: "elevenlabs_api_key",
        baseUrl: "https://api.elevenlabs.io",
        voiceId: "voice_id",
        modelId: "eleven_multilingual_v2",
        seed: 42,
        applyTextNormalization: "auto",
        languageCode: "en",
        voiceSettings: {
          stability: 0.5,
          similarityBoost: 0.75,
          style: 0.0,
          useSpeakerBoost: true,
          speed: 1.0,
        },
      },
      openai: {
        apiKey: "openai_api_key",
        model: "gpt-4o-mini-tts",
        voice: "alloy",
      },
    },
  },
}
```

ููุงุญุธุงุช:

- 'messages.tts.auto' ุชุญูู auto<unk> TTS ('off`ุ 'ุฏุงุฆูุง`ุ 'inbound`ุ 'tagged`).
- '/tts off<unk> ุฏุงุฆูุง <unk> inbound<unk> tagged' ูููู ุจุชุนููู ุงููุถุน ุงูุชููุงุฆู ููุฏูุฑุฉ (ุชุฌุงูุฒ ุงูุชูููู).
- 'messages.tts.enabled' ูู ุฅุฑุซุ ููููู ุงูุทุจูุจ ุฅูู 'messages.tts.auto\`.
- ูุฎุฒู "PrefsPath" ุงูุชุฌุงูุฒุงุช ุงููุญููุฉ (ุงููุฒูุฏ/ุงูุญุฏ/ุงูููุฌุฒ).
- \`maxTextLength' ูู ุญุฏ ุซุงุจุช ููุฏุฎูุงุช TTSุ ุงูููุฎุตุงุช ููุชุทุนุฉ ูุชูุงุฆู ุฐูู.
- 'summaryModel' ููุบู 'agents.defaults.model.primary' ููููุฎุต ุงูุชููุงุฆู.
  - ููุจู `provider/model` ุฃู ุงุณู ูุณุชุนุงุฑ ูู `agents.defaults.models`.
- 'modelOverrides' ุชููู ุงูุชุฌุงูุฒุงุช ุงููุฏููุนุฉ ุจูููุฐุฌ ูุซู '[[tts:...]]' (ุจุดูู ุงูุชุฑุงุถู).
- '/tts limit' ู '/tts summary' ุงูุชุญูู ูู ุฅุนุฏุงุฏุงุช ููุฎุต ุงููุณุชุฎุฏู ููู ูุณุชุฎุฏู.
- ุงูููู "apiKey" ุชุนูุฏ ุฅูู `ELEVENLABS_API_KEY`/`XI_API_KEY` ู `OPENAI_API_KEY`.
- ูุชุฎุทู ูููุน ุงูู ElevenLabs API ุงูุฃุณุงุณู URL ูู '11labs.baseUrl'.
- ูุฏุนู `11.labs.voiceSettings` `stability`/`similarityBoost`/`style` (0..1)ุ ู
  `usespeakerBoost`ุ ู `ุงูุณุฑุนุฉ` (0.5..2.0).

### `ุชุญุฏุซ`

ุงูุงูุชุฑุงุถู ููุถุน ุงูุญุฏูุซ (macOS/iOS/Android). ุชุฑุฌุน ูุนุฑูุงุช ุงูุตูุช ุฅูู `ELEVENLABS_VOICE_ID` ุฃู `SAG_VOICE_ID` ุนูุฏ ุฅูุบุงุก ุชุนููููุง.
"apiKey" ูุนูุฏ ุฅูู `ELEVENLABS_API_KEY` (ุฃู ููู ุชุนุฑูู ูุฐููุฉ ุงูุจูุงุจุฉ) ุนูุฏ ุฅูุบุงุก ุชุนูููู.
'voiceAliases' ุชุชูุญ ุชูุฌููุงุช ุงูุญุฏูุซ ุงุณุชุฎุฏุงู ุฃุณูุงุก ูุฏูุฉ (ุนูู ุณุจูู ุงููุซุงู 'ุตูุช`: 'Clawd`).

```json5
{
  ุชุญุฏุซ: {
    VoeId: "{ labs_voice_id",
    VoeAliases: {
      Clawd: "EXAVITQu4vr4xnSDxMaL",
      Roger: "CwhRBWXzGAHq8TQ4Fs17",
    }ุ
    ูููุฐุฌ: "11._v3",
    OuttFormat: "mp3_44100_128",
    apiKey: "number@@1labs_api_key",
    interruptOnSpeech: true,
  },
}
```

### `agents.defaults`

ูุชุญูู ูู ููุช ุชุดุบูู ุงูุนุงูู ุงููุฏูุฌ (ูููุฐุฌ/ุชูููุฑ/ููุธ/ููู).
'agents.defaults.models' ูุญุฏุฏ ูุชุงููุฌ ุงููููุฐุฌ ุงููุดูู (ููุนูู ููุงุฆูุฉ ูุณููุญ ูู '/model\`).
'agents.defaults.model.primary' ูุนูู ุงููููุฐุฌ ุงูุงูุชุฑุงุถูุ 'agents.defaults.model.fallbacks' ูู ุฅุฎูุงูุงุช ุนุงูููุฉ.
'agents.defaults.imageModel' ุงุฎุชูุงุฑู ููุชู **ุงุณุชุฎุฏุงูู ููุท ุฅุฐุง ูุงู ุงููููุฐุฌ ุงูุฃุณุงุณู ููุชูุฑ ุฅูู ุฅุฏุฎุงู ุงูุตูุฑุฉ**.
ูููู ููู ูุฏุฎู "agents.defaults.models" ุฃู ูุดูู ูุง ููู:

- 'alias` (ุงุฎุชุตุงุฑ ุงููููุฐุฌ ุงูุงุฎุชูุงุฑูุ ูุซู '/opus`).
- `params` (ุดุฑูุท API ุงูุงุฎุชูุงุฑูุฉ ุงูุฎุงุตุฉ ุจููุธูู ุงูุฎุฏูุฉ ุชูุฑูุฑ ุฅูู ุทูุจ ุงููููุฐุฌ).

'params' ุชุทุจู ุฃูุถุง ุนูู ุนูููุงุช ุงูุจุซ (ูููู ูุฏูุฌ + compaction). ุงูููุงุชูุญ ุงููุฏุนููุฉ ุงูููู: `ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ`ุ `maxTokens`. ุชุฏูุฌ ูุฐู ุงูุฎูุงุฑุงุช ูุน ุฎูุงุฑุงุช ููุช ุงูููุงููุฉุ ูููุฒ ุงูููู ุงูุชู ููุฏููุง ุงููุชุตููู. 'ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ\` ูู ุนูุฏุฉ ูุชูุฏูุฉ - ุชุชุฑู ุจุฏูู ุชุนููู ูุง ูู ุชูู ุชุนุฑู ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ ูููููุฐุฌ ูุชุญุชุงุฌ ุฅูู ุชุบููุฑ.

ูุซุงู:

```json5
{
  ุงููููุงุก: {
    ุงูุงูุชุฑุงุถู: {
      models: {
        "ุงูุฅูุณุงู / claude-sonnet-4-5-20250929": {
          params: { temperature: 0.6 },
        },
        "openai/gpt-5. ": {
          Params: { maxTokens: 8192 },
        }ุ
      },
    },
  },
}
```

ููุงุฐุฌ Z.AI GLM-4.x ุชูููู ูุถุน ุงูุชูููุฑ ุชููุงุฆููุง ูุง ูู ุชูู ุจูุง ููู:

- ุชุนููู `--ุงูุชูููุฑ ุฅููุงู`ุ ุฃู
- ุชุนุฑูู `agents.defaults.models["zai/<model>"].params.thinking` ุจููุณู.

ููุง ุฃู OpenClaw ูุดุญู ุจุนุถ ุงูุงุฎุชุตุงุฑุงุช ุงููุณุชุนุงุฑุฉ ุงููุฏูุฌุฉ. ุงูุงูุชุฑุงุถู ููุทุจู ููุท ุนูุฏูุง ูููู ุงููููุฐุฌ
ููุฌูุฏ ุจุงููุนู ูู `agents.defaults.models`:

- `opus` -> `anthropic/claude-opus-4-6`
- `sonnet` -> `ุงูุฅูุณุงู / claude-sonnett-4-5`
- `gpt` -> `openai/gpt-5.2`
- `gpt-mini` -> `openai/gpt-5-mini`
- `gemini' -> `google/gemini-3-pro-preview\`
- `gemini-flash` -> `google/gemini-3-flash-preview`

ุฅุฐุง ููุช ุจุชูููู ููุณ ุงูุงุณู ุงููุณุชุนุงุฑ (ุญุณุงุณ ูุญุงูุฉ ุงูุฃุญุฑู) ุจููุณูุ ูุฅู ุงููููุฉ ุงูุฎุงุตุฉ ุจู ุชููุฒ (ุงูุงูุชุฑุงุถู ูุง ูุชุฌุงูุฒ ูุทููุงู).

ุนูู ุณุจูู ุงููุซุงู: Opus 4.6 ุงูุงุณุงุณู ูุน MiniMax M2.1

```json5
{
  ุงููููุงุก: {
    ุงูุงูุชุฑุงุถู: {
      models: {
        "ุงูุฅูุณุงู / claude-opus-4-6": { alias: "opus" }ุ
        "minimax/MiniMax-M2. ": { alias: "minimax" },
      }ุ
      ูููุฐุฌ: {
        ูู ุงูููุงู ุงูุฃูู: "ุงูุงูุณุงู/claude-opus-4-6"ุ
        ุณูุงุทุงุช ุงูุธููุฑ: ["minimax/MiniMax-M2. "]ุ
      }ุ
    }ุ
  }ุ
}
```

MiniMax wri: ุชุนููู `MINIMAX_API_KEY` (env) ุฃู ุชูููู `models.providers.minimax`.

#### `agents.defaults.cliBackends` (CLI fallback)

ุฏุนู CLI ุงุฎุชูุงุฑู ูุชุดุบูู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ููุท (ูุง ููุงููุงุช ุฃุฏูุงุช). ูุฐู ูููุฏุฉ ููุณุงุฑ ูุณุฎ ุฅุญุชูุงุทู
ุนูุฏูุง ููุดู ูููุฑู API. ูุชู ุฏุนู ูุฑูุฑ ุงูุตูุฑุฉ ุนูุฏ ุชูููู
`imageArg` ุงูุฐู ููุจู ูุณุงุฑุงุช ุงูููู.

ููุงุญุธุงุช:

- ูุณุฎ CLI ูู **ุงููุต ุฃููุงู**ุ ุงูุฃุฏูุงุช ูุนุทูุฉ ุฏุงุฆููุง.
- ูุชู ุฏุนู ุงูุฌูุณุงุช ุนูุฏูุง ูุชู ุชุนููู \`sessionArg'ุ ูุชู ุงูุฅุจูุงุก ุนูู ูุนุงุฑู ุงูุฌูุณุฉ ูู ูู ุงูุฎูููุฉ.
- ุจุงููุณุจุฉ ูู 'clauD-cli'ุ ุงูุงูุชุฑุงุถู ูุชู ุณูููุง. ุชุฌุงูุฒ ูุณุงุฑ ุงูุฃูุงูุฑ ุฅุฐุง ูุงู PATH ุงูุญุฏ ุงูุฃุฏูู
  (ุชุดุบูู/ูุธุงู).

ูุซุงู:

```json5
17. {
  agents: {
    defaults: {
      cliBackends: {
        "claude-cli": {
          command: "/opt/homebrew/bin/claude",
        },
        "my-cli": {
          command: "my-cli",
          args: ["--json"],
          output: "json",
          modelArg: "--model",
          sessionArg: "--session",
          sessionMode: "existing",
          systemPromptArg: "--system",
          systemPromptWhen: "first",
          imageArg: "--image",
          imageMode: "repeat",
        },
      },
    },
  },
}
```

```json5
18. {
  agents: {
    defaults: {
      models: {
        "anthropic/claude-opus-4-6": { alias: "Opus" },
        "anthropic/claude-sonnet-4-1": { alias: "Sonnet" },
        "openrouter/deepseek/deepseek-r1:free": {},
        "zai/glm-4.7": {
          alias: "GLM",
          params: {
            thinking: {
              type: "enabled",
              clear_thinking: false,
            },
          },
        },
      },
      model: {
        primary: "anthropic/claude-opus-4-6",
        fallbacks: [
          "openrouter/deepseek/deepseek-r1:free",
          "openrouter/meta-llama/llama-3.3-70b-instruct:free",
        ],
      },
      imageModel: {
        primary: "openrouter/qwen/qwen-2.5-vl-72b-instruct:free",
        fallbacks: ["openrouter/google/gemini-2.0-flash-vision:free"],
      },
      thinkingDefault: "low",
      verboseDefault: "off",
      elevatedDefault: "on",
      timeoutSeconds: 600,
      mediaMaxMb: 5,
      heartbeat: {
        every: "30m",
        target: "last",
      },
      maxConcurrent: 3,
      subagents: {
        model: "minimax/MiniMax-M2.1",
        maxConcurrent: 1,
        archiveAfterMinutes: 60,
      },
      exec: {
        backgroundMs: 10000,
        timeoutSec: 1800,
        cleanupMs: 1800000,
      },
      contextTokens: 200000,
    },
  },
}
```

#### 'agents.defaults.contextPruning' (ุชูุณูู ุงูุฃุฏูุงุช - ูุชูุฌุฉ)

ูุชูุงุทุน `agents.defaults.contextPruning' **ูุชุงุฆุฌ ุงูุฃุฏุงุฉ ุงููุฏููุฉ** ูู ุณูุงู ุงูุฐุงูุฑุฉ ูุจุงุดุฑุฉ ูุจู ุฅุฑุณุงู ุทูุจ ุฅูู ุฅุฏุงุฑุฉ ุชุฑุงุฎูุต ุงููุดุฑูุจุงุช ุงููุญูููุฉ.
ุฅูู ููุนู **ูุง** ุชุนุฏูู ุณุฌู ุงูุฌูุณุงุช ุนูู ุงููุฑุต ('*.jsonl` ูุง ูุฒุงู ูุงููุงู).

ูุงูุบุฑุถ ูู ุฐูู ูู ุงูุญุฏ ูู ุงุณุชุฎุฏุงู ุงูุนููุงุช ุงูุฑูุฒูุฉ ูุนูุงูู ุงูุฏุฑุฏุดุฉ ุงูุชู ุชุฌูุน ููุงุชุฌ ูุจูุฑุฉ ูู ุงูุฃุฏูุงุช ุนูู ูุฑ ุงูุฒูู.

ุงููุณุชูู ุงูุนุงูู:

- ูุง ุชููุณ ุฑุณุงุฆู ุงููุณุชุฎุฏู/ุงููุณุงุนุฏ.
- ูุญูู ุขุฎุฑ ุฑุณุงุฆู ุงููุณุงุนุฏ "keeplastAssistants" (ูุง ุชูุฌุฏ ูุชุงุฆุฌ ููุฃุฏุงุฉ ุจุนุฏ ุชูู ุงูููุทุฉ ูุทุจุนุฉ).
- ูุญูู ุจุงุฏุฆุฉ ุงูุชูููุฏ (ูุง ุดูุก ูุจู ุทุจุงุนุฉ ุฑุณุงูุฉ ุงููุณุชุฎุฏู ุงูุฃููู).
- ุงูุฃุณุงููุจ:
  - `ุชููููู`: ููุงุชุฌ ุงูุฃุฏูุงุช ุงูุฒุงุฆุฏุฉ ุงูุญุฌู (ุญุงูุธ ุนูู ุงูุฑุฃุณ / ุงูุฐูู) ุนูุฏูุง ุชุชูุงุทุน ูุณุจุฉ ุงูุณูุงู ุงูููุฏุฑุฉ ูุน `softTrimRatio`.
    19. ุซู ูููู ุจูุณุญ ูุชุงุฆุฌ ุงูุฃุฏูุงุช ุงูุฃูุฏู ุงููุคููุฉ ูุณุญูุง ุตุงุฑููุง ุนูุฏูุง ุชุชุฌุงูุฒ ูุณุจุฉ ุงูุณูุงู ุงูููุฏูุฑุฉ `hardClearRatio` **ู**
    ูููู ููุงู ุญุฌู ูุงูู ูู ูุชุงุฆุฌ ุงูุฃุฏูุงุช ุงููุงุจูุฉ ููุชูููู (`minPrunableToolChars`).
  - `ุนุฏูุงููุฉ`: ูุณุชุจุฏู ุฏุงุฆูุง ูุชุงุฆุฌ ุงูุฃุฏุงุฉ ุงููุคููุฉ ูุจู ุงููุทุน ุจู \`hardclear.placeholder' (ุจุฏูู ูุญุต ุงููุณุจุฉ).

(ูุง ูู ุงูุชุบูุฑุงุช ูู ุงูุณูุงู ุงูุชู ุฃูุฑุณูุช ุฅูู ุฌูุด ุชุญุฑูุฑ ุงูุณูุฏุงู):

- **Soft-trim**: ููุท ูู _oversized_ ูุชุงุฆุฌ ุงูุฃุฏุงุฉ. ุงูุญูุงุธ ุนูู ุงูุจุฏุงูุฉ + ุงูููุงูุฉ ูุฅุฏุฑุงุฌ `...` ูู ุงููุณุท.
  - ุณุงุจูุงู: `ูุชุงุฆุฌ ุงูุฃุฏุงุฉ("โฆูุฎุฑุฌุงุช ุทูููุฉ ุฌุฏุงูโฆ")`
  - ุจุนุฏ: `ูุชุงุฆุฌ ุงูุฃุฏุงุฉ("HEADโฆ\n...\nโฆTAIL\n\n[ูุชุงุฆุฌ ุงูุฃุฏุงุฉ ููุฒูุฌุฉ: โฆ]")`
- **Hard-clear**: ุงุณุชุจุฏู ูุชูุฌุฉ ุงูุฃุฏุงุฉ ุจุฃููููุง ุจุงูุนูุตุฑ ุงููุงุฆุจ.
  - ุณุงุจูุงู: `ูุชุงุฆุฌ ุงูุฃุฏุงุฉ("โฆูุฎุฑุฌุงุช ุทูููุฉ ุฌุฏุงูโฆ")`
  - ุจุนุฏ ุฐูู: `ูุชุงุฆุฌ ุงูุฃุฏุงุฉ("[ุชู ูุณุญ ูุญุชูู ูุชูุฌุฉ ุงูุฃุฏุงุฉ ุงููุฏููุฉ]")`

ุงูููุงุญุธุงุช / ุงููููุฏ ุงูุญุงููุฉ:

- ูุชุงุฆุฌ ุงูุฃุฏุงุฉ ุงูุชู ุชุญุชูู ุนูู **ุชู ุชุฎุทู ูุชู ุงูุตูุฑ** (ูู ูุชู ูุท/ูุณุญูุง) ุงูุขู.
- ูุชุณุชูุฏ "ูุณุจุฉ ุงูุณูุงู" ุงูููุฏุฑุฉ ุฅูู **ุงูุญุฑูู** (ุชูุฑูุจูุฉ)ุ ูููุณ ุงูุนููุงุช ุงูุฑูุฒูุฉ ุจุงูุถุจุท.
- ุฅุฐุง ูุงูุช ุงูุฌูุณุฉ ูุง ุชุญุชูู ุนูู ุงูุฃูู ุนูู ุฑุณุงุฆู ูุณุงุนุฏ 'keeplastAssistants' ุจุนุฏุ ูุชู ุชุฎุทู ุงูุชูููู.
- ููู ุงููุถุน `ุงูุนุฏูุงูู'ุ ูุชู ุชุฌุงูู `hardclear.enabled' (ูุณุชุนุงุถ ุฏุงุฆูุง ุนู ูุชุงุฆุฌ ุงูุฃุฏุงุฉ ุงููุคููุฉ ุจู `hardclear.placeholder`).

ุงูุงูุชุฑุงุถู (ูุงุจู ููุชููู):

```json5
{
  ุงููููุงุก: { defaults: { contextPruning: { mode: "adaptive" } },
}
```

ูุชุนุทูู:

```json5
{
  ุงููููุงุก: { defaults: { contextPruning: { mode: "off" } },
}
```

ุงูุงูุชุฑุงุถู (ุนูุฏูุง ูููู `ูุถุน` `ูุชููู"` ุฃู `ุนุฏูุงูู`):

- `keepLastAssistants`: `3`
- `softTrimRatio`: \`0.<unk> (ูุงุจู ููุชููู ููุท)
- `hardclearRatio`: \`0.5' (ูุงุจู ููุชููู ููุท)
- `minPrunableToolChars`: `50000` (ุงูุชููููู ููุท)
- `softTrim`: `{ maxChars: 4000, headChars: 1500, tailChars: 1500 }` (ูุงุจู ููุชููู ููุท)
- `hardClear`: `{ enabled: true, placeholder: "[Old tool result content cleared]" }`

ูุซุงู (ุนุฏูุงููุ ุญุฏ ุฃุฏูู):

```json5
{
  ุงููููุงุก: { defaults: { contextPruning: { mode: "aggressive" } },
}
```

ูุซุงู (ูุชุฑูุจ ุชููููู):

```json5
{
  ุงููููุงุก: {
    ุงูุงูุชุฑุงุถู: {
      contextPruning: {
        ูุถุน : "ุชูููู"ุ
        keeplastAssistans: 3,
        softTrimRatio: 0.
        hardClearRatio: 0. ,
        minPrunableolChars: 50000,
        softTrim: { maxChars: 4000, headChars: 1500, tailChars: 1500 },
        hardclear: {ููุนู: ุตุญูุญ, ุงูุนูุตุฑ ุงููุงุฆุจ: "[ุงููุญุชูู ุงููุงุชุฌ ุนู ุงูุฃุฏุงุฉ ุงููุฏููุฉ ูุญุฐูู]" },
        // ุงุฎุชูุงุฑู: ุชูููุฏ ุงูุทุจุงุนุฉ ุฅูู ุฃุฏูุงุช ูุญุฏุฏุฉ (ููุชุตุฑ ูููุ ูุฏุนู "*" ุงูุจุทุงูุงุช ุงูุจุฑูุฉ)
        ุฃุฏูุงุช: { deny: ["ุงููุชุตูุญ"ุ "ูุงููุงุณ"] }ุ
      },
    },
  },
}
```

ุงูุธุฑ [/concepts/session-pruning](/concepts/session-pruning) ููุญุตูู ุนูู ุชูุงุตูู ุงูุณููู.

#### \`agents.defaults.compaction' (ุงุญุชูุงุทู ุงูุตูุญุฉ + ููุชุฑ ุงูุฐุงูุฑุฉ)

'agents.defaults.compaction.mode' ูุฎุชุงุฑ ุงุณุชุฑุงุชูุฌูุฉ ุชูุฎูุต ุงููุฏูุฌุฉ. ุงูุงูุชุฑุงุถู ุฅูู 'ุงูุงูุชุฑุงุถู\`ุ ูู ุจุชุนููู 'ุญูุงูุฉ' ูุชูููู ููุฎุต ููุณู ูุชุงุฑูุฎ ุทููู ุฌุฏุง. ุงูุธุฑ [/concepts/compaction](/concepts/compaction).

'agents.defaults.compaction.reserveTokensFloor' ููุฑุถ ูููุฉ ุงูุญุฏ ุงูุฃุฏูู ูู 'reserveTokens'
ูู Pi compaction (ุงูุงูุชุฑุงุถู: '20000`). ุนูููู ุฅูู `0\` ูุชุนุทูู ุงูุฃุฑุถ.

'agents.defaults.compaction.memoryFlush' ูููู ุจุชุดุบูู ุฏูุฑุฉ **ุตุงูุชุฉ** ูุจู
ุชููุงุฆููุง ุ ุญูุซ ููุนุฒ ุฅูู ุงููููุฐุฌ ุจุชุฎุฒูู ุงูุฐุงูุฑุฉ ุงูุฏุงุฆูุฉ ุนูู ุงููุฑุต (ุนูู ุณุจูู ุงููุซุงู:
`memory/YYY-MM-DD.md`). ุฅูู ูุดุบู ุนูุฏูุง ูุชุฌุงูุฒ ุชูุฏูุฑ ุฑูุฒ ุงูุฌูุณุฉ ุนุชุจุฉ
ูุงุนูุฉ ุชุญุช ุงูุญุฏ ุงููุงุตู.

ุงูุงูุชุฑุงุถู ุงููุฏูู:

- `memoryFlush.enabled`: `true`
- `memoryFlush.softThresholdTokens`: `4000`
- `memoryFlush.prompt` / `memoryFlush.systemPrompt`: ุงูุฅูุชุฑุงุถูุฉ ุงููุฏูุฌุฉ ูุน `NO_REPLY`
- ููุงุญุธุฉ: ูุชู ุชุฎุทู ูุณุญ ุงูุฐุงูุฑุฉ ุนูุฏูุง ุชููู ูุณุงุญุฉ ุงูุนูู ูููุฑุงุกุฉ ููุท
  (`agents.defaults.sandbox.workspaceAccess: "ro"` ุฃู `"none"`).

ูุซุงู (ูุถุบูุท):

```json5
20. {
  agents: {
    defaults: {
      compaction: {
        mode: "safeguard",
        reserveTokensFloor: 24000,
        memoryFlush: {
          enabled: true,
          softThresholdTokens: 6000,
          systemPrompt: "Session nearing compaction. Store durable memories now.",
          prompt: "Write any lasting notes to memory/YYYY-MM-DD.md; reply with NO_REPLY if nothing to store.",
        },
      },
    },
  },
}
```

ุญุธุฑ ุงูุชุฏูู:

- `agents.defaults.blockStreamingDefault`: `"on"`/`"off"` (ูุนุทูู ุงูุชุฑุงุถููุง).

- ุชุฌุงูุฒ ุงูููุงุฉ: '_.blockStreaming' (ููุชุบูุฑุงุช ูู ุญุณุงุจ) ูุฅุฌุจุงุฑ ุญุธุฑ ุงูุจุซ ุนูู ุชุดุบูู/ุฅููุงู.
  ุชุชุทูุจ ุงููููุงุช ุบูุฑ ุชูููุฌุฑุงู '_.blockStreaming: true' ุตุฑุงุญุฉ ูุชูููู ุฑุฏูุฏ ุงููุชู.

- `agents.defaults.blockStreamingBreak`: `"text_end"` ุฃู `message_end"` (default: text_end).

- `agents.defaults.blockStreamingChunk`: ุงููุทุน ุงููุงุนู ููุชู ุงูุจุซ. ุงูุงูุชุฑุงุถู ุฅูู
  800โ1200 ุญุฑูุ ููุถู ูุชุฑุงุช ุงุณุชุฑุงุญุฉ ุงูููุฑุงุช (`\n\n`)ุ ุซู ุงูุฃุณุทุฑ ุงูุฅุฎุจุงุฑูุฉุ ุซู ุงูุฌูู.
  ูุซุงู:

  ```json5
  {
    ุงููููุงุก: { ุงูุฅูุชุฑุงุถู: { blockStreamingChunk: { minChars: 800, maxChars: 1200 } } },
  }
  ```

- `agents.defaults.blockStreamingCoalesce`: ุฏูุฌ ูุชู ุงูุจุซ ูุจู ุงูุฅุฑุณุงู.
  ุงูุงูุชุฑุงุถู ุฅูู `{ idleMs: 1000 }` ูุชุฑุซ `minChars` ูู `blockStreamingChunk`
  ูุน `maxChars` ูุญุฏ ุฃูุตู ููุต ุงูููุงุฉ. ุฅุดุงุฑุฉ / ููุงู/ุฏูุณููุฑุฏ/ุฌูุฌู ุงูุฏุฑุฏุดุฉ ุงูุงูุชุฑุงุถูุฉ
  ุฅูู `minChars: 1500` ูุง ูู ูุชู ุชุฌุงูุฒูุง.
  ุชุฌุงูุฒ ุงูููุงุฉ: `channels.whatsapp.blockStreamingCoalesce`ุ `channels.telegram.blockStreamingCoalesce`ุ
  `channels.discord.blockStreamingCoalesce`ุ `channels.slack.blockStreamingCoalesce`ุ `channels.mattermost.blockStreamingCoalesce`ุ
  `channels.signal.blockStreamingCoalesce`ุ `channels.blockStreamingCoalesce`ุ `channels.imessage.blockStreamingCoalesce`ุ `ุ `channels.msteams.blockStreamingCoalesce`ุ
  `channels.golechat.blockaming.Streamesce\`
  (ูุชููุนุง ูุฎุชููุง).

- `agents.defaults.humanDelay`: ุฅููุงู ูุคูุช ุนุดูุงุฆู ุจูู **ุฑุฏูุฏ ุงููุชูุฉ** ุจุนุฏ ุงูุฃููู.
  ุฃูุถุงุน: `ุฅููุงู` (ุงูุงูุชุฑุงุถู)ุ `ุทุจูุนู` (800โ2500ms)ุ `custom` (use `minMs`/`maxMs`).
  ุงูุชุฌุงูุฒ: `ุงููููุงุก.list[].humanDelay`.
  ูุซุงู:

  ```json5
  {
    ุงููููุงุก: { defaults: { humanDelay: { mode: "ุทุจูุนู" } },
  }
  ```

  ุฑุงุฌุน [/concepts/streaming](/concepts/streaming) ููุณููู + ุชูุงุตูู ุงููุทุน.

ูุคุดุฑุงุช ุงููุชุงุจุฉ:

- `agents.defaults.typingMode`: `"unver" <unk> "instant" <unk> "thinking" <unk> "message"`. ุงูุงูุชุฑุงุถู ุฅูู
  'instant' ูููุญุงุฏุซุฉ ุงููุจุงุดุฑุฉ / ุฐูุฑ ู 'ุฑุณุงูุฉ' ููุญุงุฏุซุงุช ุงููุฌููุนุฉ ุบูุฑ ุงููุฐููุฑุฉ.
- `session.typingMode`: ุชุฌุงูุฒ ููู ุฌูุณุฉ ูููุถุน.
- 'agents.defaults.typingIntervalSeconds': ูู ูู ุงููุฑุงุช ูุชู ุชุญุฏูุซ ุฅุดุงุฑุฉ ุงููุชุงุจุฉ (ุงูุงูุชุฑุงุถู: 6).
- 'session.typingIntervalSeconds': ุชุฌุงูุฒ ุงููุงุตู ุงูุฒููู ููุชุญุฏูุซ.
  ุงูุธุฑ [/concepts/typing-indicators](/concepts/typing-Indicators) ููุญุตูู ุนูู ุชูุงุตูู ุงูุณููู.

'agents.defaults.model.primary' ูุฌุจ ุฃู ูููู 'provider/model' (ุนูู ุณุจูู ุงููุซุงู: 'anthropic/claude-opus-4-6`).
ุงูุฃุณูุงุก ุงููุณุชุนุงุฑุฉ ุชุฃุชู ูู `agents.defaults.models.\*.alias`(ุนูู ุณุจูู ุงููุซุงู`Opus`).
ุฅุฐุง ุญุฐูุช ููุฏู ุงูุฎุฏูุฉุ ููุชุฑุถ OpenClaw ุญุงูููุง ุฃู 'ุฃูุซุฑูุจูู` ูุฑุฏ ูุนู ูุคูุช
ุฎุฑูุฌ.
ููุงุฐุฌ Z.AI ูุชุงุญุฉ ูู `zai/<model>(ุนูู ุณุจูู ุงููุซุงู `zai/glm-4.7`) ูุชุชุทูุจ
`ZAI_API_KEY`(ุฃู ุงูุฅุฑุซ`Z_AI_API_KEY\`) ูู ุงูุจูุฆุฉ.

ุฅุนุฏุงุฏุงุช \`agents.defaults.heartbeat' ุชุนูู ุจุดูู ุฏูุฑู heartbeat:

- `ูู`: ุณูุณูุฉ ุงููุฏุฉ (`ms`, `s`, `m`, `h`)ุ ุฏูุงุฆู ุงููุญุฏุฉ ุงูุงูุชุฑุงุถูุฉ. ุงูุงูุชุฑุงุถู:
  `30 ู`. ุชุนููู `0m` ูุชุนุทูู.
- `ูููุฐุฌ`: ูููุฐุฌ ุชุฌุงูุฒ ุงุฎุชูุงุฑู ูุชุดุบูู ุงูููุจ (`ูุฒูุฏ/ูููุฐุฌ`).
- 'includeReasoning`: ุนูุฏูุง 'true'ุ ูุฅู ุฏุจุงุช ุงูููุจ ุณุชููู ุฃูุถุง ุฑุณุงูุฉ 'ุงูุณุจุจ` ุงููููุตูุฉ ุนูุฏูุง ุชููู ูุชุงุญุฉ (ููุณ ุดูู '/preing on`). ุงูุงูุชุฑุงุถู: `ุฎุทุฃ\`.
- `ุงูุฏูุฑุฉ`: ููุชุงุญ ุงูุฏูุฑุฉ ุงูุงุฎุชูุงุฑูุฉ ููุชุญูู ูู ุฃู ุฌูุณุฉ ุชุฏุฎู ูููุง ูุจุถุงุช ุงูููุจ. ุงูุงูุชุฑุงุถู: `main`.
- `ุฅูู`: ุชุฌุงูุฒ ุงููุณุชูู ุงูุงุฎุชูุงุฑู (ูุนุฑู ููุงุฉ ูุญุฏุฏุฉุ ุนูู ุณุจูู ุงููุซุงู E.164 ูู WhatsAppุ ูุนุฑู ุงูุฏุฑุฏุดุฉ ูุชูููุบุฑุงู).
- `target`: ููุงุฉ ุชุณููู ุงุฎุชูุงุฑูุฉ (`last`, `whatsapp`, `telegram`, `discord`, `slack`, `msteams`, `signal`, `imessage`, `none`). ุงูุงูุชุฑุงุถู: `ุงูุฃุฎูุฑ`.
- 'ุณุฑุนุฉ`: ุชุฌุงูุฒ ุงุฎุชูุงุฑู ูุฌุณู ุงูููุจ (ุงูุงูุชุฑุงุถู: 'ูุฑุงุกุฉ HEARTBEAT.md ุฅุฐุง ูุงู ููุฌูุฏุง (ุณูุงู ูุถุงุก ุงูุนูู). Follow it strictly. Do not infer or repeat old tasks from prior chats. If nothing needs attention, reply HEARTBEAT_OK.`). ูุชู ุฅุฑุณุงู ุงูุชุฌุงูุฒุงุช ุญุฑููุงูุ ูู ุจุชุถููู ุณุทุฑ "ูุฑุงุกุฉ HEARTBEAT.md" ุฅุฐุง ููุช ูุง ุชุฒุงู ุชุฑูุฏ ูุฑุงุกุฉ ุงูููู.
- `ackMaxChars`: ุงูุญุฏ ุงูุฃูุตู ููุญุฑูู ุงููุณููุญ ุจูุง ุจุนุฏ `HEARTBEAT_OK` ูุจู ุงูุชุณููู (ุงูุงูุชุฑุงุถู: 300).

ูุจุถุงุช ุงูููุจ ููู ูููู:

- ุชุนููู `agents.list[].heartbeat` ูุชูููู ุฃู ุชุฌุงูุฒ ุฅุนุฏุงุฏุงุช ุงูููุจ ููููู ูุนูู.
- ุฅุฐุง ูุงู ุฃู ูููู ูุนุฑูู 'ุถุฑุจุฉ ุงูููุจ\`ุ **ููุท ูุคูุงุก ุงููููุงุก** ูุดุชุบููู ุจุถุจุงุช ุงูููุจุ ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ
  ุชุตุจุญ ุฎุท ุงูุฃุณุงุณ ุงููุดุชุฑู ููุคูุงุก ุงููููุงุก.

ุชุดุบูู ูุจุถุงุช ุงูููุจ ุฏูุฑุงุช ูููู ูุงููุฉ. 21. ุงูููุงุตู ุงูุฒูููุฉ ุงูุฃูุตุฑ ุชุณุชููู ุฑููุฒูุง (tokens) ุฃูุซุฑุ ุงูุชุจู ุฅูู `every`ุ ูุงุฌุนู `HEARTBEAT.md` ุตุบูุฑูุง ุฌุฏูุงุ ู/ุฃู ุงุฎุชุฑ `model` ุฃุฑุฎุต.

ุฅุนุฏุงุฏุงุช \`tools.exec' ุงูุงูุชุฑุงุถูุฉ ููุฎูููุฉ ุงูุฎุงุฑุฌูุฉ:

- `ุงูุฎูููุฉ`: ุงูููุช ูุจู ุงูุฎูููุฉ ุงูุชููุงุฆูุฉ (ูููู ุ ุงูุงูุชุฑุงุถู 10000)
- `timeoutSec`: ุงููุชู ุงูุชููุงุฆู ุจุนุฏ ูุชุฑุฉ ุงูุชุดุบูู ูุฐู (ุซูุงููุ ุงูุชุฑุงุถู 1800)
- `CleupMs`: ูู ูู ุงูููุช ููุญูุงุธ ุนูู ุงูุฌูุณุงุช ุงูููุชููุฉ ูู ุงูุฐุงูุฑุฉ (ููุ ุงูุงูุชุฑุงุถู 1800000)
- `notifyOnExit`: enqueue a system event + request heartbeat ุนูุฏ ุงูุฎุฑูุฌ ูู ุฎุงุฑุฌ ุงูุฎูููุฉ (ุงูุงูุชุฑุงุถู ุตุญูุญ)
- `applicyPatch.enabled`: ุชูููู ุชุฌุฑุจุฉ `applicy_patch` (OpenAI/OpenAI Codex ููุทุ ุฎุทุฃ ุงูุชุฑุงุถู)
- 22. `applyPatch.allowModels`: ูุงุฆูุฉ ุณูุงุญ ุงุฎุชูุงุฑูุฉ ููุนุฑููุงุช ุงูููุงุฐุฌ (ูุซู `gpt-5.2` ุฃู `openai/gpt-5.2`)
      ููุงุญุธุฉ: ูุชููุฑ `applyPatch` ููุท ุถูู `tools.exec`.

ุฅุนุฏุงุฏุงุช 'tools.web' ุงูุจุญุซ ุนูู ุงูููุจ + ุฌูุจ ุฃุฏูุงุช :

- \`tools.web.search.enabled' (ุงูุงูุชุฑุงุถู: ุตุญูุญ ุนูุฏ ูุฌูุฏ ุงูููุชุงุญ)
- `tools.web.search.apiKey` (ููุตู ุจู: ุชุนููู ุนู ุทุฑูู `openclaw configure --section web`ุ ุฃู ุงุณุชุฎุฏุงู `BRAVE_API_KEY` env var)
- `tools.web.search.maxResults` (1โ10ุ ุงูุงูุชุฑุงุถู 5)
- `tools.web.search.timeoutSeconds` (ุงูุงูุชุฑุงุถู 30)
- `tools.web.search.cacheTtlMinutes` (ุงูุงูุชุฑุงุถู 15)
- `tools.web.fetch.enabled` (ุงูุงูุชุฑุงุถู)
- `tools.web.fetch.maxChars` (ุงูุงูุชุฑุงุถู 50000)
- \`tools.web.fetch.maxCharsCap' (ุงูุงูุชุฑุงุถู 50000; shps maxChars ูู config/tool calls)
- `tools.web.fetch.timeoutSeconds` (ุงูุงูุชุฑุงุถู 30)
- `tools.web.fetch.cacheTtlMinutes` (ุงูุงูุชุฑุงุถู 15)
- `tools.web.fetch.userAgent` (ุชุฌุงูุฒ ุงุฎุชูุงุฑู)
- \`tools.web.fetch.readability' (ุงูุงูุชุฑุงุถู ุตุญูุญุ ุชุนุทูู ุงุณุชุฎุฏุงู ุชูุธูู HTML ุงูุฃุณุงุณู ููุท)
- `tools.web.fetch.firecrawl.enabled` (ุงูุงูุชุฑุงุถู ุตุญูุญ ุนูุฏูุง ูุชู ุชุนููู ููุชุงุญ API)
- `tools.web.fetch.firecrawl.apiKey' (ุงุฎุชูุงุฑูุ ุงูุงูุชุฑุงุถู ุฅูู `FIRECRAWL_API_KEY\`)
- `tools.web.fetch.firecrawl.baseUrl` (ุงูุงูุชุฑุงุถู [https://api.firecrawl.dev](https://api.firecrawl.dev))
- `tools.web.fetch.firecrawl.onlyMainContent` (ุงูุงูุชุฑุงุถู ุตุญูุญ)
- `tools.web.fetch.firecrawl.maxAgeMs` (ุงุฎุชูุงุฑู)
- `tools.web.fetch.firecrawl.timeoutSeconds` (ุงุฎุชูุงุฑู)

ุฅุนุฏุงุฏุงุช `tools.media` ูููู ุงููุณุงุฆุท ุงููุงุฑุฏุฉ (image/audio/video):

- `tools.media.models`: ูุงุฆูุฉ ูููุฐุฌูุฉ ูุดุชุฑูุฉ (ุจุทุงูุฉ ุงููุฏุฑุฉุ ุชุณุชุฎุฏู ุจุนุฏ ููุงุฆู ุงูุญุฏ ุงูุฃูุตู).
- `tools.media.concurrency`: ุฃูุตู ูุฏุฑุฉ ูุชุฒุงููุฉ (ุงูุงูุชุฑุงุถู 2).
- `tools.media.image` / `tools.media.audio` / `tools.media.video`:
  - 'ุชูููู\`: ุงุฎุชูุงุฑ ุนุฏู ุงูุชุจุฏูู (ุงูุงูุชุฑุงุถู ุตุญูุญ ุนูุฏูุง ูุชู ุชูููู ุงูููุงุฐุฌ).
  - `ุณุฑุนุฉ`: ุชุฌุงูุฒ ููุฑู ุงุฎุชูุงุฑู (ุตูุฑุฉ/ููุฏูู ุฅูุญุงู ุชูููุญ `maxChars` ุชููุงุฆูุงู).
  - `maxChars`: ุงูุญุฏ ุงูุฃูุตู ูุฅุฎุฑุงุฌ ุงูุฃุญุฑู (ุงูุงูุชุฑุงุถู 500 ููุตูุฑุฉ/ุงูููุฏููุ ุฅูุบุงุก ุชุนููู ุงูุตูุช).
  - `maxBytes`: ุงูุญุฏ ุงูุฃูุตู ูุญุฌู ุงููุณุงุฆุท ุงููุฑุณูุฉ (ุงูุงูุชุฑุงุถู: ุตูุฑุฉ 10MBุ ุงูุตูุช 20MBุ ุงูููุฏูู 50MB).
  - 'timeoutSeconds': ูููุฉ ุงูุทูุจ (ุงูุงูุชุฑุงุถู: ุงูุตูุฑุฉ 60ุ ุงูุตูุช 60ุ ุงูููุฏูู 120).
  - `ุงููุบุฉ`: ุชูููุญ ุตูุชู ุงุฎุชูุงุฑู.
  - `ุงููุฑููุงุช`: ุณูุงุณุฉ ุงููุฑููุงุช (`ูููุฐุฌ`ุ `maxattachments`ุ `ุงูููุถู`).
  - `scope`: ุจูุงุจุฉ ุงุฎุชูุงุฑูุฉ (ุฃูู ููุฒ) ูุน `match.channel` ุฃู `match.chatType` ุฃู `match.keyPrefix`.
  - `ุงูููุงุฐุฌ`: ูุงุฆูุฉ ูุฑุชุจุฉ ุจูุฏุฎูุงุช ุงููููุฐุฌุ ูุชุนูุฏ ุงูุฃุฎุทุงุก ุฃู ุงููุณุงุฆุท ุงูุฒุงุฆุฏุฉ ุงูุญุฌู ุฅูู ุงูุฅุฏุฎุงู ุงูุชุงูู.
- ุฅุฏุฎุงู ูู 'ููุงุฐุฌ[]:
  - ุฅุฏุฎุงู ููุฏู ุงูุฎุฏูุฉ (\`ููุน: "ูุฒูุฏ" ุฃู ูุญุฐูู):
    - `ููุฏู ุงูุฎุฏูุฉ`: ูุนุฑู ูุฒูุฏ API (`openai`, `anthropic`, `google`/`gemini`, `groq`, etc).
    - `model`: model id overide (ูุทููุจ ููุตูุฑุฉุ ุงูุงูุชุฑุงุถู ุฅูู `gpt-4o-mini-transcribe`/`whisper-big v3-turbo` ููุฒูุฏู ุงูุตูุชุ ู `gemini-3-flash-preview` ููููุฏูู).
    - 'ุงูููู ุงูุดุฎุตู` / 'ุชูุถูู ุงูุจุฑููุงูู`: ุงุฎุชูุงุฑ ุงูููู ุงูุดุฎุตู ูููุตุงุฏูุฉ.
  - ูุฏุฎู CLI (`ููุน: "ุงูุนููู"`):
    - `ุฃูุฑ`: ูุงุจู ููุชูููุฐ ููุชุดุบูู.
    - `args`: ููุงูุจ ุงูุฃุฑุฌู (ูุฏุนู`{{MediaPath}}`, `{{Prompt}}`, `{{MaxChars}}`, ุงูุฎ).
  - `ุงููุฏุฑุงุช`: ุงููุงุฆูุฉ ุงูุงุฎุชูุงุฑูุฉ (`image` ู`audio` ู`video`) ูุจูุงุจุฉ ุฅุฏุฎุงู ูุดุชุฑู. ุงูุงูุชุฑุงุถู ุนูุฏ ุญุฐูู: `openai`/`anthropic`/`minimax` โ ุตูุฑุฉุ `google` โ image+audio+video, `groq` โ ุตูุช.
  - `prompt`ุ `maxChars`ุ `maxBytes`ุ `timeoutSeconds`ุ `ุงููุบุฉ` ูููู ุชุฌุงูุฒูุง ููู ุฅุฏุฎุงู.

ุฅุฐุง ูู ูุชู ุชูููู ุฃู ููุงุฐุฌ (ุฃู 'ุชูููู: ุฎุทุฃ\`)ุ ูุชู ุชุฎุทู ุงููููุ ููุง ูุฒุงู ุงููููุฐุฌ ูุชููู ุงููุฑููุงุช ุงูุฃุตููุฉ.

ูุตุงุฏูุฉ ูููุฑ ูุชุจุน ุชุฑุชูุจ ุงููุตุงุฏูุฉ ุงููููุฐุฌู ุงูููุงุณู (Auth profiles, env vars ูุซู `OPENAI_API_KEY`/`GROQ_API_KEY`/`GEMINI_API_KEY`ุ ุฃู `models.providers.*.apiKey`).

ูุซุงู:

```json5
23. {
  tools: {
    media: {
      audio: {
        enabled: true,
        maxBytes: 20971520,
        scope: {
          default: "deny",
          rules: [{ action: "allow", match: { chatType: "direct" } }],
        },
        models: [
          { provider: "openai", model: "gpt-4o-mini-transcribe" },
          { type: "cli", command: "whisper", args: ["--model", "base", "{{MediaPath}}"] },
        ],
      },
      video: {
        enabled: true,
        maxBytes: 52428800,
        models: [{ provider: "google", model: "gemini-3-flash-preview" }],
      },
    },
  },
}
```

ุฅุนุฏุงุฏุงุช `agents.defaults.subagents` ุงูุงูุชุฑุงุถูุฉ:

- `ูููุฐุฌ`: ุงููููุฐุฌ ุงูุงูุชุฑุงุถู ูููููุงุก ุงููุฑุนููู ุงูุฐูู ุชู ุชูุฑูุบูู (ุณูุณูุฉ ุฃู `{ primary, fallbacks }`). ูุฅุฐุง ุชู ุฅุบูุงููุ ูุฑุซ ุงููููุงุก ุงููุฑุนููู ูููุฐุฌ ุงููุชุตูุ ูุง ูู ูุชู ุชุฌุงูุฒู ููู ูููู ุฃู ููู ููุงููุฉ.
- `maxConcurrent`: ูุนูู ุงูุญุฏ ุงูุฃูุตู ูููููู ุงููุฑุนู ุงููุชุฒุงููุฉ (ุงูุงูุชุฑุงุถู 1)
- `archiveAfterMinutes`: ุฌูุณุงุช ูููู ูุฑุนู ุงูุฃุฑุดูู ุงูุชููุงุฆู ุจุนุฏ N ุฏูุงุฆู (ุงูุงูุชุฑุงุถู 60ุ ุชุนููู '0\` ูุชุนุทูู)
- ุณูุงุณุฉ ุฃุฏุงุฉ ูู ุนุงูู ูุฑุนู: `tools.subagents.tools.allow` / `tools.subagents.tools.deny` (deny winins)

'tools.profile' ูุญุฏุฏ **ูุงุฆูุฉ ููุฃุฏุงุฉ ุงูุฃุณุงุณูุฉ** ูุจู `tools.allow`/`tools.deny`:

- `minimal`: `session_status` ููุท
- `coding`: `group:fs`, `group:runtime`, `group:sessions`, `group:memory`, `image`
- `messaging`: `group:messaging`, `sessions_list`, `sessions_history`, `sessions_send`, `session_status`
- `full`: ุจูุง ูููุฏ (ููุงุซู ูุนุฏู ุงูุถุจุท)

ุชุฌุงูุฒ ููู ูููู: `agents.list[].tools.profile`.

ูุซุงู (ุงูุฑุณุงุฆู ููุท ุงูุชุฑุงุถููุงุ ูุงูุณูุงุญ ุจุฃุฏูุงุช Slack ูDiscord ุฃูุถูุง):

```json5
{
  tools: {
    profile: "messaging",
    allow: ["slack", "discord"],
  },
}
```

ูุซุงู (ููู ุชุนุฑูู ุงูุจุฑูุฌุฉุ ููู ููุน exec/process ูู ูู ููุงู):

```json5
{
  tools: {
    profile: "coding",
    deny: ["group:runtime"],
  },
}
```

ุชุชูุญ ูู `tools.byProvider` **ุงููุฒูุฏ ูู ุงูุฃุฏูุงุช ุงููููุฏุฉ** ููุฒูุฏูู ูุนูููู (ุฃู 'ูุฒูุฏ/ูููุฐุฌ`ูุงุญุฏ).
ุชุฌุงูุฒ ููู ูููู:`agents.list[].tools.byProvider\`.

ุงูุทูุจ: ุงูููู ุงูุดุฎุตู ุงูุฃุณุงุณู โ ููู ุชุนุฑูู ุงููุฒูุฏ โ ุงูุณูุงุญ / ุฑูุถ ุงูุณูุงุณุงุช.
ุชูุจู ููุงุชูุญ ุงููุฒูุฏ ุฅูุง `ุงููุฒูุฏ` (ูุซู `google-antivity `) ุฃู `ุงููุฒูุฏ/model`
(ุนูู ุณุจูู ุงููุซุงู `openai/gpt-5.2`).

ูุซุงู (ุงูุฅุจูุงุก ุนูู ููู ุชุนุฑูู ุงูุจุฑูุฌุฉ ุงูุนุงูุ ููู ุฃุฏูุงุช ุญุฏููุฉ ูู Google Antigravity):

```json5
{
  tools: {
    profile: "coding",
    byProvider: {
      "google-antigravity": { profile: "minimal" },
    },
  },
}
```

ูุซุงู (ูุงุฆูุฉ ุงูุณูุงุญ ููููุฑ/ูููุฐุฌ ูุญุฏุฏ):

```json5
{
  tools: {
    allow: ["group:fs", "group:runtime", "sessions_list"],
    byProvider: {
      "openai/gpt-5.2": { allow: ["group:fs", "sessions_list"] },
    },
  },
}
```

'tools.allow' / 'tools.deny' ุชูููู ุฃุฏุงุฉ ุนุงูููุฉ ุชุณูุญ / ุชุฑูุถ ุงูุณูุงุณุฉ (ููุฒ).
ุงููุทุงุจูุฉ ุบูุฑ ุญุณุงุณุฉ ูุญุงูุฉ ุงูุฃุญุฑู ูุชุฏุนู '_' ุงูุจุทุงูุงุช ุงูุจุฑูุฉ ('_' ุชุนูู ุฌููุน ุงูุฃุฏูุงุช).
ูุชู ุชุทุจูู ูุฐุง ุญุชู ุนูุฏูุง ูููู ุตูุฏูู ุฑูู Docker **ุฅููุงู**.

ูุซุงู (ุชุนุทูู ุงููุชุตูุญ/ููุงุด ูู ูู ููุงู):

```json5
{
  ุฃุฏุงุฉ: { deny: ["ุงููุชุตูุญ"ุ "canvas"] },
}
```

ูุฌููุนุงุช ุงูุฃุฏูุงุช (ุงูุงุฎุชุตุงุฑ) ุชุนูู ูู ุณูุงุณุงุช ุงูุฃุฏูุงุช **ุงูุนุงูููุฉ** ู **ููู ูููู**:

- `group:runtime`: `exec`, `bash`, `process`
- `group:fs`: `read`, `write`, `edit`, `apply_patch`
- `group:sessions`: `sessions_list`, `sessions_history`, `sessions_send`, `sessions_spawn`, `session_status`
- `group:memory`: `memory_search`, `memory_get`
- `group:web`: `web_search`, `web_fetch`
- `group:ui`: `browser`, `canvas`
- `group:automation`: `cron`, `gateway`
- `group:messaging`: `message`
- `group:nodes`: `nodes`
- `group:openclaw`: ุฌููุน ุฃุฏูุงุช OpenClaw ุงููุฏูุฌุฉ (ุจุงุณุชุซูุงุก ุฅุถุงูุงุช ุงูููููุฑูู)

ุฃุฏูุงุช ุงูุชุญูู 'tools.elevated' ุงุฑุชูุนุช (ุงููุถูู) ุฅูู ุงูุฎุงุฑุฌ:

- `ุชูููู`: ุงูุณูุงุญ ุจุงููุถุน ุงููุฑุชูุน (ุตุญูุญ ุงูุชุฑุงุถู)
- `allowFrom`: ููุงุฆู ุงูุณูุงุญ ููู ููุงุฉ (ูุงุฑุบุฉ = ูุนุทูุฉ)
  - `Whatsapp`: E.164 ุฃุฑูุงู
  - `ุชูุบุฑุงู`: ูุนุงุฑู ุงูุฏุฑุฏุดุฉ ุฃู ุฃุณูุงุก ุงููุณุชุฎุฏููู
  - `discord`: ูุนููุงุช ุงููุณุชุฎุฏู ุฃู ุฃุณูุงุก ุงููุณุชุฎุฏููู (ูุนูุฏ ุฅูู \`channels.discord.dm.allowFrom' ุฅุฐุง ูุงู ูุญุฐูู)
  - `ุฅุดุงุฑุฉ`: ุฃุฑูุงู E.164
  - `ุงูุชุณูุณู`: ูุนุงุฑู ุงูุฃูุงุจูุจ/ุงูุฏุฑุฏุดุฉ
  - `webchat`: ูุนุงุฑู ุงูุฌูุณุฉ ุฃู ุฃุณูุงุก ุงููุณุชุฎุฏููู

ูุซุงู:

```json5
{
  ุฃุฏูุงุช: {
    ูุฑุชูุนุฉ: {
      ููุนู: ุตุญูุญ,
      ุงูุณูุงุญ ูู: {
        ุฃู ุชุทุจูู: ["+155550123"]ุ
        Discord: ["steipete"ุ "1234567890123"]ุ
      },
    },
  },
}
```

ุงูุชุฌุงูุฒ ููู ูููู (ููุฏ ุฅุถุงูู):

```json5
24. {
  agents: {
    list: [
      {
        id: "family",
        tools: {
          elevated: { enabled: false },
        },
      },
    ],
  },
}
```

ููุงุญุธุงุช:

- 'tools.elevated' ูู ุฎุท ุงูุฃุณุงุณ ุงูุนุงููู. 'agents.list[].tools.elevated' ูุง ูููู ุฅูุง ุฃู ูุฒูุฏ ูู ุงููููุฏ (ููุงููุง ูุฌุจ ุฃู ูุณูุญ ุจุฐูู).
- ุญุงูุฉ ูุฎุฒู '/ุฑูุน ุนูู <unk> off<unk> ask<unk> full' ููู ููุชุงุญ ุฌูุณุฉุ ุชูุทุจู ุงูุชูุฌููุงุช ุงููุถููุฉ ุนูู ุฑุณุงูุฉ ูุงุญุฏุฉ.
- ูุฑูุน "exec" ุนูู ุงููุถูู ููุชุฌุงูุฒ ุตูุฏูู ุงูุฑูุงู.
- ููุง ุชุฒุงู ุณูุงุณุฉ ุงูุฃุฏูุงุช ุชูุทุจูุ ูุฅุฐุง ุฑููุถ "exec"ุ ูุง ูููู ุงุณุชุฎุฏุงู ุงูุฒูุงุฏุฉ ูู ุงูุฃุฏุงุก.

'agents.defaults.maxConcurrent' ูุนูู ุงูุญุฏ ุงูุฃูุตู ูุนุฏุฏ ุนูููุงุช ุชุดุบูู ุงููููู ุงููุฏูุฌุฉ ุงูุชู ูููู
ุชูููุฐูุง ุจุงูุชูุงุฒู ุนุจุฑ ุงูุฌูุณุงุช. ูู ุฌูุณุฉ ูุง ุชุฒุงู ูุชุณูุณูุฉ (ุชุดุบูู ูุงุญุฏ
ููู ููุชุงุญ ุฌูุณุฉ ูู ูู ูุฑุฉ). ุงูุงูุชุฑุงุถู: 1.

### `agents.defaults.sandbox`

ุงุฎุชูุงุฑู **ุตูุฏูู ุฑูู ุฏููุฑ** ููุนููู ุงููุฏูุฌ. ูุฎุตุต ููุฌูุณุงุช ุบูุฑ ุงูุฑุฆูุณูุฉ
ุญุชู ูุง ูุณุชุทูุนูู ุงููุตูู ุฅูู ูุธุงู ุงููุถูู ุงูุฎุงุต ุจู.

ุงูุชูุงุตูู: [Sandboxing](/gateway/sandboxing)

ุงูุงูุชุฑุงุถู (ุฅุฐุง ุชู ุชูุนูู):

- ูุทุงู: `ุงููููู"` (ุญุงููุฉ ูุงุญุฏุฉ + ูุณุงุญุฉ ุนูู ููู ูููู)
- ุตูุฑุฉ ูุณุชูุฏุฉ ุฅูู ุฏูุฏุงู ุฏูุจุง
- ูููู ุงููุตูู ุฅูู ูุถุงุก ุงูุนูู: `ูุณุงุญุงุช ุงูุนูู: "ูุง ุดูุก"` (ุงูุงูุชุฑุงุถู)
  - `ูุง ุดูุก"`: ุงุณุชุฎุฏู ูุณุงุญุฉ ุนูู ููู ูุทุงู ุชุญุช `~/.openclaw/sandboxes`
- `ro"`: ุญุงูุธ ุนูู ูุณุงุญุฉ ุงูุนูู ูู `/workspace`ุ ููู ุจุชุฑููุจ ููุงู ุงูุนูู ุงูุนุงูู ูููุฑุงุกุฉ ููุท ูู `/agent` (ุชุนุทู `ุงููุชุงุจุฉ`/`edit`/`applicy_patch`)
  - `"rw"`: ุชุฑููุจ ูููู ูุณุงุญุฉ ุงูุนูู ููุฑุฃ/ููุชุจ ูู `/workspace`
- ุงูุชูุธูู ุงูุชููุงุฆู: ุฎููู > 24 ุณุงุนุฉ ุฃู ุงูุนูุฑ > 7 ุฃูุงู
- ุณูุงุณุฉ ุงูุฃุฏูุงุช: ุงูุณูุงุญ ููุท `exec`, `process`, `read`, `write`, `edit`, `applicy_patch`, `sessions_list`, `sessions_history`, `sessions_send`, `sessions_spawn`, `session_status` (eny wins)
  - ุชูููู ุนุจุฑ `tools.sandbox.tools`ุ ุชุฌุงูุฒ ููู ูููู ุนุจุฑ `agents.list[].tools.sandbox.tools`
  - ุงุฎุชุตุงุฑุงุช ูุฌููุนุฉ ุงูุฃุฏูุงุช ุงููุฏุนููุฉ ูู ุณูุงุณุฉ ุงูุตูุฏูู ุงูุฑููู: `group:runtime`ุ `group:fs`ุ `group:sessions`ุ `group:memory` (ุงูุธุฑ [Sandbox vs Tool Policy vs Upvated](/gateway/sandbox-vs-tool-policy-vs-elevated#tool-groups-shorthands))
- ุงููุชุตูุญ ุงูุฑููู ุงูุงุฎุชูุงุฑู (Chromium + CDP, noVNC Obser)
- ุงูุชุนููุฏุงุช ุงููุชุดุฏุฏุฉ: `network`, `user`, `pidsLimit`, `memory`, `cpus`, `ulimits`, `seccompProfile`, `apparmorProfile`

ุชุญุฐูุฑ: `ุงููุทุงู: "ุงููุดุชุฑูุฉ"` ูุนูู ุญุงููุฉ ูุดุชุฑูุฉ ููุณุงุญุฉ ุนูู ูุดุชุฑูุฉ. ูุง
ุนุฒูุฉ ูุง ุจูู ุงูุฏูุฑุงุช. ุงุณุชุฎุฏู `ุงููุทุงู: "ุฏูุฑุฉ"` ููุนุฒู ูู ูู ุฏูุฑุฉ.

ุงูุฅุฑุซ: `perSession` ูุง ูุฒุงู ูุฏุนููุงู (`true` โ `scope: "session"`,
`false` โ `scope: "ุดุงุฑู"`).

'ุฅุนุฏุงุฏ ุงูุฃูุงูุฑ' ูุนูู **ูุฑุฉ ูุงุญุฏุฉ** ุจุนุฏ ุฅูุดุงุก ุงูุญุงููุฉ (ุฏุงุฎู ุงูุญุงููุฉ ุนู ุทุฑูู 'sh -lc\`).
ูุชุซุจูุช ุงูุญุฒูุฉุ ุชุฃูุฏ ูู ุชูุฏู ุงูุดุจูุฉุ ูุฌุฐุฑ FS ูุงุจู ูููุชุงุจุฉุ ููุณุชุฎุฏู ุงูุฌุฐุฑ.

```json5
25. {
  agents: {
    defaults: {
      sandbox: {
        mode: "non-main", // off | non-main | all
        scope: "agent", // session | agent | shared (agent is default)
        workspaceAccess: "none", // none | ro | rw
        workspaceRoot: "~/.openclaw/sandboxes",
        docker: {
          image: "openclaw-sandbox:bookworm-slim",
          containerPrefix: "openclaw-sbx-",
          workdir: "/workspace",
          readOnlyRoot: true,
          tmpfs: ["/tmp", "/var/tmp", "/run"],
          network: "none",
          user: "1000:1000",
          capDrop: ["ALL"],
          env: { LANG: "C.UTF-8" },
          setupCommand: "apt-get update && apt-get install -y git curl jq",
          // Per-agent override (multi-agent): agents.list[].sandbox.docker.*
          pidsLimit: 256,
          memory: "1g",
          memorySwap: "2g",
          cpus: 1,
          ulimits: {
            nofile: { soft: 1024, hard: 2048 },
            nproc: 256,
          },
          seccompProfile: "/path/to/seccomp.json",
          apparmorProfile: "openclaw-sandbox",
          dns: ["1.1.1.1", "8.8.8.8"],
          extraHosts: ["internal.service:10.0.0.5"],
          binds: ["/var/run/docker.sock:/var/run/docker.sock", "/home/user/source:/source:rw"],
        },
        browser: {
          enabled: false,
          image: "openclaw-sandbox-browser:bookworm-slim",
          containerPrefix: "openclaw-sbx-browser-",
          cdpPort: 9222,
          vncPort: 5900,
          noVncPort: 6080,
          headless: false,
          enableNoVnc: true,
          allowHostControl: false,
          allowedControlUrls: ["http://10.0.0.42:18791"],
          allowedControlHosts: ["browser.lab.local", "10.0.0.42"],
          allowedControlPorts: [18791],
          autoStart: true,
          autoStartTimeoutMs: 12000,
        },
        prune: {
          idleHours: 24, // 0 disables idle pruning
          maxAgeDays: 7, // 0 disables max-age pruning
        },
      },
    },
  },
  tools: {
    sandbox: {
      tools: {
        allow: [
          "exec",
          "process",
          "read",
          "write",
          "edit",
          "apply_patch",
          "sessions_list",
          "sessions_history",
          "sessions_send",
          "sessions_spawn",
          "session_status",
        ],
        deny: ["browser", "canvas", "nodes", "cron", "discord", "gateway"],
      },
    },
  },
}
```

ุจูุงุก ุตูุฑุฉ ุตูุฏูู ุงูุฑูู ุงูุงูุชุฑุงุถูุฉ ูุฑุฉ ูุงุญุฏุฉ:

```bash
scripts/sandbox-setup.sh
```

ููุงุญุธุฉ: ุงูุญุงููุงุช ุงูุงูุชุฑุงุถูุฉ ูู `Net: "none"`ุ ูู ุจุชุนููู `agents.defaults.sandbox.docker.network`
ุฅูู `"bridge"` (ุฃู ุงูุดุจูุฉ ุงููุฎุตุตุฉ) ุฅุฐุง ูุงู ุงููููู ูุญุชุงุฌ ุฅูู ุงููุตูู ุฅูู ุงูุฎุงุฑุฌ.

ููุงุญุธุฉ: ูุชู ุชุฌููุฒ ุงููุฑููุงุช ุงููุงุฑุฏุฉ ูู ุญูุฒ ุงูุนูู ุงููุดุท ูู `media/inint/*`. ูุน `ูุณุงุญุงุช ุงูุนูู: "rw"`ุ ููุฐุง ูุนูู ุฃู ุงููููุงุช ููุชูุจุฉ ูู ูุณุงุญุฉ ุนูู ุงููููู.

ููุงุญุธุฉ: 'docker.binds' ูุชููู ูู ุฃุฏูุฉ ูุถููุฉ ุฅุถุงููุฉุ ูุชู ุฏูุฌ ุงูุฑูุงุจุท ุงูุนุงูููุฉ ูุงูููุฒูุฉ.

ูู ุจุฅูุดุงุก ุตูุฑุฉ ุงููุชุตูุญ ุงูุงุฎุชูุงุฑูุฉ ูุน:

```bash
scripts/sandbox-browser-setup.sh
```

ุนูุฏูุง 'agents.defaults.sandbox.browser.enabled=true\`ุ ุชุณุชุฎุฏู ุฃุฏุงุฉ ุงููุชุตูุญ ูุซูู Sandboxed
Chromium (CDP). ุฅุฐุง ุชู ุชูููู noVNC (ุงูุงูุชุฑุงุถู ุนูุฏ headless=false)ุ
ูุชู ุญูู ุฑุงุจุท noVNC ูู ููุฌู ุงููุธุงู ุญุชู ูุชููู ุงููููู ูู ุงูุฑุฌูุน ุฅููู.
ูุฐุง ูุง ูุชุทูุจ 'browser.enabled' ูู ุงูุชูููู ุงูุฑุฆูุณูุ ูุชู ุญูู ุฑุงุจุท sandbox
ูู ูู ุฏูุฑุฉ.

`agents.defaults.sandbox.browser.allowhostControl` (ุงูุงูุชุฑุงุถู: false) ูุณูุญ ูุฌูุณุงุช
sandboxed ุฃู ุชุณุชูุฏู ุตุฑุงุญุฉ ุฎุงุฏู **ุงููุถูู** ููุชุญูู ูู ุงููุชุตูุญ
ุนู ุทุฑูู ุฃุฏุงุฉ ุงููุชุตูุญ (`target: "host"`). 26. ุงุชุฑู ูุฐุง ุงูุฎูุงุฑ ูุนุทูููุง ุฅุฐุง ููุช ุชุฑูุฏ ุนุฒููุง ุตุงุฑููุง ูุตูุฏูู ุงูุญูุงูุฉ.

ุงูุณูุงุญ ุจููุงุฆู ูุญุฏุฉ ุงูุชุญูู ุนู ุจุนุฏ:

- `allowedControlUrls`: ุนูุงููู URL ุงููุญุฏุฏุฉ ููุชุญูู ุงููุณููุญ ุจูุง ูู `ุงููุฏู: "custom"`.
- 'allowedControlHosts\`: ุฃุณูุงุก ุงููุถูููู ุงููุณููุญ ุจูุง (ุงููุถูู ููุทุ ูุง ูููุงุก).
- `allowedControlPorts`: ุงูููุงูุฆ ุงููุณููุญ ุจูุง (ุงูุงูุชุฑุงุถู: http=80ุ https=443).
  ุงูุงูุชุฑุงุถู: ุฌููุน ููุงุฆู ุงูุณูุงุญ ุบูุฑ ูุญุฏุฏุฉ (ูุง ููุฌุฏ ููุฏ). ุงูุงูุชุฑุงุถู 'allowhostControl' ุฅูู ุงููุงุฐุจ.

### `ุงูููุงุฐุฌ` (ุงููุฒูุฏูู ุงููุฎุตุตูู + ุนูุงููู URL ุงูุฃุณุงุณูุฉ)

ูุณุชุฎุฏู OpenClaw ุงููุชุงููุฌ ุงููููุฐุฌู **P-coding-agent**. ููููู ุฅุถุงูุฉ ูููุฑู ูุฎุตุตูู
(LiteLMุ ุฎูุงุฏู ูุชูุงููุฉ ูุน OpenAIุ ูููุงุก ุฃูุซุฑูุจููุ ุฅูุฎ.) ุจูุชุงุจุฉ
`~/.openclaw/agents/<agentId>/agent/models.json` ุฃู ุจุชุญุฏูุฏ ููุณ ุงููุฎุทุท ุฏุงุฎู ุงุนุฏุงุฏุงุช OpenClaw ุงูุฎุงุตุฉ ุจู
ุชุญุช `models.providers`.
ูุธุฑุฉ ุนุงูุฉ ููู ูููุฑ + ุฃูุซูุฉ: [/concepts/model-providers](/concepts/model-providers).

ุนูุฏูุง ูููู `models.providers` ุญุงุถุฑุงูุ ููุชุจ OpenClaw /ูุฏูุฌ `models.json` ูู
`~/.openclaw/agents/<agentId>/agent/` ุนูุฏ ุงูุจุฏุก:

- ุงูุณููู ุงูุงูุชุฑุงุถู: **ุงูุฏูุฌ** (ุงูุญูุงุธ ุนูู ููุฏูู ุงูุฎุฏูุงุช ุงูุญุงููููุ ุงูุชุฌุงูุฒุงุช ุนูู ุงูุงุณู)
- ุชุนููู `models.mode: "replace"` ูุงุณุชุจุฏุงู ูุญุชููุงุช ุงูููู

ุญุฏุฏ ุงููููุฐุฌ ุนู ุทุฑูู `agents.defaults.model.primary` (provider/model).

```json5
27. {
  agents: {
    defaults: {
      model: { primary: "custom-proxy/llama-3.1-8b" },
      models: {
        "custom-proxy/llama-3.1-8b": {},
      },
    },
  },
  models: {
    mode: "merge",
    providers: {
      "custom-proxy": {
        baseUrl: "http://localhost:4000/v1",
        apiKey: "LITELLM_KEY",
        api: "openai-completions",
        models: [
          {
            id: "llama-3.1-8b",
            name: "Llama 3.1 8B",
            reasoning: false,
            input: ["text"],
            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },
            contextWindow: 128000,
            maxTokens: 32000,
          },
        ],
      },
    },
  },
}
```

### ุฑูุฒ OpenCode Zen (ูููู ูุชุนุฏุฏ ุงูุทุฑุงุฒ)

ุฑูุฒ OpenCode Zen ูู ุจูุงุจุฉ ูุชุนุฏุฏุฉ ุงูููุงุฐุฌ ูุน ููุงุท ููุงูุฉ ููู ูููุฐุฌ. ูุณุชุฎุฏู OpenClaw
ูููุฑ `opencode` ุงููุฏูุฌ ูู pi-ai; ุชุนููู `OPENCODE_API_KEY` (ุฃู
`OPENCODE_ZEN_API_KEY`) ูู [https://opencode.ai/auth](https://opencode.ai/auth).

ููุงุญุธุงุช:

- ุงููููุฐุฌ ูุฑูุถ ุงุณุชุฎุฏุงู `opencode/<modelId>` (ูุซุงู: `opencode/claude-opus-4-6`).
- ุฅุฐุง ููุช ุจุชูููู ูุงุฆูุฉ ุงูุณูุงุญ ุนู ุทุฑูู `agents.defaults.models`ุ ูู ุจุฅุถุงูุฉ ูู ูููุฐุฌ ุชุฎุทุท ูุงุณุชุฎุฏุงูู.
- ุงุฎุชุตุงุฑ: `openclaw onboard--Opth-Opcode-zen`.

```json5
{
  ุงููููุงุก: {
    ุงูุฅูุชุฑุงุถู: {
      model: { preary: "opencode/claude-opus-4-6" }ุ
      ุงูููุงุฐุฌ: { "opencode/claude-opus-4-6": { alias: "Opus" } }ุ
    },
  },
}
```

### Z.AI (GLM-4.7) - ุฏุนู ูุณุชุนุงุฑ ููุฏู ุงูุฎุฏูุฉ

ูุชุชููุฑ ููุงุฐุฌ Z.AI ุนู ุทุฑูู ูุฒูุฏ 'zai`ุงููุฏูุฌ. ุชุนููู`ZAI_API_KEY\`
ูู ุจูุฆุชู ูุงูุฅุดุงุฑุฉ ุฅูู ุงููููุฐุฌ ุจูุงุณุทุฉ ุงููุฒูุฏ/ุงููููุฐุฌ.

ุงุฎุชุตุงุฑ: `openclaw onboard--ูู ุจุงุฎุชูุงุฑ zai-api-key`.

```json5
{
  ุงููููุงุก: {
    ุงูุฅูุชุฑุงุถู: {
      model: { preary: "zai/glm-4.7" },
      models: { "zai/glm-4.7": {} ,
    },
  },
}
```

ููุงุญุธุงุช:

- 'z.ai/_' ู 'z-ai/_' ููุจูุงู ุงูุฃุณูุงุก ุงููุณุชุนุงุฑุฉ ููุนููุงู ุนูู ุชุทุจูุน 'zai/\*\`.
- ุฅุฐุง ูุงู 'ZAI_API_KEY' ููููุฏุงุ ูุฅู ุทูุจุงุช 'zai/\*' ุณุชูุดู ูุน ุฎุทุฃ ุงููุตุงุฏูุฉ ูู ููุช ุงูุชุดุบูู.
- ุฎุทุฃ ูุซุงู: `ูู ูุชู ุงูุนุซูุฑ ุนูู ููุชุงุญ API ูููุฒูุฏ "ุฒุงู".`
- ููุทุฉ ููุงูุฉ Z.AI ุงูุนุงูุฉ ูู `https://api.z.ai/api/paas/v4`. ุทูุจุงุช ุจุฑูุฌุฉ GLM
  ุชุณุชุฎุฏู ููุทุฉ ููุงูุฉ ุงูุชุฑููุฒ ุงููุฎุตุตุฉ `https://api.z.ai/api/coding/paas/v4`.
  ูุณุชุฎุฏู ูููุฑ 'zai' ุงููุฏูุฌ ููุทุฉ ููุงูุฉ ุงูุชุฑููุฒ. ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู
  endpoint ุงูุนุงูุฉุ ูู ุจุชุญุฏูุฏ ูููุฑ ูุฎุตุต ูู `models.providers` ูุน ุชุฌุงูุฒ URL ุงูุฃุณุงุณู
  (ุงูุธุฑ ูุณู ููุฏูู ุงูุฎุฏูุงุช ุงููุฎุตุต ุฃุนูุงู).
- ุงุณุชุฎุฏุงู ุนูุตุฑ ูุงุฆุจ ูุฒูู ูู ุงููุณุชูุฏุงุช/ุงูุชููููุงุชุ ูุง ูุฎุตุต ุฃุจุฏุง ููุงุชูุญ API ุงูุญููููุฉ.

### Moonshot AI (Kimi)

ุงุณุชุฎุฏู ููุทุฉ ุทุฑููุฉ ูุชูุงููุฉ ููุทุฉ ุงูููุฑ:

```json5
28. {
  env: { MOONSHOT_API_KEY: "sk-..." },
  agents: {
    defaults: {
      model: { primary: "moonshot/kimi-k2.5" },
      models: { "moonshot/kimi-k2.5": { alias: "Kimi K2.5" } },
    },
  },
  models: {
    mode: "merge",
    providers: {
      moonshot: {
        baseUrl: "https://api.moonshot.ai/v1",
        apiKey: "${MOONSHOT_API_KEY}",
        api: "openai-completions",
        models: [
          {
            id: "kimi-k2.5",
            name: "Kimi K2.5",
            reasoning: false,
            input: ["text"],
            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },
            contextWindow: 256000,
            maxTokens: 8192,
          },
        ],
      },
    },
  },
}
```

ููุงุญุธุงุช:

- ุชุนููู `MOONSHOT_API_KEY` ูู ุงูุจูุฆุฉ ุฃู ุงุณุชุฎุฏุงู `openclaw onboard--ูู ุจุงุฎุชูุงุฑ ุงูููุฑ api-key`.
- ุงููุฑุฌุน ุงููููุฐุฌู: `ุงูููุฑ/kimi-k2.5`.
- ุจุงููุณุจุฉ ูููุทุฉ ููุงูุฉ ุงูุตููุ ุฅูุง:
  - ุชุดุบูู `openclaw onboard--auth-choice moonshot-api-key-cn' (ุงููุนุงูุฌ ุณูููู ุจุชุนููู `https://api.moonshot.cn/v1\`)ุ ุฃู
  - ูู ุจุชุนููู `baseUrl: "https://api.moonshot.cn/v1"` ูู `models.providers.moonshot`.

### Kimi Coding

ุงุณุชุฎุฏู ููุทุฉ ููุงูุฉ ุฑูุฒ ูููู (AI) ููุทุฉ ุงูููุฑ (ูุชูุงููุฉ ูุน ุงูุฃูุซุฑูุจููุ ูุฒูุฏ ูุฏูุฌ):

```json5
{
  env: { KIMI_API_KEY: "sk-..." },
  agents: {
    defaults: {
      model: { primary: "kimi-coding/k2p5" },
      models: { "kimi-coding/k2p5": { alias: "Kimi K2.5" } },
    },
  },
}
```

ููุงุญุธุงุช:

- ุชุนููู `KIMI_API_KEY` ูู ุงูุจูุฆุฉ ุฃู ุงุณุชุฎุฏุงู `openclaw onboard--ูู ุจุงุฎุชูุงุฑ kimi-code-api-key`.
- ุงููุฑุฌุน ุงููููุฐุฌู: `ุชุฑููุฒ kimi-coding/k2p5`.

### ุงุตุทูุงุนู (ูุชูุงูู ูุน ุงูุฃูุซุฑูุจูู)

ุงุณุชุฎุฏู ููุทุฉ ุงูููุงูุฉ ุงููุชูุงููุฉ ูุน ุงูุฃูุซุฑูุจูู:

```json5
{
  env: { SYNTHETIC_API_KEY: "sk-..." },
  agents: {
    defaults: {
      model: { primary: "synthetic/hf:MiniMaxAI/MiniMax-M2.1" },
      models: { "synthetic/hf:MiniMaxAI/MiniMax-M2.1": { alias: "MiniMax M2.1" } },
    },
  },
  models: {
    mode: "merge",
    providers: {
      synthetic: {
        baseUrl: "https://api.synthetic.new/anthropic",
        apiKey: "${SYNTHETIC_API_KEY}",
        api: "anthropic-messages",
        models: [
          {
            id: "hf:MiniMaxAI/MiniMax-M2.1",
            name: "MiniMax M2.1",
            reasoning: false,
            input: ["text"],
            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },
            contextWindow: 192000,
            maxTokens: 65536,
          },
        ],
      },
    },
  },
}
```

ููุงุญุธุงุช:

- ุชุนููู `SYNTHETIC_API_KEY` ุฃู ุงุณุชุฎุฏุงู `openclaw ุนูู ูุชู - ุงุฎุชูุงุฑ ุงุตุทูุงุนู-api-key`.
- ุฑูู ุงูููุงุฐุฌ: `ุงูุชุฑููุจ/hf:MiniMaxAI/MiniMax-M2.1`.
- ุนููุงู URL ุงูุฃุณุงุณู ูุฌุจ ุฃู ูุญุฐู `/v1` ูุฃู ุนููู Anthropic ูุฑููู.

### ุงูููุงุฐุฌ ุงููุญููุฉ (LM Studio) - ุงูุฅุนุฏุงุฏ ุงูููุตู ุจู

ุงูุธุฑ [/gateway/local-models](/gateway/local-models) ููุญุตูู ุนูู ุงูุชูุฌูู ุงููุญูู ุงูุญุงูู. TL;DR: ูู ุจุชุดุบูู MiniMax M2.1 ุนุจุฑ LM Studio Responses API ุนูู ุงููุนุฏุงุช ุงูุฌุงุฏุฉุ ุญุงูุธ ุนูู ุงูููุงุฐุฌ ุงููุณุชุถุงูุฉ ูุฏูุฌุฉ ููุงุณุชุฑุฏุงุฏ.

### MiniMax M2.1

ุงุณุชุฎุฏู MiniMax M2.1 ูุจุงุดุฑุฉ ุจุฏูู ุงุณุชูุฏูู LM:

```json5
29. {
  agent: {
    model: { primary: "minimax/MiniMax-M2.1" },
    models: {
      "anthropic/claude-opus-4-6": { alias: "Opus" },
      "minimax/MiniMax-M2.1": { alias: "Minimax" },
    },
  },
  models: {
    mode: "merge",
    providers: {
      minimax: {
        baseUrl: "https://api.minimax.io/anthropic",
        apiKey: "${MINIMAX_API_KEY}",
        api: "anthropic-messages",
        models: [
          {
            id: "MiniMax-M2.1",
            name: "MiniMax M2.1",
            reasoning: false,
            input: ["text"],
            // Pricing: update in models.json if you need exact cost tracking.
            cost: { input: 15, output: 60, cacheRead: 2, cacheWrite: 10 },
            contextWindow: 200000,
            maxTokens: 8192,
          },
        ],
      },
    },
  },
}
```

ููุงุญุธุงุช:

- ุชุนููู ูุชุบูุฑ ุงูุจูุฆุฉ `MINIMAX_API_KEY` ุฃู ุงุณุชุฎุฏุงู `openclaw ุนูู ูุชู - auth-choice minimax-api`.
- ุงููููุฐุฌ ุงููุชุงุญ: \`MiniMax-M2.1' (ุงูุงูุชุฑุงุถู).
- ุชุญุฏูุซ ุงูุชุณุนูุฑ ูู `models.json` ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุชุชุจุน ุฏููู ููุชูููุฉ.

### ุณูุฑูุจุฑุงุณ (GLM 4.6 / 4.7)

ุงุณุชุฎุฏุงู Cerebras ุนุจุฑ ููุทุฉ ุทุฑููุฉ ูุชูุงููุฉ ูุน OpenAI:

```json5
{
  env: { CEREBRAS_API_KEY: "sk-... },
  ุงููููุงุก: {
    ุงูุฅูุชุฑุงุถู: {
      ูููุฐุฌ: {
        ูู ุงูููุงู ุงูุฃูู: "cerebras/zai-glm-4. ""
        ูุนุทู: ["cerebras/zai-glm-4. "]ุ
      }ุ
      ุงูููุงุฐุฌ : {
        "cerebras/zai-glm-4. ": { alias: "GLM 4.7 (Cerebras") },
        "cerebras/zai-glm-4.6": { alias: "GLM 4. (Cerebras)" },
      },
    },
  },
  ูููุฐุฌ: {
    : "ุงูุงูุฏูุงุฌ"
    ููุฏูู ุงูุฎุฏูุงุช: {
      cerebras: {
        baseUrl: "https://api. ุฅูุฑูุจุฑุงุณ. i/v1",
        apiKey: "${CEREBRAS_API_KEY}",
        api: "openai-completions",
        ููุงุฐุฌ [
          { id: "zai-glm-4. "ุ ุงูุงุณู: "GLM 4. (Cerebras)" },
          { id: "zai-glm-4.6", name: "GLM 4. (Cerebras)" },
        ]ุ
      }ุ
    },
  },
}
```

ููุงุญุธุงุช:

- ุงุณุชุฎุฏุงู 'cerebras/zai-glm-4.7' ููุณูุฑูุจุฑุงุณุ ุงุณุชุฎุฏุงู 'zai/glm-4.7' ููุฒู ุขู ุงููุจุงุดุฑ.
- ุชุนููู `CEREBRAS_API_KEY` ูู ุงูุจูุฆุฉ ุฃู ุงูุชูููู.

ููุงุญุธุงุช:

- ุงูุชุทุจููุงุช ุงููุฏุนููุฉ: `openai-completions`, `openai-responses`, `anthropic-messages`,
  `google-generative-ai`
- ุงุณุชุฎุฏู "Auteheader: true" + "headers" ูุงุญุชูุงุฌุงุช ุงููุตุงุฏูุฉ ุงููุฎุตุตุฉ.
- ุชุฌุงูุฒ ุฌุฐุฑ ุฅุนุฏุงุฏ ุงููููู ูุน `OPENCLAW_AGENT_DIR` (ุฃู `PI_CODING_AGENT_DIR`)
  ุฅุฐุง ููุช ุชุฑูุฏ ุชุฎุฒูู `models.json` ูู ููุงู ุขุฎุฑ (ุงูุงูุชุฑุงุถู: `~/.openclaw/agents/main/agent`).

### `ุงูุฌูุณุฉ`

ุงูุชุญูู ูู ูุทุงู ุงูุฌูุณุฉุ ุฅุนุงุฏุฉ ุชุนููู ุงูุณูุงุณุฉุ ุฅุนุงุฏุฉ ุชุนููู ุงููุดุบูุงุชุ ูุญูุซูุง ูุชู ูุชุงุจุฉ ูุชุฌุฑ ุงูุฌูุณุฉ.

```json5
30. {
  session: {
    scope: "per-sender",
    dmScope: "main",
    identityLinks: {
      alice: ["telegram:123456789", "discord:987654321012345678"],
    },
    reset: {
      mode: "daily",
      atHour: 4,
      idleMinutes: 60,
    },
    resetByType: {
      thread: { mode: "daily", atHour: 4 },
      dm: { mode: "idle", idleMinutes: 240 },
      group: { mode: "idle", idleMinutes: 120 },
    },
    resetTriggers: ["/new", "/reset"],
    // Default is already per-agent under ~/.openclaw/agents/<agentId>/sessions/sessions.json
    // You can override with {agentId} templating:
    store: "~/.openclaw/agents/{agentId}/sessions/sessions.json",
    // Direct chats collapse to agent:<agentId>:<mainKey> (default: "main").
    mainKey: "main",
    agentToAgent: {
      // Max ping-pong reply turns between requester/target (0โ5).
      maxPingPongTurns: 5,
    },
    sendPolicy: {
      rules: [{ action: "deny", match: { channel: "discord", chatType: "group" } }],
      default: "allow",
    },
  },
}
```

ุงูุญููู:

- `mainKey`: ููุชุงุญ ุงูุฏูู ุงููุจุงุดุฑ (ุงูุงูุชุฑุงุถู: `main"). ูููุฏ ุนูุฏูุง ุชุฑูุฏ "ุฅุนุงุฏุฉ ุชุณููุฉ" ููุถูุน DM ุงูุฃุณุงุณู ุฏูู ุชุบููุฑ `ูููู\`.
  - ููุงุญุธุฉ ุตูุฏูู ุงูุฑููุฉ: `agents.defaults.sandbox.mode: "unmain"` ูุณุชุฎุฏู ูุฐุง ุงูููุชุงุญ ููุดู ุงูุฌูุณุฉ ุงูุฑุฆูุณูุฉ. ุฃู ููุชุงุญ ุฌูุณุฉ ูุง ูุชุทุงุจู ูุน 'mainKey' (ุงููุฌููุนุงุช/ุงููููุงุช) ูู ูุฑุจุน.
- `dmSscope`: ููููุฉ ุชุฌููุน ุฌูุณุงุช DM (ุงูุงูุชุฑุงุถู: `main"`).
  - `ุฃุณุงุณุงู`: ุชุดุชุฑู ุฌููุน ูุดุงุฑูุน ุงูุทุฑุงุฆู ูู ุงูุฏูุฑุฉ ุงูุฑุฆูุณูุฉ ูู ุฃุฌู ุงูุงุณุชูุฑุงุฑูุฉ.
  - `ููุฃูุฏุงุฏ`: ุนุฒู DMs ุจูุงุณุทุฉ ูุนุฑู ุงููุฑุณู ุนุจุฑ ุงููููุงุช.
  - `ููู ููุงุฉ-ุฃูุฑุงู`: ุนุฒู DMs ููู ููุงุฉ + ุงููุฑุณู (ููุตู ุจู ููุตูุฏููุงุช ุงููุงุฑุฏุฉ ูุชุนุฏุฏุฉ ุงููุณุชุฎุฏููู).
  - 'per-account-channel-peer': ุนุฒู DMs ููู ุญุณุงุจ + ููุงุฉ + ุงููุฑุณู (ููุตู ุจู ูุตูุงุฏูู ุงููุงุฑุฏ ูุชุนุฏุฏุฉ ุงูุญุณุงุจุงุช).
  - ูุถุน DM ุขูู (ููุตู ุจู): ุชุนููู `session.dmSscope: "per-channel-peer"` ุนูุฏูุง ูุณุชุทูุน ุฃุดุฎุงุต ูุชุนุฏุฏูู ุชุญููู ุงูุจูุช (ุตูุงุฏูู ุงููุงุฑุฏ ุงููุดุชุฑูุฉุ ููุงุฆู ุงูุณูุงุญ ุจุชุนุฏุฏ ุงูุฃุดุฎุงุตุ ุฃู `dmPolicy: "open"`).
- `identityLinks`: ุฎุฑุงุฆุท ูุนุงุฑู ุฅูู ุฃูุฑุงู ูุฒูุฏูู ูุณุจููู ุจุญูุซ ูุดุงุฑู ููุณ ุงูุดุฎุต ุฌูุณุฉ DM ุนุจุฑ ุงููููุงุช ุนูุฏ ุงุณุชุฎุฏุงู `per-peer` ุฃู `per-channel-peer` ุฃู `per-account-channel-peer`.
  - ูุซุงู: `alice: ["telegram:123456789", "Discord:987654321012345678"]`.
- 'ุฅุนุงุฏุฉ ุชุนููู\`: ุณูุงุณุฉ ุฅุนุงุฏุฉ ุชุนููู ุงูุฃูููุฉ. ุงูุงูุชุฑุงุถู ุฅูู ุฅุนุงุฏุฉ ุงูุถุจุท ุงูููููุฉ ูู ุงูุณุงุนุฉ 4:00 ุจุงูุชูููุช ุงููุญูู ุนูู ุงูุจูุงุจุฉ.
  - `mode`: `daily` ุฃู `idle` (ุงูุงูุชุฑุงุถู: `daily` ุนูุฏูุง ูููู `reset` ููุฌูุฏุงู).
  - `ุณุงุนุฉ`: ุงูุณุงุนุฉ ุงููุญููุฉ (0-23) ูุฅุนุงุฏุฉ ุชุนููู ุงูุญุฏูุฏ ุงูููููุฉ.
  - `idleMinutes`: ูุงูุฐุฉ ุฎุงููุฉ ููุฒูุฉ ูู ุฏูุงุฆู. ุนูุฏ ุชูุนูู ุงููููู + ุงูุฎููู ูุนูุงุ ูููุฒ ุฃููููุง ููุชูู ุฃูููุง.
- `resetByType`: ุชุฌุงูุฒ ููู ุฌูุณุฉ ู `dm` ู`group` ู`thread`.
  - ุฅุฐุง ููุช ููุท ุจุชุนููู ุงูุฅุฑุซ 'session.idleMinutes' ุฏูู ุฃู 'reset\`/'resetByType'ุ ูุจูู OpenClaw ูู ูุถุน ุงูุฎููู ููุท ูุชุญููู ุงูุชูุงูู ุงูุฎููู.
- `ููุจ ุฅุฏููููููุชุณ`: ุชุฌุงูุฒ ุฎุงูู ุงุฎุชูุงุฑู ููุญูุต ูุจุถ ุงูููุจ (ุฅุนุงุฏุฉ ุงูุถุจุท ุงูููููุฉ ูุง ุชุฒุงู ุชูุทุจู ุนูุฏ ุงูุชูููู).
- 'agentToAgent.maxPingPongTurns': ุงูุญุฏ ุงูุฃูุตู ูุฏูุฑุงู ุงูุฑุฏ - ุงูุธูุฑ ุจูู ุงูุทุงูุจ/ุงููุฏู (0-5ุ ุงูุงูุชุฑุงุถู 5).
- `sendPolicy.default`: `allow' ุฃู `deny' ุนูุฏ ุนุฏู ูุฌูุฏ ูุงุนุฏุฉ ูุชุทุงุจูุฉ.
- `sendPolicy.rules[]`: match by `channel`, `chatType` (`direct<unk> group<unk> room`), or `keyPrefix` (ูุซู `cron:`). ุฃููุง ุฑูุถ ุงูููุฒุ ูุฅูุง ุงุณูุญ

### `ุงูููุงุฑุงุช` (ุชูููู ุงูููุงุฑุงุช)

ุงูุชุญูู ูู ูุงุฆูุฉ ุงูุณูุงุญ ุงููุฌูุนุฉุ ุชุซุจูุช ุงูุชูุถููุงุชุ ูุฌูุฏุงุช ุงูููุงุฑุงุช ุงูุฅุถุงููุฉุ ูุชุฌุงูุฒ ูู ููุงุฑุฉ
ููุทุจู ุนูู **ุญุฒู** ุงูููุงุฑุงุช ู `~/.openclaw/skills` (ููุงุฑุงุช ูุณุงุญุฉ ุงูุนูู
ูุง ูุฒุงู ุงูููุฒ ุนูู ุชูุงุฒุน ุงูุฃุณูุงุก).

ุงูุญููู:

- `allowBundled`: ูุงุฆูุฉ ุณูุงุญ ุงุฎุชูุงุฑูุฉ ูู Skills **ุงููุถูููุฉ** ููุท. 31. ุฅุฐุง ุชู ุชุนููููุ ูุณุชููู ููุท
  ุงูููุงุฑุงุช ุงููุฌููุนุฉ (bundled) ูุคููุฉ (ุงูููุงุฑุงุช ุงูููุฏุงุฑุฉ/ููุงุฑุงุช ูุณุงุญุฉ ุงูุนูู ุบูุฑ ูุชุฃุซุฑุฉ).
- `load.extraDirs`: ุฃุฏูุฉ Skills ุฅุถุงููุฉ ูููุณุญ (ุฃุฏูู ุฃููููุฉ).
- `install.preferBrew`: ุชูุถูู ูุซุจูุชุงุช brew ุนูุฏ ุชููุฑูุง (ุงูุงูุชุฑุงุถู: true).
- 'install.nodeManager': ุชูุถูู ุชุซุจูุช ุงูุนูุฏุฉ ('npm' <unk> 'pnpm' <unk> 'yarn'ุ ุงูุงูุชุฑุงุถู: npm).
- `entries.<skillKey>`: ุชุฌุงูุฒ ุงูุชูููู ููู ููุงุฑุฉ.

ุงูุญููู ุงูุฎุงุตุฉ ุจูู Skill:

- `enabled`: ุนููู `false` ูุชุนุทูู Skill ุญุชู ูู ูุงูุช ูุถูููุฉ/ูุซุจูุชุฉ.
- `env`: ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงูุชู ุชูุญูู ุฃุซูุงุก ุชุดุบูู ุงููููู (ููุท ุฅุฐุง ูู ุชูู ูุถุจูุทุฉ ุจุงููุนู).
- `apiKey`: ุงูููุงุกูุฉ ุงูุงุฎุชูุงุฑูุฉ ููููุงุฑุงุช ุงูุชู ุชุนูู ุนู ูุฎุฑุฌ ุฃุณุงุณู (ูุซู 'nano-Banana-pro` โ 'GEMINI_API_KEY`).

ูุซุงู:

```json5
32. {
  skills: {
    allowBundled: ["gemini", "peekaboo"],
    load: {
      extraDirs: ["~/Projects/agent-scripts/skills", "~/Projects/oss/some-skill-pack/skills"],
    },
    install: {
      preferBrew: true,
      nodeManager: "npm",
    },
    entries: {
      "nano-banana-pro": {
        apiKey: "GEMINI_KEY_HERE",
        env: {
          GEMINI_API_KEY: "GEMINI_KEY_HERE",
        },
      },
      peekaboo: { enabled: true },
      sag: { enabled: false },
    },
  },
}
```

### "ุงูุฅุถุงูุงุช" (ุงูููุญูุงุช)

ุงูุชุญูู ูู ุงูุชุดุงู ุงูุงุถุงูุงุชุ ุงูุณูุงุญ/ุฑูุถ ุงูุชููููุ ู ููู ูููู ุฅุถุงูู. ูุชู ุชุญููู ุงูุฅุถุงูุงุช
ูู '~/.openclaw/extensions`, `<workspace>/.openclaw/extensions`, ุจุงูุฅุถุงูุฉ ุฅูู ุฃู ุฅุฏุฎุงูุงุช
`plugins.load.paths\`. **ุชุบููุฑุงุช ุงูุชูููู ุชุชุทูุจ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุจูุงุจุฉ.**
ุฑุงุฌุน [/plugin](/tools/plugin) ููุงุณุชุฎุฏุงู ุงููุงูู.

ุงูุญููู:

- 'ุชูููู\`: ุงูุชุจุฏูู ุงูุฑุฆูุณู ูุชุญููู ุงูุฅุถุงูุงุช (ุงูุงูุชุฑุงุถู: ุตุญูุญ).
- `ุณูุญ`: ูุงุฆูุฉ ุงูุณูุงุญ ุงูุงุฎุชูุงุฑูุฉ ุจูุนุงุฑู ุงูุฅุถุงูุฉุ ุนูุฏ ุชุนููููุงุ ููุท ุชุญููู ุงูุฅุถุงูุงุช ุงููุฏุฑุฌุฉ ูู ุงููุงุฆูุฉ.
- `ููุฑ`: ุงููุงุฆูุฉ ุงูุงุฎุชูุงุฑูุฉ ููุนุงุฑู ุงูุฅุถุงูุงุช (ููู ูููุฒ).
- 'load.paths': ูููุงุช ุฅุถุงููุฉ ุฃู ุฃุฏูุฉ ุฅุถุงููุฉ ููุชุญููู (ูุทููุฉ ุฃู '~\`).
- `ุฅุฏุฎุงูุงุช'.<pluginId>`: ุชุฌุงูุฒ ุงูููููุงุช ุงูุฅุถุงููุฉ.
  - 'ุชูููู\`: ุชุนููู 'ุฎุทุฃ' ูุชุนุทูู.
  - `config`: ูุงุฆู ุชูููู ุฎุงุต ุจุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ (ุชู ุงูุชุญูู ูู ุตุญุชูุง ุจูุงุณุทุฉ ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ ุฅุฐุง ุชู ุชูููุฑู).

ูุซุงู:

```json5
33. {
  plugins: {
    enabled: true,
    allow: ["voice-call"],
    load: {
      paths: ["~/Projects/oss/voice-call-extension"],
    },
    entries: {
      "voice-call": {
        enabled: true,
        config: {
          provider: "twilio",
        },
      },
    },
  },
}
```

### 'ุงููุชุตูุญ' (ูุชุตูุญ ููุชูุญ ุงููุฏุงุฑ)

OpenClaw ูููู ุฃู ูุจุฏุฃ ูุซูู **ูุฑูู/Brave/Edge/Chromium ูู openclaw ูููุดู ุนู ุฎุฏูุฉ ุตุบูุฑุฉ ููุชุญูู ูู ุงูุธููุฑ.
ูููู ูููููุงุช ุงูุดุฎุตูุฉ ุฃู ุชุดูุฑ ุฅูู ูุชุตูุญ **ุนู ุจุนุฏ** ูููู ุนูู Chromium** ุนุจุฑ `ูููุงุช ุชุนุฑูููุฉ.<name>.cdpUrl`. ุงููููุงุช ุงูุดุฎุตูุฉ
ูุฑููุฉ ููุท (ุชุดุบูู/ุฅููุงู/ุฅุนุงุฏุฉ ุชุนููู ูุนุทูุฉ).

ูุจูู `browser.cdpUrl` ูุชููููุงุช ุงูููู ุงูุดุฎุตู ุงููุงุญุฏ ุงููุฏููุฉ ูููุงุนุฏุฉ
ูุฎุทุท / ูุถูู ูููููุงุช ุงูุดุฎุตูุฉ ุงูุชู ุชููู ููุท ุจุชุนููู `cdpPort`.

ุงูููู ุงูุงูุชุฑุงุถูุฉ:

- ููุนู: `true`
- ุชูููู ุชูููู: 'true' (ุชุนููู 'false' ูุชุนุทูู 'act:evaluate' ู 'ุงูุชุธุฑ --fn')
- ุฎุฏูุฉ ุงูุชุญูู: ุญููุฉ ุงุณุชุฑุฌุงุน ููุท (ูููุฐ ูุดุชูุฉ ูู `gateway.port`ุ ุงูุงูุชุฑุงุถู `18791`)
- ุฑุงุจุท CDP: `http://127.0.0.1:18791` (ุฎุฏูุฉ ุงูุชุญูู + 1ุ ููู ูุงุญุฏ ุงูุฅุฑุซ)
- ููู ุงูููู ุงูุดุฎุตู: `#FF4500` (ุฌุฑุงุฏ ุงูุจุฑุชูุงูู)
- ููุงุญุธุฉ: ูุชู ุชุดุบูู ุฎุงุฏู ุงูุชุญูู ุนู ุทุฑูู ุจูุงุจุฉ ุชุดุบูู (OpenClaw.app menubar, ุฃู `openclaw ุจูุงุจุฉ`).
- ุทูุจ ุงููุดู ุงูุชููุงุฆู: ุงููุชุตูุญ ุงูุงูุชุฑุงุถู ุฅุฐุง ูุงู ูุณุชูุฏุง ุฅูู ุงููุฑูููููุ ุฎูุงู ุฐูู ูุฑูู โ ุดุฌุงุนุฉ โ ุงูุญุงูุฉ โ Chromium III Chrome Canary.

```json5
{
  ุงููุชุตูุญ: {
    ููุนู: ุตุญูุญุ
    ุชูููู ุชูููู: ุตุญูุญุ
    /cdpUrl: "http://127. .0. :18792", // ุชุฑูุฉ ุชุฌุงูุฒ ุงููููู ุงูุฌุงูุจู
    ุงูุงูุชุฑุงุถู Profile: "ูุฑูู"ุ ุงูููุงูุญ
    : {
      openclaw: { cdpPort: 18800, ุงูููู: "#FF4500" },
      work: { cdpPort: 18801, ุงูููู: "#0066CC" },
      ุจุนูุฏ: { cdpUrl: "http://10. .0.42:9222", col: "#00A00" },
    },
    col: "#FF4500",
    // ูุชูุฏู :
    // ุจุฏูู ุฑุฃุณ: ุฎุทุฃุ
    // noSandbox: false,
    // executablePath: "/Applications/Browser. pp/contents/MacOS/Brave Browser",
    // ููุญู Only: false, // ุชุนููู ุตุญูุญ ุนูุฏ ููู CDP ุจุนูุฏ ุฅูู localhost
  },
}
```

### `ui` (ุงููุธูุฑ)

ููู ุงููููุฉ ุงูุงุฎุชูุงุฑูุฉ ุงููุณุชุฎุฏูุฉ ูู ูุจู ุงูุชุทุจููุงุช ุงูุฃุตููุฉ ููุฑูู ูุงุฌูุฉ ุงููุณุชุฎุฏู (ุนูู ุณุจูู ุงููุซุงู ุตูู ููุงุนุฉ ูุถุน ุงูุญุฏูุซ).

ุฅุฐุง ูุงู ุบูุฑ ูุญุฏุฏุ ูุฅู ุงูุนููุงุก ูุณูุทูู ูุฑุฉ ุฃุฎุฑู ุจุงูููู ุงูุฃุฒุฑู ุงูููุชูู.

```json5
{
  ui: {
    seamColor: "#FF4500", // hex (RRGGBB ุฃู #RRGGBB)
    // ุงุฎุชูุงุฑู: ุชุฌุงูุฒ ูููุฉ ูุณุงุนุฏ ุงูุชุญูู ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู.
    // ุฅุฐุง ูู ูุชู ุชุนููู ูุงุฌูุฉ ุงูุชุญูู ุชุณุชุฎุฏู ูููุฉ ุงููููู ุงููุดุท (ุงูุชูููู ุฃู IDENTITY). ุฏ).
    ุงููุณุงุนุฏ: {
      ุงูุงุณู: "OpenClaw"ุ
      ุตูุฑุฉ: "CB"ุ // emoji ุ ูุต ูุตูุฑ ุฃู ุตูุฑุฉ URL/data URI
    },
  },
}
```

### `ุจูุงุจุฉ` (ูุถุน ุฎุงุฏู Gateway + ุฑุจุท)

ุงุณุชุฎุฏู \`gateway.mode' ููุฅุนูุงู ุตุฑุงุญุฉ ุนูุง ุฅุฐุง ูุงู ููุจุบู ููุฐู ุงูุขูุฉ ุฃู ุชุดุบู ุงูุจูุงุจุฉ.

ุงูููู ุงูุงูุชุฑุงุถูุฉ:

- ูุถุน: **ุฅูุบุงุก ุงูุชุดููู** (ุชุนุงูู ูู "ูุง ุชุจุฏุฃ ุชููุงุฆูุง")
- bind: `loopback`
- ุงููููุฐ: '18789' (ูููุฐ ูุงุญุฏ ูู WS + HTTP)

```json5
{
  ุจูุงุจุฉ : {
    ูุถุน "local", // ุฃู "ุจุนูุฏ"
    ูููุฐ 18789, // WS + HTTP multiplex
    ููุฒู: "ุญููุฉ"ุ
    // controlUi: { enabled: ุตุญูุญ, ูุณุงุฑ basePath: "/openclaw" }
    // auth: mode: "token", ุงูุฑูุฒ ุงููููุฒ: "to-token" } // / token ุจูุงุจุงุช WS + ุงูุชุญูู ูู ุงููุตูู ุฅูู ูุงุฌูุฉ ุงููุณุชุฎุฏู
    // tailscale: modul: "off" <unk> "serve" <unk> "funnel" }
  }ุ
}
```

ุงูุชุญูู ูู ูุณุงุฑ ูุงุนุฏุฉ ูุงุฌูุฉ ุงููุณุชุฎุฏู:

- 'gateway.controlUi.basePath' ูุนูู ุจุงุฏุฆุฉ ุนููุงู URL ุญูุซ ูุชู ุฎุฏูุฉ ูุงุฌูุฉ ุงูุชุญูู.
- ุฃูุซูุฉ: `"/ui"`ุ `"/openclaw"`ุ `"/apps/openclaw"`.
- ุงูุงูุชุฑุงุถู: ุงูุฌุฐุฑ (`/`) (ุจุฏูู ุชุบููุฑ).
- 'gateway.controlUi.root' ูุนูู ุฌุฐุฑ filesystem ูููุฌูุฏุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู (ุงูุงูุชุฑุงุถู: `dist/control-ui`).
- 'gateway.controlUi.allowInsecureAuth' ูุณูุญ ุจุงููุตุงุฏูุฉ ุงูุฑูุฒูุฉ ููุท ูู ูุงุฌูุฉ ุงูุชุญูู ุนูุฏูุง ูุชู ุญุฐู ูููุฉ ุงูุฌูุงุฒ
  (ุนุงุฏุฉ ุนุจุฑ HTTP). ุงูุงูุชุฑุงุถู: `ุฎุทุฃ`. ุชูุถูู HTTPS
  (ุฎุฏูุฉ ุงููุทุงู ุงูุณุฑู) ุฃู `127.0.0.1`.
- 'gateway.controlUi.dangerouslyDisableDeviceAuth' ูุนุทู ุงูุชุญูู ูู ูููุฉ ุงูุฌูุงุฒ ูู
  ูุงุฌูุฉ ุงูุชุญูู (token/password ููุท). ุงูุงูุชุฑุงุถู: `ุฎุทุฃ`. ุฒุฌุงุฌ ูุงุทุน ููุท.

ูุณุชูุฏุงุช ุฐุงุช ุตูุฉ:

- [ูุงุฌูุฉ ุงูุชุญูู](/web/control-ui)
- [ูุธุฑุฉ ุนุงูุฉ](/web)
- [Tailscale](/gateway/tailscale)
- [ุงููุตูู ุนู ุจูุนุฏ](/gateway/remote)

ุงููููุงุก ุงูููุซูููู:

- `gateway.trustedProxies`: ูุงุฆูุฉ ุนูุงููู IP ุงููููู ุงูุนูุณู ุงูุชู ุชููู TLS ุฃูุงู ุงูุจูุงุจุฉ.
- ุนูุฏูุง ูุฃุชู ุงุชุตุงู ูู ุฃุญุฏ ุนูุงููู IP ูุฐูุ ูุณุชุฎุฏู OpenClaw 'x-forwarded-for ' (ุฃู 'x-realal-ip') ูุชุญุฏูุฏ IP ุงูุนููู ููุญูุตุงุช ุงูุงูุชุฑุงู ุงููุญููุฉ ู HTTP Aut/ูุญููุง.
- ูุงุฆูุฉ ููุท ุจุงููููุงุก ุงูุฐูู ุชุณูุทุฑูู ุนูููู ุจุดูู ูุงููุ ูุชุฃูุฏ ูู **ุงููุชุงุจุฉ** ุงููุงุฑุฏุฉ `x-forwarded-for`.

ููุงุญุธุงุช:

- 'openclaw ุจูุงุจุฉ' ุชุฑูุถ ุงูุจุฏุก ูุง ูู ูุชู ุชุนููู 'gateway.mode' ุฅูู 'local' (ุฃู ุงุฌุชูุงุฒ ุนูู ุงูุชุฌุงูุฒ).
- 'gateway.port' ูุชุญูู ูู ุงููููุฐ ุงููุชุนุฏุฏ ุงููุญูุฏ ุงููุณุชุฎุฏู ูู WebSocket + HTTP (ุงูุชุญูู ูู ูุงุฌูุฉ ูุงุฌูุฉ ุงููุณุชุฎุฏูุ ุฑูุงุจุท ุ A2UI).
- ููุทุฉ ููุงูุฉ ุฅููุงู ุงูุฏุฑุฏุดุฉ OpenAI: **ูุนุทู ุจุดูู ุงูุชุฑุงุถู**ุ ุชูููู ูุน `gateway.http.endpoints.chatCompletions.enabled: true`.
- ุงูุณูุงุจู: `--port` > `OPENCLAW_GATEWAY_PORT` > `Gateway.port` > ุงูุงูุชุฑุงุถู `18789`.
- ูุตุงุฏูุฉ ุงูุจูุงุจุฉ ูุทููุจุฉ ุจุดูู ุงูุชุฑุงุถู (token/password ุฃู ูููุฉ ุฎุฏูุฉ ุงููุทุงู ุงูุณุฑูุน). ูุชุทูุจ ุฑุจุท ุนุฏู ุงูุฑุฌูุน ุฑูุฒ/ูููุฉ ูุฑูุฑ ูุดุชุฑูุฉ.
- ูููู ูุนุงูุฌ onboarding ุจุฅูุดุงุก ุฑูุฒ ุงูุจูุงุจุฉ ุจุดูู ุงูุชุฑุงุถู (ุญุชู ุนูู ุงูุญููุฉ ุงูุชูุฑุงุฑูุฉ).
- 'gateway.remote.token' ูู **ููุท** ูููุงููุงุช CLI ุงูุจุนูุฏุฉุ ููู ูุง ูููู ูุตุงุฏูุฉ ุงูุจูุงุจุฉ ุงููุญููุฉ. ุชู ุชุฌุงูู 'gateway.token'.

ุงููุตุงุฏูุฉ ูุงูุฌุฏูู ุงูุณุฑูุน:

- 'gateway.auth.mode' ูุญุฏุฏ ูุชุทูุจุงุช ูุตุงูุญุฉ ('token' ุฃู 'ูููุฉ ุงููุฑูุฑ\`). ุนูุฏ ุนุฏู ุงูุชุนูููุ ูุชู ุงูุชุฑุงุถ ูุตุงุฏูุฉ ุงูุฑูุฒ ุงููููุฒ.
- 'gateway.auth.token' ูุฎุฒู ุงูุฑูุฒ ุงููููุฒ ุงููุดุชุฑู ูููุตุงุฏูุฉ ุงูุฑูุฒูุฉ (ุงููุณุชุฎุฏู ูู ูุจู CLI ุนูู ููุณ ุงูุขูุฉ).
- ุนูุฏูุง ูุชู ุชุนููู \`gateway.auth.mode'ุ ููุท ูุชู ูุจูู ูุฐู ุงูุทุฑููุฉ (ุจุงูุฅุถุงูุฉ ุฅูู ุนูุงููู ุชุงููุณ ุงุฎุชูุงุฑูุฉ).
- ูููู ุชุนููู `gateway.auth.password' ููุงุ ุฃู ุนุจุฑ `OPENCLAW_GATEWAY_PASSWORD' (ููุตู ุจู).
- 'gateway.auth.allowTailscale' ูุณูุญ ูุฑุฃุณ ูููุฉ ุฎุฏูุฉ ุงููุทุงู
  (tailscale-user-login') ุจุฅุฑุถุงุก ุงููุตุงุฏูุฉ ุนูุฏ ูุตูู ุงูุทูุจ ุนูู loopback
  ูุน 'x-forwarded-for`ุ ู 'x-forwarded-proto`ุ ู 'x-forwarded-host`. ูููู OpenClaw
    ุจุงูุชุญูู ูู ุงููููุฉ ุนู ุทุฑูู ุญู ุนููุงู 'x-forwarded-for' ุนู ุทุฑูู
  'ุญุณุจ ุงููููุงุณ ุงูุชููููู' ูุจู ูุจููู. ุนูุฏูุง 'true'ุ ูุง ุชุญุชุงุฌ ุทูุจุงุช ุงูุฎุฏูุฉ
    ุงูุฑูุฒ ุงููููุฒ/ูููุฉ ุงููุฑูุฑุ ูู ุจุชุนููู 'false' ูุทูุจ ุจูุงูุงุช ุงูุงุนุชูุงุฏ ุงูุตุฑูุญุฉ. ุงูุงูุชุฑุงุถู ุฅูู
  `true` ุนูุฏูุง 'tailscale.mode = "serve"` ู ูุถุน ุงููุตุงุฏูุฉ ููุณ `ูููุฉ ุงููุฑูุฑ`.
- `gateway.tailscale.mode: "serve"` ูุณุชุฎุฏู ุฎุฏูุฉ ุงููุทุงู ุงูุถูุฆู (ุงูุฐููุฉ ููุทุ ุญููุฉ ุงูุธููุฑ).
- `gateway.tailscale.mode: "funnel"` ูุนุฑุถ ููุญุฉ ุงููุนูููุงุช ุนููุงูุ ูุชุทูุจ ุงููุตุงุฏูุฉ.
- ุฅุนุงุฏุฉ ุถุจุท ุฅุนุฏุงุฏุงุช Serve/Funnel ุนูุฏ ุงูุฅุบูุงู.

ุงูุงูุชุฑุงุถู ููุนููู ุงูุจุนูุฏ (CLI):

- 'gateway.remote.url' ูุนูู ุนููุงู URL ุงูุงูุชุฑุงุถู ููุจูุงุจุฉ WebSocket ููููุงููุงุช CLI ุนูุฏูุง 'gateway.mode = "remote"\`.
- 'gateway.remote.transport' ูุญุฏุฏ ุงูููู ุงูุจุนูุฏ macOS ('ssh' ุงูุงูุชุฑุงุถูุ 'direct' ููws/wss). ุนูุฏูุง 'direct`ุ 'gateway.remote.url` ูุฌุจ ุฃู ูููู 'ws://` ุฃู 'wss://`. ุงูุงูุชุฑุงุถู `ws://host` ุฅูู ุงููููุฐ `18789`.
- 'gateway.remote.token' ูููุฑ ุงูุฑูุฒ ุงููููุฒ ููููุงููุงุช ุงูุจุนูุฏุฉ (ุงุชุฑูู ุบูุฑ ูุนูู ุจุฏูู ูุคุฐูุฉ).
- 'gateway.remote.password' ูููุฑ ูููุฉ ุงููุฑูุฑ ููููุงููุงุช ุงูุจุนูุฏุฉ (ุงุชุฑูู ุบูุฑ ูุนูู ุจุฏูู ุฎุทุฃ).

ุณููู ุชุทุจูู macOS:

- OpenClaw.app ุณุงุนุฉ '~/.openclaw/openclaw.json' ู ููุงุชูุญ ุงูุชุจุฏูู ุญูุฉ ุนูุฏูุง ูุชุบูุฑ 'gateway.mode' ุฃู 'gateway.remote.url'.
- ุฅุฐุง ุชู ุฅูุบุงุก ุชุนููู \`gateway.mode' ูููู 'gateway.remote.url' ุ ูุฅู ุชุทุจูู macOS ูุนุงูุฌู ุนูู ุฃูู ูุถุน ุจุนูุฏ.
- ุนูุฏ ุชุบููุฑ ูุถุน ุงูุงุชุตุงู ูู ุชุทุจูู macOSุ ูุฅูู ููุชุจ 'gateway.mode' (ู 'gateway.remote.url' + 'gateway.remote.transport' ูู ุงููุถุน ุงูุจุนูุฏ) ุฅูู ููู config

```json5
{
  ุจูุงุจุฉ: {
    ูุถุน "ุจุนูุฏ"ุ
    ุจุนูุฏ: {
      url: "ws://gateway.tailnet:18789",
      token: "You token",
      ูููุฉ ุงููุฑูุฑ: "ูููุฉ ุงููุฑูุฑ ุงูุฎุงุตุฉ ุจู"ุ
    },
  },
}
```

ูุซุงู ุงูููู ุงููุจุงุดุฑ (ุชุทุจูู ูุงู ุฃูุณ):

```json5
{
  ุจูุงุจุฉ: {
    ูุถุน "ุจุนูุฏ"ุ
    ุจุนูุฏ: {
      ููู: "ูุจุงุดุฑุฉ"ุ
      url: "wss://gateway.example.ts.net",
      token: "your-token",
    },
  },
}
```

### 'gateway.reload' (ุฅุนุงุฏุฉ ุชุญููู ุณุงุฎูุฉ)

ูุชุดุงูุฏ ุงูุจูุงุจุฉ '~/.openclaw.json' (ุฃู 'OPENCLAW_CONFIG_PATH\`) ูุชุทุจู ุงูุชุบููุฑุงุช ุชููุงุฆูุง.

ุงูุฃุณุงููุจ:

- 'ูุฌูู' (ุงูุงูุชุฑุงุถู): ุชุทุจูู ุงูุชุบููุฑุงุช ุงูุขููุฉ ุจุดูู ุณุงุฎูุ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุจูุงุจุฉ ููุชุบููุฑุงุช ุงูุญุฑุฌุฉ.
- "ุณุงุฎู": ููุท ุชุทุจูู ุงูุชุบููุฑุงุช ุงูุขููุฉ ุงูุณุงุฎูุฉุ ุณุฌู ุนูุฏูุง ูุชุทูุจ ุงูุฃูุฑ ุฅุนุงุฏุฉ ุงูุชุดุบูู.
- `ุฅุนุงุฏุฉ ุงูุชุดุบูู`: ุฅุนุงุฏุฉ ุชุดุบูู ุงูุจูุงุจุฉ ุนูู ุฃู ุชุบููุฑ ูู ุงูุฅุนุฏุงุฏ.
- `ุฅููุงู`: ุชุนุทูู ุฅุนุงุฏุฉ ุงูุชุญููู ุงูุณุงุฎู.

```json5
{
  ุจูุงุจุฉ: {
    ุฅุนุงุฏุฉ ุงูุชุญููู: {
      mode: "ูุฌูู",
      debounceMs: 300,
    },
  },
}
```

#### ุฅุนุงุฏุฉ ุชุญููู ุงููุตูููุฉ ุงูุณุงุฎูุฉ (ุงููููุงุช + ุงูุชุฃุซูุฑ)

ุงููููุงุช ุงููุดุงูุฏุฉ:

- `~/.openclaw/openclaw.json` (ุฃู `OPENCLAW_CONFIG_PATH`)

ุชุทุจูู ุณุงุฎู (ูุง ุฅุนุงุฏุฉ ุชุดุบูู ุงูุจูุงุจุฉ ูุงููุฉ):

- `hooks` (webhook auth/path/mappings) + `hooks.gmail` (ุฅุนุงุฏุฉ ุชุดุบูู ูุดุบู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู)
- `ุงููุชุตูุญ` (ุฅุนุงุฏุฉ ุชุดุบูู ุฎุงุฏู ุงูุชุญูู ูู ุงููุชุตูุญ)
- \`cron' (ุฅุนุงุฏุฉ ุชุดุบูู ุฎุฏูุฉ cron + ุชุญุฏูุซ concurren)
- \`agents.defaults.heartbeat' (ุฅุนุงุฏุฉ ุชุดุบูู ูุนุงูุฌ heartbeat)
- `web` (ุฅุนุงุฏุฉ ุชุดุบูู ููุงุฉ WatsApp)
- `telegram` ู`discord` ู`signal` ู`imessage` (ุฅุนุงุฏุฉ ุชุดุบูู ุงูููุงุฉ)
- `ูููู`ุ `ููุงุฐุฌ`ุ `ุชูุฌูู`ุ `ุฑุณุงุฆู`ุ `ุฏูุฑุฉ`ุ `Whatsapp`ุ `ุชุณุฌูู ุงูุฏุฎูู`ุ `ุงูููุงุฑุงุช`ุ `ui`ุ `ุชุญุฏุซ`ุ `ูููุฉ`ุ `ูุนุงูุฌ` (ุงููุฑุงุกุงุช ุงูุฏููุงููููุฉ)

ูุชุทูุจ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุจูุงุจุฉ ุจุงููุงูู:

- `gateway` (port/bind/auth/control UI/tailscale)
- `ุฌุณุฑ` (ุงูุฅุฑุซ)
- `ุงูุงูุชุดุงู`
- `canvasHost`
- `ุงูุฅุถุงูุงุช`
- ุฃู ูุณุงุฑ ุชูููู ุบูุฑ ูุนุฑูู/ุบูุฑ ูุฏุนูู (ุงูุงูุชุฑุงุถู ูุฅุนุงุฏุฉ ุงูุชุดุบูู ูู ุฃุฌู ุงูุณูุงูุฉ)

### ุงูุนุฒู ุงููุชุนุฏุฏ ุงูุฃุดูุงู

ูุชุดุบูู ุงูุนุฏูุฏ ูู ุงูุจูุงุจุงุช ุนูู ูุถูู ูุงุญุฏ (ููุงุฆุถ ุงูุญุงุฌุฉ ุฃู ุจูุช ุงูุฅููุงุฐ)ุ ุนุฒู ุงูุชูููู ููู ูุซูู + ุถุจุท ูุงุณุชุฎุฏุงู ููุงูุฆ ูุฑูุฏุฉ:

- `OPENCLAW_CONFIG_PATH` (ุชูููู ููู ูุซุงู)
- `OPENCLAW_STATE_DIR` (ุฏูุฑุงุช/ุงุนุชูุงุฏุงุช)
- `agents.defaults.workspace` (ุงูุฐุงูุฑุงุช)
- 'gateway.port' (ูุฑูุฏุฉ ูู ููุนูุง ูู ูู ุญุงูุฉ)

ุฃุนูุงู ุงูุฑุงุญุฉ (CLI):

- 'openclaw --dev โฆ' ูุณุชุฎุฏู '~/.openclaw-dev' + ูููู ุงูููุงูุฐ ูู ุงููุงุนุฏุฉ '19001\`
- `openclaw --ุงูููู ุงูุดุฎุตู <name> โฆ` ูุณุชุฎุฏู `~/.openclaw-<name>` (ูููุฐ ุนุจุฑ config/env/flags)

ุงูุธุฑ [Gateway runbook](/gateway) ูุฑุณู ุฎุฑุงุฆุท ุงูููุงูุฆ ุงููุดุชูุฉ (Gateway/browser/canvas).
ุงูุธุฑ [ุงูุจูุงุจุงุช ุงููุชุนุฏุฏุฉ](/gateway/multiple-gateways) ููุญุตูู ุนูู ุชูุงุตูู ุนุฒู ุงููุชุตูุญ/ูููุฐ DP.

ูุซุงู:

```bash
OPENCLAW_CONFIG_PATH=~/.openclaw/a.json \
OPENCLAW_STATE_DIR=~/.openclaw-a \
openclaw Porateway 19001
```

### `hooks` (Gateway webhooks)

ุชูููู ููุทุฉ ููุงูุฉ HTTP ุจุณูุทุฉ ุนูู ุฎุงุฏู HTTP.

ุงูููู ุงูุงูุชุฑุงุถูุฉ:

- ููุนู: 'ุฎุทุฃ\`
- ุงููุณุงุฑ: `/hooks`
- maxBodyBytes: `262144` (256 KB)

```json5
34. {
  hooks: {
    enabled: true,
    token: "shared-secret",
    path: "/hooks",
    presets: ["gmail"],
    transformsDir: "~/.openclaw/hooks",
    mappings: [
      {
        match: { path: "gmail" },
        action: "agent",
        wakeMode: "now",
        name: "Gmail",
        sessionKey: "hook:gmail:{{messages[0].id}}",
        messageTemplate: "From: {{messages[0].from}}\nSubject: {{messages[0].subject}}\n{{messages[0].snippet}}",
        deliver: true,
        channel: "last",
        model: "openai/gpt-5.2-mini",
      },
    ],
  },
}
```

ูุฌุจ ุฃู ุชุชุถูู ุงูุทูุจุงุช ุงูุฑูุฒ ุงููููุฒ ููุฑุจุท:

- `ุฅุฐู: ุญุงููู <token>` **ุฃู**
- `x-openclaw-token: <token>`

ููุงุท ุงูููุงูุฉ:

- `POST /hooks/wake` โ `{ text ููุถุนุ: "ุงูุขู"<unk> "next-heartbeat" }`
- `POST /hooks/agent' โ `{ message, name?, sessionKey?, wakeMode?, deliver?, channel?, to?, model?, thinking?, timeoutSecond? }\`
- `POST /hooks/<name>` ุญู ุจูุงุณุทุฉ `hooks.mappings`

'/hooks/agent' ูููู ุฏุงุฆูุง ุจูุดุฑ ููุฎุต ูู ุงูุฌูุณุฉ ุงูุฑุฆูุณูุฉ (ููููู ุฃู ูุคุฏู ุงุฎุชูุงุฑูุง ุฅูู ูุจุถ ููุจู ูุจุงุดุฑ ุนู ุทุฑูู 'ููุท ุงูุฅููุงู: "ุงูุขู").

ููุงุญุธุงุช ุฑุณู ุงูุฎุฑุงุฆุท:

- 'match.path' ูุชุทุงุจู ูุน ุงููุณุงุฑ ุงููุฑุนู ุจุนุฏ '/hooks' (ุนูู ุณุจูู ุงููุซุงู '/hooks/gmail' โ 'gmail\`).
- 'match.source' ูุชุทุงุจู ูุน ุญูู ุงูุญูููุฉ (ุนูู ุณุจูู ุงููุซุงู '{ ุงููุตุฏุฑ: โgmailโ }\`) ุญุชู ุชุชููู ูู ุงุณุชุฎุฏุงู ูุณุงุฑ ุนุงู '/hooks/ingest'.
- ููุงูุจ ูุซู `{{messages[0].subject}}` ููุฑูุกุฉ ูู ุงูุญูููุฉ.
- 'ุชุญููู\` ูููู ุฃู ูุดูุฑ ุฅูู ูุญุฏุฉ JS/TS ุงูุชู ุชุฑุฌุน ุฅุฌุฑุงุก ุงูุฅุฑุชุจุงุท.
- 'ุชุณููู: ุตุญูุญ' ูุฑุณู ุงูุฑุฏ ุงูููุงุฆู ุฅูู ููุงุฉุ ุงูุชุฑุงุถุงุช 'ุงูููุงุฉ' ุฅูู 'ุงูุฃุฎูุฑ' (ูุนูุฏ ุฅูู WhatsApp).
- ุฅุฐุง ูู ููู ููุงู ูุณุงุฑ ุชุณููู ุณุงุจูุ ูู ุจุชุนููู 'channel\` + 'to' ุจุดูู ุตุฑูุญ (ูุทููุจ ูุฃูุฑูุฉ Telegram/Discord/Google Chat/Slack/Signal/iMessage/MS).
- 'model' ููุบู ูุธุงู LLM ูุชุดุบูู ูุฐุง ุงูุฑุงุจุท ('provider/model' ุฃู ุงูุงุณู ุงููุณุชุนุงุฑ ูุฌุจ ุงูุณูุงุญ ุจู ุฅุฐุง ุชู ุชุนููู 'agents.defaults.models\`).

ุฅุนุฏุงุฏุงุช ูุณุงุนุฏ Gmail (ูุณุชุฎุฏูุฉ ูู ูุจู `openclaw webhooks gmail sep` / `ุชุดุบูู`):

```json5
35. {
  hooks: {
    gmail: {
      account: "openclaw@gmail.com",
      topic: "projects/<project-id>/topics/gog-gmail-watch",
      subscription: "gog-gmail-watch-push",
      pushToken: "shared-push-token",
      hookUrl: "http://127.0.0.1:18789/hooks/gmail",
      includeBody: true,
      maxBytes: 20000,
      renewEveryMinutes: 720,
      serve: { bind: "127.0.0.1", port: 8788, path: "/" },
      tailscale: { mode: "funnel", path: "/gmail-pubsub" },

      // Optional: use a cheaper model for Gmail hook processing
      // Falls back to agents.defaults.model.fallbacks, then primary, on auth/rate-limit/timeout
      model: "openrouter/meta-llama/llama-3.3-70b-instruct:free",
      // Optional: default thinking level for Gmail hooks
      thinking: "off",
    },
  },
}
```

ุชุฌุงูุฒ ุงููููุฐุฌ ูุฑูุงุจุท Gmail :

- ูุญุฏุฏ \`hooks.gmail.model' ูููุฐุฌุง ูุงุณุชุฎุฏุงูู ูู ูุนุงูุฌุฉ ุฑุงุจุท Gmail (ุงูุงูุชุฑุงุถู ุฅูู ุงูุฌูุณุฉ ุงูุฃุณุงุณูุฉ).
- ููุจู ุทูุจุงุช 'provider/model' ุฃู ุฃุณูุงุก ูุณุชุนุงุฑุฉ ูู 'agents.defaults.models\`.
- ูุนูุฏ ุฅูู `agents.defaults.model.fallbacks`ุ ุซู ุฅูู `agents.defaults.model.primary`ุ ุนูู auth/rate-limit/timeouts.
- ุฅุฐุง ุชู ุชุนููู \`agents.defaults.models'ุ ูู ุจุชุถููู ูููุฐุฌ ุงูุฑูุงุจุท ูู ูุงุฆูุฉ ุงูุฃูุงูู.
- ุนูุฏ ุจุฏุก ุงูุชุดุบููุ ูุญุฐุฑ ุฅุฐุง ูู ููู ุงููููุฐุฌ ุงููููู ูู ูุชุงููุฌ ุงููููุฐุฌ ุฃู ูุงุฆูุฉ ุงููุณููุญ ุจูุง.
- 'hooks.gmail.thinking' ูุญุฏุฏ ูุณุชูู ุงูุชูููุฑ ุงูุงูุชุฑุงุถู ูู Gmail hooks ููุชู ุชุฌุงูุฒู ุจู per-hook 'thinking'.

ุงูุจูุงุจุฉ ุงูุชุดุบูู ุงูุชููุงุฆู:

- ุฅุฐุง ุชู ุชุนููู `hooks.enabled=true` ู `hooks.gmail.account`ุ ุชุจุฏุฃ ุงูุจูุงุจุฉ
  `gog gmail watch serve` ุนูุฏ ุงูุชุดุบูู ูุชุฌุฏูุฏ ุงูุณุงุนุฉ.
- ุชุนููู `OPENCLAW_SKIP_GMAIL_WATCHER=1` ูุชุนุทูู ุงูุจุฏุงูุฉ ุงูุชููุงุฆูุฉ (ููุชุดุบูู ุงููุฏูู).
- 36. ุชุฌููุจ ุชุดุบูู ุฃูุฑ `gog gmail watch serve` ุจุดูู ูููุตู ุฅูู ุฌุงูุจ ุงูู Gatewayุ ูุฃูู ุณููุดู ูุน ุงูุฎุทุฃ:
      `listen tcp 127.0.0.1:8788: bind: address already in use`.

ููุงุญุธุฉ: ุนูุฏ ุชุดุบูู 'tailscale.mode'ุ ุงูุงูุชุฑุงุถู ูู 'serve.path' ุฅูู '/' ุญุชู
Tailscaly ูููู ูููููู '/gmail-pubsub' ุจุดูู ุตุญูุญ (ูุฌุฑุฏ ุจุงุฏุฆุฉ ุงููุณุงุฑ ุงููุญุฏุฏ).
ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุงูุฎูููุฉ ูุงุณุชูุงู ุงููุณุงุฑ ุงููุญุฏุฏ ูุณุจูุงุ ูู ุจุชุนููู
`hooks.gmail.tailscale.target` ุฅูู ุนููุงู URL ูุงูู (ูุงุฌุนู 'serve.path\`).

### 'canvasHost' (LAN/tailnet Canvas ููู ุฎุงุฏู + ุฅุนุงุฏุฉ ุงูุชุญููู ุงููุจุงุดุฑ)

ุชุบุทู ุงูุจูุงุจุฉ ุฏููู HTML/CSS/JS ุนุจุฑ HTTP ุจุญูุซ ูููู ุจุจุณุงุทุฉ ุนูุฏ iOS/Android "canvas.navigate" ููุง.

ุงูุฌุฐุฑ ุงูุงูุชุฑุงุถู: `~/. pclaw/workspace/canvas`  
ูููุฐ ุงูุชุฑุงุถู: `1879="(ุชู ุงุฎุชูุงุฑู ูุชุฌูุจ ูููุฐ CDP ุงูุฎุงุต ุจูุชุตูุญ openclaw '18792`)  
ูุณุชูุน ุงูุฎุงุฏู ุนูู **ูุถูู ุฑุจุท ุงูุจูุงุจุฉ** (LAN ุฃู Tailnet) ุญุชู ุชุตู ุงูุนูุฏ.

ุงูุฎุงุฏู:

- ูุฎุฏู ุงููููุงุช ุชุญุช `canvashost.root`
- ุญูู ุนููู ุตุบูุฑ ูุฅุนุงุฏุฉ ุงูุชุญููู ุงููุจุงุดุฑ ุฅูู HTML ุงูุฎุฏูุฉ
- ูุดุงูุฏ ุงูุฏููู ููุจุซ ุฅุนุงุฏุฉ ุงูุชุญููู ุนุจุฑ ููุทุฉ ููุงูุฉ WebSocket ูู `/__openclaw__/ws`
- ุฅูุดุงุก ุชููุงุฆู ูุจุฏุก "index.html" ุนูุฏูุง ูููู ุงูุฏููู ูุงุฑุบุงู (ูุฐูู ููููู ุฑุคูุฉ ุดูุก ุนูู ุงูููุฑ)
- ุฃูุถุง ูุฎุฏู A2UI ูู `/__openclaw__/a2ui/` ููุนูู ุนู ุงูุนูุฏ ุจุงุณู `canvasHostUrl`
  (ุฏุงุฆูุง ูุง ุชุณุชุฎุฏูู ุงูุนูุฏ ูู Canvas/A2UI)

ุชุนุทูู ุฅุนุงุฏุฉ ุงูุชุญููู ุงููุจุงุดุฑ (ููุดุงูุฏุฉ ุงููููุงุช) ุฅุฐุง ูุงู ุงููุฌูุฏ ูุจูุฑูุง ุฃู ุถุบุทุช ุนูู `EMFILE`:

- ุงูุชูููู: `canvasHost: { liveReload: false }`

```json5
{
  canvasHost: {
    ุงูุฌุฐุฑ: "~/.openclaw/workspace/canvas",
    port: 18793,
    LiveReload: true,
  },
}
```

ุชุชุทูุจ ุงูุชุบููุฑุงุช ุฅูู 'canvasHost.\*' ุฅุนุงุฏุฉ ุชุดุบูู ุงูุจูุงุจุฉ (ุฅุนุงุฏุฉ ุงูุชุญููู ุณูุชู ุฅุนุงุฏุฉ ุงูุชุดุบูู).

ููุชุนุทูู:

- ุงูุชูููู: `canvasHost: { enabled: false }`
- env: `OPENCLAW_SKIP_CANVAS_HOST=1`

### `ุฌุณุฑ` (ุฌุณุฑ TCP ุงููุฏููุ ุชูุช ุฅุฒุงูุชู)

ูู ุชุนุฏ ุงูุฅุตุฏุงุฑุงุช ุงูุญุงููุฉ ุชุชุถูู ูุณุชูุน ุฌุณุฑ TCP ุ ูุชู ุชุฌุงูู ููุงุชูุญ ุงูุถุจุท 'bridge.\*'.
ุชุชุตู ุงูุนูุฏ ุนุจุฑ ุจูุงุจุฉ WebSocket. ููุญุชูุธ ุจูุฐุง ุงูุฌุฒุก ูุฃุบุฑุงุถ ุงูุฑุฌูุน ุฅููู ุชุงุฑูุฎูุง.

ุงูุณููู ุงููุฏูู:

- ููููู ุฃู ุชูุดู ุงูุจูุงุจุฉ ุนู ุฌุณุฑ ุจุณูุท ููุนูุฏ (iOS/Android)ุ ุนุงุฏุฉ ุนูู ุงููููุฐ `18790`.

ุงูููู ุงูุงูุชุฑุงุถูุฉ:

- ููุนู: `true`
- ุงููููุฐ: `18790`
- ุฑุจุท: `lan` (ุฅุฑุชุจุงุทุงุช ุฅูู `0.0.0.0`)

Bind modes:

- `lan`: `0.0.0.0` (ูููู ุงููุตูู ุฅูููุง ุนูู ุฃู ูุงุฌูุฉุ ุจูุง ูู ุฐูู LAN/Wi<unk> Fi ู Tailscale)
- 'ุฐูู ุงูุดุจูุฉ\`: ูุฑุชุจุท ููุท ุจุจุฑูุชูููู IP ุงูุฎุงุต ุจุงูุขูุฉ ุนูู ุฎุท ุงููููุงุณ (ููุตู ุจู ุจุงููุณุจุฉ ูููููุง ููุฏู)
- `ุงูุฎูููุฉ`: `127.0.0.1` (ูุญูู ููุท)
- `auto`: ููุถู ุงูุฐูู IP ุฅุฐุง ูุงู ููุฌูุฏุงุ ุฃู 'lan\`

TLS:

- `bridge.tls.enabled`: ุชูููู TLS ููุงุชุตุงู ุจุงูุฌุณุฑ (TLS-ููุท ุนูุฏ ุงูุชูููู).
- `bridge.tls.autoGenerate`: ุฃูุดุฆ ูุตุงุตุฉ ูููุนุฉ ุฐุงุชูุง ุนูุฏูุง ูุง ูููู ููุงู ูุตุงุต/ููุชุงุญ (ุงูุงูุชุฑุงุถู: ุตุญูุญ).
- `bridge.tls.certPath` / `bridge.tls.keyPath`: ูุณุงุฑุงุช PEM ูุดูุงุฏุฉ ุงูุฌุณุฑ + ุงูููุชุงุญ ุงูุฎุงุต.
- `bridge.tls.caPath`: ูุฌููุนุฉ PEM CA ุงุฎุชูุงุฑูุฉ (ุฌุฐูุฑ ูุฎุตุตุฉ ุฃู mTLS ูู ุงููุณุชูุจู).

ุนูุฏูุง ูุชู ุชูููู TLS ุ ุชุนูู ุงูุจูุงุจุฉ 'bridgeTls=1\` ู 'bridgeTlsSha256' ูู ุณุฌูุงุช ุงูุชุดุงู TXT
ุญุชู ูููู ููุนูุฏ ุชุซุจูุช ุนูู ุงูุดูุงุฏุฉ. 37. ุชุณุชุฎุฏู ุงูุงุชุตุงูุงุช ุงููุฏููุฉ ุฃุณููุจ ุงูุซูุฉ ุนูุฏ ุฃูู ุงุณุชุฎุฏุงู (trust-on-first-use) ุฅุฐุง ูู ูุชู ุชุฎุฒูู ุจุตูุฉ ุจุนุฏ.
ุงููุตุงุตุงุช ุงูุชู ูุชู ุฅูุดุงุคูุง ุชููุงุฆูุงู ุชุชุทูุจ "openssl" ุนูู PATHุ ุฅุฐุง ูุดู ุงูุฌูู ููู ูุจุฏุฃ.

```json5
38. {
  bridge: {
    enabled: true,
    port: 18790,
    bind: "tailnet",
    tls: {
      enabled: true,
      // Uses ~/.openclaw/bridge/tls/bridge-{cert,key}.pem when omitted.
      // certPath: "~/.openclaw/bridge/tls/bridge-cert.pem",
      // keyPath: "~/.openclaw/bridge/tls/bridge-key.pem"
    },
  },
}
```

### `discovery.mdns` (Bonjour / mDNS) ูุถุน ุงูุจุซ

ุงูุชุญูู ูู ุงูุจุซ ูุงูุชุดุงู ุดุจูุฉ mDNS (`_openclaw-gw._tcp`).

- 'ุฃุฏูู' (ุงูุงูุชุฑุงุถู): ุญุฐู 'cliPath' + 'sshPort' ูู ุณุฌูุงุช TXT
- 'ูุงูู\`: ุชุดูู 'cliPath' + 'sshPort' ูู ุณุฌูุงุช TXT
- "ุฅููุงู": ุชุนุทูู ุจุซ mDNS ุจุงููุงูู
- ุงุณู ุงููุถูู: ุงูุงูุชุฑุงุถู ุฅูู 'openclaw' (ุงูุฅุนูุงูุงุช 'openclaw.local`). ุชุฌุงูุฒ ูุน `OPENCLAW_MDNS_HOSTNAME\`.

```json5
{
  ุงูุชุดุงู: { mdns: { mode: "minimal" } },
}
```

### `discovery.wideArea` (Wide-Area Bonjour / unicast DNS<unk> SD)

ุนูุฏ ุงูุชููููุ ุชูุชุจ ุงูุจูุงุจุฉ ููุทูุฉ DNS-SD unicast ูู `_openclaw-gw._tcp` ุชุญุช `~/.openclaw/dns/' ุจุงุณุชุฎุฏุงู ูุทุงู ุงูุงูุชุดุงู ุงููููู (ุนูู ุณุจูู ุงููุซุงู: `openclaw.internal.\`).

ูุฌุนู iOS/Android ููุชุดู ุนุจุฑ ุงูุดุจูุงุช (ููููุง <unk> London)ุ ุฒูุฌ ูุฐุง ูุน:

- ุฎุงุฏู DNS ุนูู ุงูุจูุงุจุฉ ุงููุถููุฉ ูุฎุฏูุฉ ุงููุฌุงู ุงูุฐู ุงุฎุชุฑุชู (CoreDNS ููุตู ุจู)
- ุงููููุงุณ ุงูุฎูุงูู **ุชูุณูู DNS** ุญุชู ูููู ุงูุนููุงุก ุจุญู ูุฐุง ุงููุทุงู ุนุจุฑ ุฎุงุฏู DNS

ูุณุงุนุฏ ุฅุนุฏุงุฏ ููุฑุฉ ูุงุญุฏุฉ (ูุถูู):

```bash
openclaw dns setup --apply
```

```json5
{
  discovery: { wideArea: { enabled: true } },
}
```

## ูุชุบูุฑุงุช ูุงูุจ ูููุฐุฌ ุงููุณุงุฆุท

ููุชุณุน ูุทุงู ุงูุนูุงุตุฑ ุงููุงุฆุจุฉ ููููุงุฐุฌ ูู `tools.media.*.models[].args` ู`tools.media.models[].args` (ูุฃู ุญููู ุญุฌุฉ ูููุฐุฌูุฉ ููุจูุฉ).

ูุชุบูุฑ <unk> ูุตู <unk> <unk> ---------------------- <unk> ------------------------------------------------------------ <unk> ------------- <unk> -------- <unk> ---------- <unk> ------ <unk> ------ <unk> ---- <unk> ------ <unk> ------ <unk> -------- <unk> ------ <unk> ------- <unk> ----- <unk> --- <unk> --- <unk> --- <unk> <unk>{{Body}}<unk> ` ุฌุณู ุงูุฑุณุงูุฉ ุงููุฑุณูุฉ ุจุงููุงูู <unk> <unk> A`{{RawBody}}`ุฌุณู ุงูุฑุณุงูุฉ ุงููุฑุณูุฉ (ูุง ุงูุชุงุฑูุฎ/sender ุฃูุถู ูุชุญููู ุงูุฃูุงูุฑ <unk> <unk>`{{BodyStripped}}`ุงูุฌุณู ูุน ุฐูุฑ ูุฌููุนุฉ ุชู ุชุฌุฑูุฏูุง (ุฃูุถู ุงูุงูุชุฑุงุถู ูููููุงุก) <unk> <unk>`{{From}}`<unk> ุงููุฑุณู (. 64 ูู WhatsAppุ ูุฏ ุชุฎุชูู ูู ูู ููุงุฉ) <unk> <unk>`{{To}}`<unk> Ddestination ID <unk> <unk>`{{MessageSid}}`<unk> ChChanmessage id (ุนูุฏ ุชููุฑ) <unk> <unk>`{{SessionId}}`<unk> ูุฐู ุงูุฏูุฑุฉ UUID <unk> <unk>`{{IsNewSession}}<unk> `true"` ุนูุฏ ุฅูุดุงุก ุฌูุณุฉ ุฌุฏูุฏุฉ <unk> <unk> `{{MediaUrl}}<unk> ุงููุณุงุฆุท ุงููุฏุฑุฌุฉ pseudo-URL (ุฅุฐุง ูุงูุช ููุฌูุฏุฉ) <unk> <unk>{{MediaPath}}<unk> ููุฑ ุงููุณุงุฆุท ุงููุญููุฉ (ุฅุฐุง ุชู ุชูุฒูููุง) <unk> <unk> `{{MediaType}}<unk> Media ููุน (image/audio/document/โฆ)                                             39. |
\| `{{Transcript}}`   | ุชูุฑูุบ ุงูุตูุช (ุนูุฏ ุงูุชูููู)                                                 |
\| `{{Prompt}}`       | ููุฌู ุงููุณุงุฆุท ุงููุญููู ูุฅุฏุฎุงูุงุช CLI                                           |
\| `{{MaxChars}}`     | ุงูุญุฏ ุงูุฃูุตู ุงููุญููู ูุฃุญุฑู ุงูุฅุฎุฑุงุฌ ูุฅุฏุฎุงูุงุช CLI                               |
\| `{{ChatType}}`     | "direct" ุฃู "group"                                                         |
\| `{{GroupSubject}}` | ููุถูุน ุงููุฌููุนุฉ (ุจุฃูุถู ุฌูุฏ)                                                     |
\| `{{GroupMembers}}` | ูุนุงููุฉ ุฃุนุถุงุก ุงููุฌููุนุฉ (ุจุฃูุถู ุฌูุฏ)                                             |
\| `{{SenderName}}`   | ุงุณู ุนุฑุถ ุงููุฑุณู (ุจุฃูุถู ุฌูุฏ)                                               |
\| `{{SenderE164}}`   | ุฑูู ูุงุชู ุงููุฑุณู (ุจุฃูุถู ุฌูุฏ)                                               |
\| `{{Provider}}`     | ุชูููุญ ุงููุฒููุฏ (whatsapp                                                         | telegram | discord | googlechat | slack | signal | imessage | msteams | webchat | โฆ)  |

## ุฌุฏููุฉ ูุฑูู (ุฌุฏูู)

ูุฑูู ูู ุฌุฏููุฉ ุชููููุง ูุฌููุนุฉ ุบุงุชูุงู ููุฅููุงุนุงุช ูุงููุธุงุฆู ุงูููุฑุฑุฉ. ุงูุธุฑ [Cron jobs](/automation/cron-jobs) ููุญุตูู ุนูู ููุญุฉ ุนุงูุฉ ุนู ุงูููุฒุฉ ูุฃูุซูุฉ CLI.

```json5
{
  cron: {
    enabled: true,
    maxConcurrentRuns: 2,
  },
}
```

---

_ุงูุชุงูู: [ุชุดุบูู ุงููููู](/concepts/agent)_ ๐ฆ

---
summary: "تدقيق ما يمكنه إنفاق المال، وأي المفاتيح تُستخدم، وكيفية عرض الاستخدام"
read_when:
  - تريد فهم الميزات التي قد تستدعي واجهات برمجة تطبيقات مدفوعة
  - تحتاج إلى تدقيق المفاتيح والتكاليف وإتاحة رؤية الاستخدام
  - تشرح تقارير التكلفة عبر /status أو /usage
title: "استخدام API والتكاليف"
---

# استخدام واجهات برمجة التطبيقات والتكاليف

يسرد هذا المستند **الميزات التي يمكنها استدعاء مفاتيح واجهات برمجة التطبيقات** وأين تظهر تكاليفها. يركّز على
ميزات OpenClaw التي يمكن أن تولّد استخدام الموفّرين أو مكالمات واجهات برمجة تطبيقات مدفوعة.

## أين تظهر التكاليف (الدردشة + CLI)

**لقطة تكلفة لكل جلسة**

- `/status` يعرض نموذج الجلسة الحالي، واستخدام السياق، وعدد رموز آخر استجابة.
- إذا كان النموذج يستخدم **مصادقة بمفتاح API**، فإن `/status` يعرض أيضًا **التكلفة التقديرية** لآخر رد.

**تذييل تكلفة لكل رسالة**

- `/usage full` يضيف تذييل استخدام إلى كل رد، بما في ذلك **التكلفة التقديرية** (لمفاتيح API فقط).
- `/usage tokens` يعرض الرموز فقط؛ تدفقات OAuth تُخفي تكلفة الدولار.

**نوافذ استخدام CLI (حصص الموفّر)**

- `openclaw status --usage` و `openclaw channels list` يعرضان **نوافذ استخدام** الموفّر
  (لقطات للحصص، وليست تكاليف لكل رسالة).

انظر [استخدام الرموز والتكاليف](/reference/token-use) للتفاصيل والأمثلة.

## كيفية اكتشاف المفاتيح

يمكن لـ OpenClaw التقاط بيانات الاعتماد من:

- **ملفات تعريف المصادقة** (لكل وكيل، مخزّنة في `auth-profiles.json`).
- **متغيرات البيئة** (مثل `OPENAI_API_KEY` و `BRAVE_API_KEY` و `FIRECRAWL_API_KEY`).
- **التهيئة** (`models.providers.*.apiKey` و `tools.web.search.*` و `tools.web.fetch.firecrawl.*`،
  `memorySearch.*` و `talk.apiKey`).
- **Skills** (`skills.entries.<name>.apiKey`) التي قد تُصدّر مفاتيح إلى بيئة عملية المهارة.

## الميزات التي يمكنها إنفاق المفاتيح

### 1. استجابات النموذج الأساسية (الدردشة + الأدوات)

كل رد أو استدعاء أداة يستخدم **موفّر النموذج الحالي** (OpenAI أو Anthropic، إلخ). هذا هو
المصدر الأساسي للاستخدام والتكلفة.

انظر [النماذج](/providers/models) لإعدادات التسعير و[استخدام الرموز والتكاليف](/reference/token-use) للعرض.

### 2. فهم الوسائط (الصوت/الصورة/الفيديو)

يمكن تلخيص الوسائط الواردة أو تفريغها قبل تشغيل الرد. يستخدم ذلك واجهات برمجة تطبيقات للنموذج/الموفّر.

- الصوت: OpenAI / Groq / Deepgram (مُمكّن **تلقائيًا** عند وجود مفاتيح).
- الصورة: OpenAI / Anthropic / Google.
- الفيديو: Google.

انظر [فهم الوسائط](/nodes/media-understanding).

### 3. تضمينات الذاكرة + البحث الدلالي

يستخدم البحث الدلالي في الذاكرة **واجهات برمجة تطبيقات للتضمين** عند تهيئته لموفّرين عن بُعد:

- `memorySearch.provider = "openai"` → تضمينات OpenAI
- `memorySearch.provider = "gemini"` → تضمينات Gemini
- `memorySearch.provider = "voyage"` → تضمينات Voyage
- رجوع اختياري إلى موفّر عن بُعد إذا فشلت التضمينات المحلية

يمكنك إبقاؤه محليًا باستخدام `memorySearch.provider = "local"` (دون استخدام واجهة برمجة تطبيقات).

انظر [الذاكرة](/concepts/memory).

### 4. أداة البحث على الويب (Brave / Perplexity عبر OpenRouter)

`web_search` يستخدم مفاتيح API وقد يترتب عليه رسوم استخدام:

- **Brave Search API**: `BRAVE_API_KEY` أو `tools.web.search.apiKey`
- **Perplexity** (عبر OpenRouter): `PERPLEXITY_API_KEY` أو `OPENROUTER_API_KEY`

**الفئة المجانية من Brave (سخية):**

- **2,000 طلب/شهريًا**
- **1 طلب/ثانية**
- **بطاقة ائتمان مطلوبة** للتحقق (لا رسوم ما لم تُرقِّ)

انظر [أدوات الويب](/tools/web).

### 5. أداة جلب الويب (Firecrawl)

يمكن لـ `web_fetch` استدعاء **Firecrawl** عند وجود مفتاح API:

- `FIRECRAWL_API_KEY` أو `tools.web.fetch.firecrawl.apiKey`

إذا لم تتم تهيئة Firecrawl، تعود الأداة إلى الجلب المباشر + قابلية القراءة (دون واجهة برمجة تطبيقات مدفوعة).

انظر [أدوات الويب](/tools/web).

### 6. لقطات استخدام الموفّر (الحالة/الصحة)

تستدعي بعض أوامر الحالة **نقاط نهاية استخدام الموفّر** لعرض نوافذ الحصص أو صحة المصادقة.
تكون هذه عادة مكالمات منخفضة الحجم لكنها لا تزال تصل إلى واجهات برمجة تطبيقات الموفّر:

- `openclaw status --usage`
- `openclaw models status --json`

انظر [Models CLI](/cli/models).

### 7. تلخيص حماية الضغط (Compaction)

يمكن لحماية الضغط تلخيص سجل الجلسة باستخدام **النموذج الحالي**، ما
يستدعي واجهات برمجة تطبيقات الموفّر عند تشغيله.

انظر [إدارة الجلسات + الضغط](/reference/session-management-compaction).

### 8. فحص/استطلاع النماذج

يمكن لـ `openclaw models scan` استطلاع نماذج OpenRouter ويستخدم `OPENROUTER_API_KEY` عندما
يكون الاستطلاع مُمكّنًا.

انظر [Models CLI](/cli/models).

### 9. التحدّث (الصوت)

يمكن لوضع التحدّث استدعاء **ElevenLabs** عند تهيئته:

- `ELEVENLABS_API_KEY` أو `talk.apiKey`

انظر [وضع التحدّث](/nodes/talk).

### 10. Skills (واجهات برمجة تطبيقات خارجية)

يمكن لـ Skills تخزين `apiKey` في `skills.entries.<name>.apiKey`. إذا استخدمت مهارة هذا المفتاح لواجهات
برمجة تطبيقات خارجية، فقد تترتب تكاليف وفقًا لموفّر المهارة.

انظر [Skills](/tools/skills).

---
summary: "ما الذي يتضمنه موجه نظام OpenClaw وكيف يتم تجميعه"
read_when:
  - تحرير نص موجه النظام، قائمة الأدوات، أو أقسام الوقت/نبضات القلب
  - تغيير سلوك تهيئة مساحة العمل أو حقن Skills
title: "موجه النظام"
---

# موجه النظام

يبني OpenClaw موجه نظام مخصصًا لكل تشغيل للوكيل. يكون الموجه **مملوكًا لـ OpenClaw** ولا يستخدم الموجه الافتراضي لـ p-coding-agent.

يتم تجميع الموجه بواسطة OpenClaw وحقنه في كل تشغيل للوكيل.

## البنية

الموجه مُصمَّم ليكون موجزًا ويستخدم أقسامًا ثابتة:

- **Tooling**: قائمة الأدوات الحالية + أوصاف قصيرة.
- **Safety**: تذكير قصير بضوابط الحماية لتجنّب السلوك الساعي إلى القوة أو التحايل على الإشراف.
- **Skills** (عند التوفر): يوضح للنموذج كيفية تحميل تعليمات المهارة عند الطلب.
- **OpenClaw Self-Update**: كيفية تشغيل `config.apply` و `update.run`.
- **Workspace**: دليل العمل (`agents.defaults.workspace`).
- **Documentation**: المسار المحلي لوثائق OpenClaw (مستودع أو حزمة npm) ومتى يجب قراءتها.
- **Workspace Files (injected)**: يشير إلى تضمين ملفات التمهيد أدناه.
- **Sandbox** (عند التمكين): يشير إلى وقت تشغيل معزول، ومسارات sandbox، وما إذا كان التنفيذ بامتيازات مرتفعة متاحًا.
- **Current Date & Time**: وقت المستخدم المحلي، والمنطقة الزمنية، وتنسيق الوقت.
- **Reply Tags**: صيغة وسوم الرد الاختيارية للموفّرين المدعومين.
- **Heartbeats**: موجه نبضات القلب وسلوك الإقرار.
- **Runtime**: المضيف، نظام التشغيل، العُقدة، النموذج، جذر المستودع (عند الاكتشاف)، مستوى التفكير (سطر واحد).
- **Reasoning**: مستوى الإظهار الحالي + تلميح تبديل ‎/reasoning‎.

ضوابط السلامة في موجه النظام إرشادية. فهي توجه سلوك النموذج لكنها لا تفرض سياسة. استخدم سياسة الأدوات، وموافقات التنفيذ، وsandboxing، وقوائم السماح للقنوات لفرض القيود الصارمة؛ ويمكن للمشغّلين تعطيل هذه الآليات بحكم التصميم.

## Prompt modes

يمكن لـ OpenClaw عرض موجهات نظام أصغر للوكلاء الفرعيين. يضبط وقت التشغيل قيمة
`promptMode` لكل تشغيل (وليست إعدادًا موجّهًا للمستخدم):

- `full` (الافتراضي): يتضمن جميع الأقسام أعلاه.
- `minimal`: يُستخدم للوكلاء الفرعيين؛ يحذف **Skills**، **Memory Recall**، **OpenClaw
  Self-Update**، **Model Aliases**، **User Identity**، **Reply Tags**،
  **Messaging**، **Silent Replies**، و **Heartbeats**. تظل **Tooling**، و **Safety**،
  و Workspace، و Sandbox، و Current Date & Time (عند المعرفة)، و Runtime، والسياق
  المحقون متاحة.
- `none`: يُرجِع سطر الهوية الأساسي فقط.

عند `promptMode=minimal`، تُوسَم الموجهات المحقونة الإضافية باسم **Subagent
Context** بدل **Group Chat Context**.

## حقن تهيئة مساحة العمل

تُقصّ ملفات التمهيد وتُلحق ضمن **Project Context** بحيث يرى النموذج سياق الهوية والملف الشخصي دون الحاجة إلى قراءات صريحة:

- `AGENTS.md`
- `SOUL.md`
- `TOOLS.md`
- `IDENTITY.md`
- `USER.md`
- `HEARTBEAT.md`
- `BOOTSTRAP.md` (فقط في مساحات العمل الجديدة كليًا)

تُختصر الملفات الكبيرة مع وسم دال. يُتحكَّم في الحد الأقصى لحجم كل ملف بواسطة
`agents.defaults.bootstrapMaxChars` (الافتراضي: 20000). تؤدي الملفات المفقودة إلى حقن
وسم قصير لملف مفقود.

يمكن للخطافات الداخلية اعتراض هذه الخطوة عبر `agent:bootstrap` لتعديل أو استبدال
ملفات التمهيد المحقونة (على سبيل المثال استبدال `SOUL.md` بشخصية بديلة).

لفحص مقدار مساهمة كل ملف محقون (خام مقابل محقون، والاقتطاع، إضافةً إلى حمل مخطط الأداة)، استخدم `/context list` أو `/context detail`. راجع [Context](/concepts/context).

## التعامل مع الوقت

يتضمن موجه النظام قسم **Current Date & Time** مخصصًا عندما تكون المنطقة الزمنية للمستخدم معروفة. وللحفاظ على استقرار ذاكرة التخزين المؤقت للموجه، فإنه يتضمن الآن **المنطقة الزمنية** فقط (من دون ساعة ديناميكية أو تنسيق وقت).

استخدم `session_status` عندما يحتاج الوكيل إلى الوقت الحالي؛ تتضمن بطاقة الحالة سطر طابع زمني.

التهيئة عبر:

- `agents.defaults.userTimezone`
- `agents.defaults.timeFormat` (`auto` | `12` | `24`)

راجع [Date & Time](/date-time) للاطلاع على تفاصيل السلوك كاملة.

## Skills

عند وجود Skills مؤهلة، يحقن OpenClaw قائمة **available skills list** مضغوطة
(`formatSkillsForPrompt`) تتضمن **مسار الملف** لكل مهارة. يوجّه
الموجه النموذج لاستخدام `read` لتحميل ملف SKILL.md في الموقع المدرج
(مساحة العمل، المُدار، أو المُضمَّن). إذا لم تكن هناك Skills مؤهلة، يُحذف
قسم Skills.

```
<available_skills>
  <skill>
    <name>...</name>
    <description>...</description>
    <location>...</location>
  </skill>
</available_skills>
```

يحافظ ذلك على صِغَر الموجه الأساسي مع تمكين استخدام Skills المستهدف.

## Documentation

عند التوفر، يتضمن موجه النظام قسم **Documentation** يشير إلى
دليل وثائق OpenClaw المحلي (إما `docs/` في مساحة عمل المستودع أو وثائق
حزمة npm المُضمَّنة)، كما يذكر المرآة العامة، ومستودع المصدر، وDiscord المجتمعي، و
ClawHub ([https://clawhub.com](https://clawhub.com)) لاكتشاف Skills. يوجّه الموجه النموذج إلى الرجوع أولًا إلى الوثائق المحلية
لسلوك OpenClaw أو الأوامر أو التهيئة أو البنية، وإلى تشغيل
`openclaw status` بنفسه متى أمكن (ولا يطلب من المستخدم إلا عند عدم توفر الوصول).

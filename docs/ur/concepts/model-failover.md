---
summary: "OpenClaw کس طرح auth پروفائلز کو گھماتا ہے اور ماڈلز کے درمیان فال بیک کرتا ہے"
read_when:
  - auth پروفائل روٹیشن، کول ڈاؤنز، یا ماڈل فال بیک رویّے کی تشخیص کرتے وقت
  - auth پروفائلز یا ماڈلز کے لیے فال بیک قواعد کو اپ ڈیٹ کرتے وقت
title: "ماڈل فال بیک"
x-i18n:
  source_path: concepts/model-failover.md
  source_hash: eab7c0633824d941
  provider: openai
  model: gpt-5.2-chat-latest
  workflow: v1
  generated_at: 2026-02-08T10:47:19Z
---

# ماڈل فال بیک

OpenClaw ناکامیوں کو دو مراحل میں سنبھالتا ہے:

1. **Auth پروفائل روٹیشن** موجودہ فراہم کنندہ کے اندر۔
2. **ماڈل فال بیک** `agents.defaults.model.fallbacks` میں اگلے ماڈل تک۔

یہ دستاویز رن ٹائم قواعد اور اُن کے پس منظر میں موجود ڈیٹا کی وضاحت کرتی ہے۔

## Auth اسٹوریج (کلیدیں + OAuth)

OpenClaw **auth پروفائلز** استعمال کرتا ہے، جو API کلیدوں اور OAuth ٹوکنز دونوں کے لیے ہوتے ہیں۔

- راز `~/.openclaw/agents/<agentId>/agent/auth-profiles.json` میں محفوظ ہوتے ہیں (لیگیسی: `~/.openclaw/agent/auth-profiles.json`)۔
- کنفیگ `auth.profiles` / `auth.order` صرف **میٹاڈیٹا + روٹنگ** کے لیے ہیں (کوئی راز نہیں)۔
- لیگیسی صرف-امپورٹ OAuth فائل: `~/.openclaw/credentials/oauth.json` (پہلی بار استعمال پر `auth-profiles.json` میں امپورٹ ہوتی ہے)۔

مزید تفصیل: [/concepts/oauth](/concepts/oauth)

اسناد کی اقسام:

- `type: "api_key"` → `{ provider, key }`
- `type: "oauth"` → `{ provider, access, refresh, expires, email? }` (+ کچھ فراہم کنندگان کے لیے `projectId`/`enterpriseUrl`)

## پروفائل IDs

OAuth لاگ اِن الگ الگ پروفائلز بناتا ہے تاکہ متعدد اکاؤنٹس ساتھ رہ سکیں۔

- ڈیفالٹ: `provider:default` جب ای میل دستیاب نہ ہو۔
- ای میل کے ساتھ OAuth: `provider:<email>` (مثال کے طور پر `google-antigravity:user@gmail.com`)۔

پروفائلز `~/.openclaw/agents/<agentId>/agent/auth-profiles.json` میں `profiles` کے تحت محفوظ ہوتے ہیں۔

## روٹیشن کی ترتیب

جب کسی فراہم کنندہ کے پاس متعدد پروفائلز ہوں، OpenClaw اس ترتیب کا انتخاب کرتا ہے:

1. **واضح کنفیگ**: `auth.order[provider]` (اگر سیٹ ہو)۔
2. **کنفیگر شدہ پروفائلز**: `auth.profiles` جو فراہم کنندہ کے مطابق فلٹر ہوں۔
3. **محفوظ شدہ پروفائلز**: فراہم کنندہ کے لیے `auth-profiles.json` میں اندراجات۔

اگر کوئی واضح ترتیب کنفیگر نہ ہو تو OpenClaw راؤنڈ-روبن ترتیب استعمال کرتا ہے:

- **پرائمری کلید:** پروفائل کی قسم (**OAuth، API کلیدوں سے پہلے**)۔
- **سیکنڈری کلید:** `usageStats.lastUsed` (ہر قسم کے اندر قدیم ترین پہلے)۔
- **کول ڈاؤن/غیرفعال پروفائلز** کو آخر میں منتقل کیا جاتا ہے، جلد ترین میعاد ختم ہونے کی ترتیب سے۔

### سیشن اسٹکنس (کیچ-فرینڈلی)

OpenClaw **ہر سیشن کے لیے منتخب شدہ auth پروفائل کو پن** کرتا ہے تاکہ فراہم کنندہ کی کیچز گرم رہیں۔
یہ **ہر درخواست پر روٹیٹ نہیں کرتا**۔ پن کیا گیا پروفائل دوبارہ استعمال ہوتا ہے جب تک کہ:

- سیشن ری سیٹ نہ ہو (`/new` / `/reset`)
- کوئی کمپیکشن مکمل نہ ہو (کمپیکشن کاؤنٹ میں اضافہ)
- پروفائل کول ڈاؤن میں یا غیرفعال نہ ہو

`/model …@<profileId>` کے ذریعے دستی انتخاب اس سیشن کے لیے **یوزر اووررائیڈ** سیٹ کرتا ہے
اور نیا سیشن شروع ہونے تک خودکار روٹیشن نہیں ہوتی۔

خودکار طور پر پن کیے گئے پروفائلز (جو سیشن روٹر منتخب کرتا ہے) **ترجیح** کے طور پر برتے جاتے ہیں:
انہیں پہلے آزمایا جاتا ہے، لیکن ریٹ لمٹس/ٹائم آؤٹس پر OpenClaw کسی دوسرے پروفائل پر جا سکتا ہے۔
یوزر-پن کیے گئے پروفائلز اسی پروفائل پر لاک رہتے ہیں؛ اگر وہ ناکام ہو جائے اور ماڈل فال بیکس
کنفیگر ہوں، تو OpenClaw پروفائل بدلنے کے بجائے اگلے ماڈل پر منتقل ہو جاتا ہے۔

### OAuth کیوں “گم شدہ” محسوس ہو سکتا ہے

اگر ایک ہی فراہم کنندہ کے لیے آپ کے پاس OAuth پروفائل اور API کلید پروفائل دونوں ہوں، تو راؤنڈ-روبن پیغامات کے درمیان ان کے بیچ سوئچ کر سکتا ہے جب تک پن نہ کیا جائے۔ ایک ہی پروفائل پر مجبور کرنے کے لیے:

- `auth.order[provider] = ["provider:profileId"]` کے ساتھ پن کریں، یا
- `/model …` کے ذریعے فی-سیشن اووررائیڈ استعمال کریں جس میں پروفائل اووررائیڈ ہو (جب آپ کی UI/چیٹ سطح اس کی حمایت کرے)۔

## کول ڈاؤنز

جب کوئی پروفائل auth/ریٹ-لمٹ غلطیوں کی وجہ سے ناکام ہو (یا ایسا ٹائم آؤٹ جو
ریٹ لمٹنگ جیسا لگے)، OpenClaw اسے کول ڈاؤن میں نشان زد کرتا ہے اور اگلے پروفائل پر جاتا ہے۔
فارمیٹ/غلط-درخواست کی غلطیاں (مثال کے طور پر Cloud Code Assist ٹول کال ID
ویلیڈیشن کی ناکامیاں) بھی فال اوور کے قابل سمجھی جاتی ہیں اور وہی کول ڈاؤنز استعمال کرتی ہیں۔

کول ڈاؤنز ایکسپونینشل بیک آف استعمال کرتے ہیں:

- 1 منٹ
- 5 منٹ
- 25 منٹ
- 1 گھنٹہ (حد)

حالت `auth-profiles.json` میں `usageStats` کے تحت محفوظ ہوتی ہے:

```json
{
  "usageStats": {
    "provider:profile": {
      "lastUsed": 1736160000000,
      "cooldownUntil": 1736160600000,
      "errorCount": 2
    }
  }
}
```

## بلنگ کی وجہ سے غیرفعالی

بلنگ/کریڈٹ کی ناکامیاں (مثال کے طور پر “ناکافی کریڈٹس” / “کریڈٹ بیلنس بہت کم”) فال اوور کے قابل سمجھی جاتی ہیں، مگر عموماً عارضی نہیں ہوتیں۔ مختصر کول ڈاؤن کے بجائے، OpenClaw پروفائل کو **غیرفعال** نشان زد کرتا ہے (زیادہ طویل بیک آف کے ساتھ) اور اگلے پروفائل/فراہم کنندہ پر روٹیٹ کرتا ہے۔

حالت `auth-profiles.json` میں محفوظ ہوتی ہے:

```json
{
  "usageStats": {
    "provider:profile": {
      "disabledUntil": 1736178000000,
      "disabledReason": "billing"
    }
  }
}
```

ڈیفالٹس:

- بلنگ بیک آف **5 گھنٹے** سے شروع ہوتا ہے، ہر بلنگ ناکامی پر دگنا ہوتا ہے، اور **24 گھنٹے** پر محدود ہو جاتا ہے۔
- اگر پروفائل **24 گھنٹے** تک ناکام نہ ہو تو بیک آف کاؤنٹرز ری سیٹ ہو جاتے ہیں (کنفیگریبل)۔

## ماڈل فال بیک

اگر کسی فراہم کنندہ کے تمام پروفائلز ناکام ہو جائیں، OpenClaw
`agents.defaults.model.fallbacks` میں اگلے ماڈل پر منتقل ہو جاتا ہے۔ یہ auth ناکامیوں، ریٹ لمٹس، اور
ایسے ٹائم آؤٹس پر لاگو ہوتا ہے جنہوں نے پروفائل روٹیشن ختم کر دی ہو (دیگر غلطیاں فال بیک کو آگے نہیں بڑھاتیں)۔

جب کوئی رَن ماڈل اووررائیڈ (ہُکس یا CLI) کے ساتھ شروع ہو، تو فال بیکس پھر بھی
کسی بھی کنفیگر شدہ فال بیکس آزمانے کے بعد `agents.defaults.model.primary` پر ختم ہوتے ہیں۔

## متعلقہ کنفیگ

دیکھیں [Gateway کنفیگریشن](/gateway/configuration) برائے:

- `auth.profiles` / `auth.order`
- `auth.cooldowns.billingBackoffHours` / `auth.cooldowns.billingBackoffHoursByProvider`
- `auth.cooldowns.billingMaxHours` / `auth.cooldowns.failureWindowHours`
- `agents.defaults.model.primary` / `agents.defaults.model.fallbacks`
- `agents.defaults.imageModel` روٹنگ

وسیع تر ماڈل انتخاب اور فال بیک کے جائزے کے لیے [Models](/concepts/models) دیکھیں۔

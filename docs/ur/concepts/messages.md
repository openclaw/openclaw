---
summary: "پیغام کے بہاؤ، سیشنز، قطار بندی، اور استدلال کی مرئیت"
read_when:
  - وضاحت کرتے وقت کہ اندر آنے والے پیغامات کیسے جوابات بنتے ہیں
  - سیشنز، قطار بندی کے موڈز، یا اسٹریمنگ کے رویّے کی وضاحت کرتے ہوئے
  - استدلال کی مرئیت اور استعمال کے مضمرات کی دستاویز بندی کرتے ہوئے
title: "پیغامات"
x-i18n:
  source_path: concepts/messages.md
  source_hash: 773301d5c0c1e3b8
  provider: openai
  model: gpt-5.2-chat-latest
  workflow: v1
  generated_at: 2026-02-08T10:47:21Z
---

# پیغامات

یہ صفحہ وضاحت کرتا ہے کہ OpenClaw اندر آنے والے پیغامات، سیشنز، قطار بندی،
اسٹریمنگ، اور استدلال کی مرئیت کو کیسے سنبھالتا ہے۔

## پیغام کا بہاؤ (اعلیٰ سطح)

```
Inbound message
  -> routing/bindings -> session key
  -> queue (if a run is active)
  -> agent run (streaming + tools)
  -> outbound replies (channel limits + chunking)
```

اہم کنٹرولز کنفیگریشن میں موجود ہیں:

- `messages.*` سابقات، قطار بندی، اور گروپ رویّے کے لیے۔
- `agents.defaults.*` بلاک اسٹریمنگ اور چنکنگ کی طے شدہ ترتیبات کے لیے۔
- چینل اوور رائیڈز (`channels.whatsapp.*`, `channels.telegram.*`، وغیرہ) حدود اور اسٹریمنگ ٹوگلز کے لیے۔

مکمل اسکیما کے لیے [Configuration](/gateway/configuration) دیکھیں۔

## اندر آنے والی ڈپلی کیشن کی روک تھام

چینلز دوبارہ کنیکٹ کے بعد ایک ہی پیغام دوبارہ بھیج سکتے ہیں۔ OpenClaw
چینل/اکاؤنٹ/پیئر/سیشن/پیغام آئی ڈی کے ذریعے کلید شدہ ایک مختصر المدت کیش رکھتا ہے
تاکہ ڈپلیکیٹ ترسیلات دوبارہ ایجنٹ رَن کو متحرک نہ کریں۔

## اندر آنے والی ڈی باؤنسنگ

**اسی بھیجنے والے** کی جانب سے تیزی سے آنے والے مسلسل پیغامات کو `messages.inbound` کے ذریعے
ایک ہی ایجنٹ ٹرن میں یکجا کیا جا سکتا ہے۔ ڈی باؤنسنگ فی چینل + گفتگو کے دائرے میں ہوتی ہے
اور جواب کی تھریڈنگ/آئی ڈیز کے لیے تازہ ترین پیغام استعمال کرتی ہے۔

کنفیگ (عالمی طے شدہ + فی چینل اوور رائیڈز):

```json5
{
  messages: {
    inbound: {
      debounceMs: 2000,
      byChannel: {
        whatsapp: 5000,
        slack: 1500,
        discord: 1500,
      },
    },
  },
}
```

نوٹس:

- ڈی باؤنس صرف **صرف-متن** پیغامات پر لاگو ہوتی ہے؛ میڈیا/منسلکات فوراً فلش ہو جاتے ہیں۔
- کنٹرول کمانڈز ڈی باؤنسنگ کو بائی پاس کرتی ہیں تاکہ وہ الگ تھلگ رہیں۔

## سیشنز اور ڈیوائسز

سیشنز گیٹ وے کی ملکیت ہوتے ہیں، کلائنٹس کی نہیں۔

- براہِ راست چیٹس ایجنٹ کے مرکزی سیشن کلید میں ضم ہو جاتی ہیں۔
- گروپس/چینلز کو اپنی الگ سیشن کلیدیں ملتی ہیں۔
- سیشن اسٹور اور ٹرانسکرپٹس گیٹ وے ہوسٹ پر موجود ہوتے ہیں۔

متعدد ڈیوائسز/چینلز ایک ہی سیشن سے میپ ہو سکتے ہیں، مگر ہسٹری ہر کلائنٹ پر مکمل طور پر
ہم وقت ساز نہیں ہوتی۔ سفارش: طویل گفتگوؤں کے لیے ایک بنیادی ڈیوائس استعمال کریں تاکہ
سیاق میں انحراف نہ ہو۔ کنٹرول UI اور TUI ہمیشہ گیٹ وے پر مبنی سیشن ٹرانسکرپٹ دکھاتے ہیں،
اس لیے وہی واحد مستند ماخذ ہیں۔

تفصیل: [Session management](/concepts/session)۔

## اندر آنے والے باڈیز اور ہسٹری سیاق

OpenClaw **پرومپٹ باڈی** کو **کمانڈ باڈی** سے الگ کرتا ہے:

- `Body`: ایجنٹ کو بھیجا جانے والا پرومپٹ متن۔ اس میں چینل اینویلپس اور
  اختیاری ہسٹری ریپرز شامل ہو سکتے ہیں۔
- `CommandBody`: ہدایات/کمانڈ پارسنگ کے لیے خام صارف متن۔
- `RawBody`: `CommandBody` کے لیے لیگیسی عرف (مطابقت کے لیے برقرار)۔

جب کوئی چینل ہسٹری فراہم کرتا ہے، تو وہ ایک مشترکہ ریپر استعمال کرتا ہے:

- `[Chat messages since your last reply - for context]`
- `[Current message - respond to this]`

**غیر براہِ راست چیٹس** (گروپس/چینلز/رومز) کے لیے، **موجودہ پیغام باڈی** کو بھیجنے والے کے لیبل
کے ساتھ سابقہ لگایا جاتا ہے (وہی طرز جو ہسٹری اندراجات کے لیے استعمال ہوتی ہے)۔ اس سے
حقیقی وقت اور قطار/ہسٹری کے پیغامات ایجنٹ پرومپٹ میں ہم آہنگ رہتے ہیں۔

ہسٹری بفرز **صرف زیرِ التوا** ہوتے ہیں: ان میں گروپ پیغامات شامل ہوتے ہیں جنہوں نے
رَن کو متحرک نہیں کیا (مثلاً، مینشن-گیٹڈ پیغامات) اور وہ پیغامات **خارج** ہوتے ہیں
جو پہلے ہی سیشن ٹرانسکرپٹ میں موجود ہوں۔

ڈائریکٹو اسٹرپنگ صرف **موجودہ پیغام** کے حصے پر لاگو ہوتی ہے تاکہ ہسٹری برقرار رہے۔
جو چینلز ہسٹری لپیٹتے ہیں انہیں `CommandBody` (یا `RawBody`) کو اصل پیغام
متن پر سیٹ کرنا چاہیے اور `Body` کو مشترکہ پرومپٹ کے طور پر رکھنا چاہیے۔
ہسٹری بفرز `messages.groupChat.historyLimit` (عالمی طے شدہ) اور فی چینل اوور رائیڈز جیسے
`channels.slack.historyLimit` یا `channels.telegram.accounts.<id>.historyLimit` کے ذریعے قابلِ کنفیگ ہیں
(`0` کو غیر فعال کرنے کے لیے سیٹ کریں)۔

## قطار بندی اور فالو اپس

اگر کوئی رَن پہلے سے فعال ہو، تو اندر آنے والے پیغامات کو قطار میں رکھا جا سکتا ہے،
موجودہ رَن میں سمت دی جا سکتی ہے، یا فالو اپ ٹرن کے لیے جمع کیا جا سکتا ہے۔

- `messages.queue` (اور `messages.queue.byChannel`) کے ذریعے کنفیگر کریں۔
- موڈز: `interrupt`, `steer`, `followup`, `collect`، نیز بیک لاگ ویریئنٹس۔

تفصیل: [Queueing](/concepts/queue)۔

## اسٹریمنگ، چنکنگ، اور بیچنگ

بلاک اسٹریمنگ ماڈل کے متن بلاکس تیار کرنے کے ساتھ جزوی جوابات بھیجتی ہے۔
چنکنگ چینل کی متن حدود کا احترام کرتی ہے اور فینسڈ کوڈ کو تقسیم کرنے سے بچاتی ہے۔

اہم ترتیبات:

- `agents.defaults.blockStreamingDefault` (`on|off`, بطورِ طے شدہ بند)
- `agents.defaults.blockStreamingBreak` (`text_end|message_end`)
- `agents.defaults.blockStreamingChunk` (`minChars|maxChars|breakPreference`)
- `agents.defaults.blockStreamingCoalesce` (غیرفعالی پر مبنی بیچنگ)
- `agents.defaults.humanDelay` (بلاک جوابات کے درمیان انسان نما وقفہ)
- چینل اوور رائیڈز: `*.blockStreaming` اور `*.blockStreamingCoalesce` (غیر Telegram چینلز کے لیے واضح `*.blockStreaming: true` درکار)

تفصیل: [Streaming + chunking](/concepts/streaming)۔

## استدلال کی مرئیت اور ٹوکنز

OpenClaw ماڈل کے استدلال کو ظاہر یا مخفی کر سکتا ہے:

- `/reasoning on|off|stream` مرئیت کو کنٹرول کرتا ہے۔
- استدلالی مواد، اگر ماڈل کی جانب سے پیدا ہو، تو ٹوکن استعمال میں شمار ہوتا ہے۔
- Telegram ڈرافٹ ببل میں استدلالی اسٹریمنگ کی حمایت کرتا ہے۔

تفصیل: [Thinking + reasoning directives](/tools/thinking) اور [Token use](/reference/token-use)۔

## سابقات، تھریڈنگ، اور جوابات

آؤٹ باؤنڈ پیغام کی فارمیٹنگ `messages` میں مرکوز ہے:

- `messages.responsePrefix`, `channels.<channel>.responsePrefix`, اور `channels.<channel>.accounts.<id>.responsePrefix` (آؤٹ باؤنڈ سابقہ کی کیسكیڈ)، نیز `channels.whatsapp.messagePrefix` (WhatsApp اندر آنے والا سابقہ)
- `replyToMode` اور فی چینل طے شدہ اقدار کے ذریعے جواب کی تھریڈنگ

تفصیل: [Configuration](/gateway/configuration#messages) اور چینل دستاویزات۔

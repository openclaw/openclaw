---
summary: "گیٹ وے کو تلاش کرنے کے لیے نوڈ ڈسکوری اور ٹرانسپورٹس (Bonjour، Tailscale، SSH)"
read_when:
  - Bonjour ڈسکوری/اشتہار کاری کو نافذ یا تبدیل کرتے وقت
  - ریموٹ کنکشن موڈز (براہِ راست بمقابلہ SSH) کو ایڈجسٹ کرتے وقت
  - ریموٹ نوڈز کے لیے نوڈ ڈسکوری اور جوڑی بنانے کا ڈیزائن کرتے وقت
title: "ڈسکوری اور ٹرانسپورٹس"
---

# ڈسکوری اور ٹرانسپورٹس

OpenClaw میں دو الگ مسائل ہیں جو بظاہر ایک جیسے لگتے ہیں:

1. **آپریٹر ریموٹ کنٹرول**: macOS مینو بار ایپ جو کہیں اور چلنے والے گیٹ وے کو کنٹرول کرتی ہے۔
2. **نوڈ جوڑی بنانا**: iOS/Android (اور مستقبل کے نوڈز) کا گیٹ وے تلاش کرنا اور محفوظ طور پر جوڑی بنانا۔

ڈیزائن کا مقصد یہ ہے کہ تمام نیٹ ورک ڈسکوری/اشتہار کاری **Node Gateway** (`openclaw gateway`) میں رکھی جائے اور کلائنٹس (mac ایپ، iOS) کو صارفین کے طور پر رکھا جائے۔

## اصطلاحات

- **Gateway**: a single long-running gateway process that owns state (sessions, pairing, node registry) and runs channels. Most setups use one per host; isolated multi-gateway setups are possible.
- **Gateway WS (کنٹرول پلین)**: WebSocket اینڈپوائنٹ جو بطورِ طے شدہ `127.0.0.1:18789` پر ہوتا ہے؛ `gateway.bind` کے ذریعے LAN/tailnet پر بائنڈ کیا جا سکتا ہے۔
- **براہِ راست WS ٹرانسپورٹ**: LAN/tailnet کی طرف رخ رکھنے والا Gateway WS اینڈپوائنٹ (بغیر SSH)۔
- **SSH ٹرانسپورٹ (فال بیک)**: SSH کے ذریعے `127.0.0.1:18789` کو فارورڈ کر کے ریموٹ کنٹرول۔
- **Legacy TCP bridge (منسوخ/ہٹایا گیا)**: پرانا نوڈ ٹرانسپورٹ (دیکھیں [Bridge protocol](/gateway/bridge-protocol))؛ اب ڈسکوری کے لیے مشتہر نہیں کیا جاتا۔

پروٹوکول کی تفصیلات:

- [Gateway protocol](/gateway/protocol)
- [Bridge protocol (legacy)](/gateway/bridge-protocol)

## ہم “براہِ راست” اور SSH دونوں کیوں رکھتے ہیں

- **براہِ راست WS** ایک ہی نیٹ ورک اور tailnet کے اندر بہترین UX فراہم کرتا ہے:
  - Bonjour کے ذریعے LAN پر خودکار ڈسکوری
  - جوڑی بنانے کے ٹوکنز اور ACLs گیٹ وے کے زیرِ ملکیت
  - شیل رسائی درکار نہیں؛ پروٹوکول کی سطح محدود اور قابلِ آڈٹ رہتی ہے
- **SSH** عالمی فال بیک کے طور پر برقرار رہتا ہے:
  - جہاں بھی SSH رسائی ہو وہاں کام کرتا ہے (حتیٰ کہ غیر متعلقہ نیٹ ورکس کے پار)
  - multicast/mDNS مسائل کے باوجود قابلِ اعتماد
  - SSH کے علاوہ کسی نئے اِن باؤنڈ پورٹ کی ضرورت نہیں

## ڈسکوری ان پٹس (کلائنٹس گیٹ وے کہاں ہے یہ کیسے جانتے ہیں)

### 1. Bonjour / mDNS (صرف LAN)

Bonjour is best-effort and does not cross networks. It is only used for “same LAN” convenience.

ہدف سمت:

- **گیٹ وے** اپنے WS اینڈپوائنٹ کو Bonjour کے ذریعے مشتہر کرتا ہے۔
- کلائنٹس براؤز کر کے “گیٹ وے منتخب کریں” کی فہرست دکھاتے ہیں، پھر منتخب اینڈپوائنٹ محفوظ کرتے ہیں۔

خرابیوں کے ازالے اور بیکن کی تفصیلات: [Bonjour](/gateway/bonjour)۔

#### سروس بیکن کی تفصیلات

- سروس اقسام:
  - `_openclaw-gw._tcp` (گیٹ وے ٹرانسپورٹ بیکن)
- TXT کلیدیں (غیر خفیہ):
  - `role=gateway`
  - `lanHost=<hostname>.local`
  - `sshPort=22` (یا جو بھی مشتہر کیا گیا ہو)
  - `gatewayPort=18789` (Gateway WS + HTTP)
  - `gatewayTls=1` (صرف جب TLS فعال ہو)
  - `gatewayTlsSha256=<sha256>` (صرف جب TLS فعال ہو اور فنگرپرنٹ دستیاب ہو)
  - `canvasPort=18793` (ڈیفالٹ کینوس ہوسٹ پورٹ؛ `/__openclaw__/canvas/` فراہم کرتا ہے)
  - `cliPath=<path>` (اختیاری؛ قابلِ اجرا `openclaw` اینٹری پوائنٹ یا بائنری کا مطلق راستہ)
  - `tailnetDns=<magicdns>` (اختیاری اشارہ؛ Tailscale دستیاب ہونے پر خودکار طور پر شناخت)

غیر فعال/اووررائیڈ:

- `OPENCLAW_DISABLE_BONJOUR=1` اشتہار کاری کو غیر فعال کرتا ہے۔
- `gateway.bind` میں `~/.openclaw/openclaw.json` Gateway بائنڈ موڈ کو کنٹرول کرتا ہے۔
- `OPENCLAW_SSH_PORT` TXT میں مشتہر SSH پورٹ کو اووررائیڈ کرتا ہے (بطورِ طے شدہ 22)۔
- `OPENCLAW_TAILNET_DNS` ایک `tailnetDns` اشارہ شائع کرتا ہے (MagicDNS)۔
- `OPENCLAW_CLI_PATH` مشتہر CLI راستے کو اووررائیڈ کرتا ہے۔

### 2. Tailnet (کراس-نیٹ ورک)

For London/Vienna style setups, Bonjour won’t help. The recommended “direct” target is:

- Tailscale MagicDNS نام (ترجیحی) یا ایک مستحکم tailnet IP۔

اگر گیٹ وے یہ شناخت کر سکے کہ وہ Tailscale کے تحت چل رہا ہے، تو وہ `tailnetDns` کو کلائنٹس کے لیے اختیاری اشارے کے طور پر شائع کرتا ہے (بشمول وسیع-علاقائی بیکنز)۔

### 3. دستی / SSH ہدف

جب کوئی براہِ راست راستہ موجود نہ ہو (یا براہِ راست غیر فعال ہو)، تو کلائنٹس ہمیشہ loopback گیٹ وے پورٹ کو فارورڈ کر کے SSH کے ذریعے کنیکٹ کر سکتے ہیں۔

دیکھیں [Remote access](/gateway/remote)۔

## ٹرانسپورٹ کا انتخاب (کلائنٹ پالیسی)

تجویز کردہ کلائنٹ رویّہ:

1. اگر کوئی جوڑا بنایا ہوا براہِ راست اینڈپوائنٹ کنفیگر ہو اور قابلِ رسائی ہو، تو اسی کو استعمال کریں۔
2. ورنہ، اگر Bonjour LAN پر کسی گیٹ وے کو تلاش کرے، تو ایک ٹیپ والا “اس گیٹ وے کو استعمال کریں” اختیار پیش کریں اور اسے براہِ راست اینڈپوائنٹ کے طور پر محفوظ کریں۔
3. ورنہ، اگر tailnet DNS/IP کنفیگر ہو، تو براہِ راست آزمائیں۔
4. ورنہ، SSH پر واپس جائیں۔

## جوڑی بنانا + تصدیق (براہِ راست ٹرانسپورٹ)

گیٹ وے نوڈ/کلائنٹ داخلے کے لیے واحد ذریعۂ حقیقت ہے۔

- جوڑی بنانے کی درخواستیں گیٹ وے میں بنائی/منظور/مسترد کی جاتی ہیں (دیکھیں [Gateway pairing](/gateway/pairing))۔
- گیٹ وے درج ذیل نافذ کرتا ہے:
  - تصدیق (ٹوکن / کی پیئر)
  - اسکوپس/ACLs (گیٹ وے ہر طریقہ کے لیے خام پراکسی نہیں)
  - ریٹ لمٹس

## اجزاء کے لحاظ سے ذمہ داریاں

- **Gateway**: ڈسکوری بیکنز مشتہر کرتا ہے، جوڑی بنانے کے فیصلوں کا مالک ہوتا ہے، اور WS اینڈپوائنٹ ہوسٹ کرتا ہے۔
- **macOS ایپ**: آپ کو گیٹ وے منتخب کرنے میں مدد دیتی ہے، جوڑی بنانے کے پرامپٹس دکھاتی ہے، اور SSH کو صرف فال بیک کے طور پر استعمال کرتی ہے۔
- **iOS/Android نوڈز**: سہولت کے طور پر Bonjour براؤز کرتے ہیں اور جوڑے گئے Gateway WS سے کنیکٹ کرتے ہیں۔

---
summary: "WhatsApp گروپ پیغامات کی ہینڈلنگ کے لیے رویّہ اور کنفیگ (mentionPatterns تمام سرفیسز میں مشترک ہیں)"
read_when:
  - گروپ پیغام کے قواعد یا مینشنز تبدیل کرتے وقت
title: "گروپ پیغامات"
x-i18n:
  source_path: channels/group-messages.md
  source_hash: 181a72f12f5021af
  provider: openai
  model: gpt-5.2-chat-latest
  workflow: v1
  generated_at: 2026-02-08T10:47:04Z
---

# گروپ پیغامات (WhatsApp ویب چینل)

مقصد: Clawd کو WhatsApp گروپس میں موجود رہنے دینا، صرف پنگ ہونے پر بیدار کرنا، اور اس تھریڈ کو ذاتی DM سیشن سے الگ رکھنا۔

نوٹ: `agents.list[].groupChat.mentionPatterns` اب Telegram/Discord/Slack/iMessage کے لیے بھی استعمال ہوتا ہے؛ یہ دستاویز WhatsApp سے متعلق مخصوص رویّے پر مرکوز ہے۔ ملٹی ایجنٹ سیٹ اپس کے لیے `agents.list[].groupChat.mentionPatterns` ہر ایجنٹ کے لیے سیٹ کریں (یا بطور عالمی فال بیک `messages.groupChat.mentionPatterns` استعمال کریں)۔

## کیا نافذ ہے (2025-12-03)

- ایکٹیویشن موڈز: `mention` (بطورِ طے شدہ) یا `always`۔ `mention` کے لیے پنگ درکار ہے (اصل WhatsApp @-مینشنز بذریعہ `mentionedJids`، regex پیٹرنز، یا متن میں کہیں بھی بوٹ کا E.164)۔ `always` ہر پیغام پر ایجنٹ کو بیدار کرتا ہے مگر جواب صرف اسی وقت دینا چاہیے جب معنی خیز قدر شامل ہو؛ بصورت دیگر خاموش ٹوکن `NO_REPLY` واپس کرتا ہے۔ ڈیفالٹس کنفیگ (`channels.whatsapp.groups`) میں سیٹ کیے جا سکتے ہیں اور ہر گروپ کے لیے `/activation` کے ذریعے اوور رائیڈ ہو سکتے ہیں۔ جب `channels.whatsapp.groups` سیٹ ہو تو یہ گروپ allowlist کے طور پر بھی کام کرتا ہے (سب کو اجازت دینے کے لیے `"*"` شامل کریں)۔
- گروپ پالیسی: `channels.whatsapp.groupPolicy` یہ کنٹرول کرتا ہے کہ گروپ پیغامات قبول ہوں یا نہیں (`open|disabled|allowlist`)۔ `allowlist`، `channels.whatsapp.groupAllowFrom` استعمال کرتا ہے (فال بیک: واضح `channels.whatsapp.allowFrom`)۔ ڈیفالٹ `allowlist` ہے (جب تک ارسال کنندگان شامل نہ کریں، بلاک رہتا ہے)۔
- ہر گروپ کے لیے سیشنز: سیشن کیز `agent:<agentId>:whatsapp:group:<jid>` جیسی ہوتی ہیں، لہٰذا `/verbose on` یا `/think high` جیسی کمانڈز (بطور علیحدہ پیغامات بھیجی گئی) اسی گروپ تک محدود رہتی ہیں؛ ذاتی DM اسٹیٹ متاثر نہیں ہوتی۔ گروپ تھریڈز کے لیے ہارٹ بیٹس چھوڑ دیے جاتے ہیں۔
- سیاق داخل کرنا: **صرف زیرِ التوا** گروپ پیغامات (ڈیفالٹ 50) جنہوں نے رن ٹرگر نہیں کیا، `[Chat messages since your last reply - for context]` کے تحت بطور سابقہ شامل کیے جاتے ہیں، اور ٹرگر کرنے والی لائن `[Current message - respond to this]` کے تحت ہوتی ہے۔ جو پیغامات پہلے ہی سیشن میں ہوں وہ دوبارہ شامل نہیں کیے جاتے۔
- بھیجنے والے کی نمایاں شناخت: ہر گروپ بیچ اب `[from: Sender Name (+E164)]` پر ختم ہوتا ہے تاکہ Pi کو معلوم ہو کہ کون بول رہا ہے۔
- عارضی/ویو-ونس: متن/مینشن نکالنے سے پہلے ہم انہیں اَن ریپ کر دیتے ہیں، اس لیے ان کے اندر موجود پنگز بھی ٹرگر کریں گے۔
- گروپ سسٹم پرامپٹ: گروپ سیشن کی پہلی باری پر (اور جب بھی `/activation` موڈ تبدیل کرے) ہم سسٹم پرامپٹ میں `You are replying inside the WhatsApp group "<subject>". Group members: Alice (+44...), Bob (+43...), … Activation: trigger-only … Address the specific sender noted in the message context.` جیسا مختصر بلرب داخل کرتے ہیں۔ اگر میٹاڈیٹا دستیاب نہ ہو تب بھی ہم ایجنٹ کو بتاتے ہیں کہ یہ گروپ چیٹ ہے۔

## کنفیگ مثال (WhatsApp)

`~/.openclaw/openclaw.json` میں `groupChat` بلاک شامل کریں تاکہ ڈسپلے-نام پنگز اس وقت بھی کام کریں جب WhatsApp متن کے باڈی میں بصری `@` ہٹا دے:

```json5
{
  channels: {
    whatsapp: {
      groups: {
        "*": { requireMention: true },
      },
    },
  },
  agents: {
    list: [
      {
        id: "main",
        groupChat: {
          historyLimit: 50,
          mentionPatterns: ["@?openclaw", "\\+?15555550123"],
        },
      },
    ],
  },
}
```

نوٹس:

- regex پیٹرنز کیس اِن سینسِٹو ہیں؛ یہ `@openclaw` جیسا ڈسپلے-نام پنگ اور `+`/اسپیسز کے ساتھ یا بغیر خام نمبر دونوں کو کور کرتے ہیں۔
- جب کوئی رابطہ ٹیپ کرتا ہے تو WhatsApp اب بھی `mentionedJids` کے ذریعے کینونیکل مینشنز بھیجتا ہے، اس لیے نمبر فال بیک شاذ و نادر ہی درکار ہوتا ہے مگر ایک مفید حفاظتی جال ہے۔

### ایکٹیویشن کمانڈ (صرف مالک)

گروپ چیٹ کمانڈ استعمال کریں:

- `/activation mention`
- `/activation always`

صرف مالک نمبر (`channels.whatsapp.allowFrom` سے، یا اگر سیٹ نہ ہو تو بوٹ کا اپنا E.164) یہ تبدیل کر سکتا ہے۔ موجودہ ایکٹیویشن موڈ دیکھنے کے لیے گروپ میں بطور علیحدہ پیغام `/status` بھیجیں۔

## استعمال کیسے کریں

1. اپنے WhatsApp اکاؤنٹ (جس پر OpenClaw چل رہا ہو) کو گروپ میں شامل کریں۔
2. `@openclaw …` کہیں (یا نمبر شامل کریں)۔ جب تک آپ `groupPolicy: "open"` سیٹ نہ کریں، صرف allowlist کیے گئے ارسال کنندگان ہی ٹرگر کر سکتے ہیں۔
3. ایجنٹ پرامپٹ میں حالیہ گروپ سیاق شامل ہوگا اور آخر میں `[from: …]` مارکر ہوگا تاکہ وہ درست شخص کو مخاطب کر سکے۔
4. سیشن لیول ہدایات (`/verbose on`, `/think high`, `/new` یا `/reset`, `/compact`) صرف اسی گروپ کے سیشن پر لاگو ہوتی ہیں؛ انہیں بطور علیحدہ پیغامات بھیجیں تاکہ رجسٹر ہوں۔ آپ کا ذاتی DM سیشن آزاد رہتا ہے۔

## جانچ / تصدیق

- دستی اسموک:
  - گروپ میں `@openclaw` پنگ بھیجیں اور اس بات کی تصدیق کریں کہ جواب بھیجنے والے کے نام کا حوالہ دیتا ہے۔
  - دوسرا پنگ بھیجیں اور تصدیق کریں کہ ہسٹری بلاک شامل ہوتا ہے پھر اگلی باری پر صاف ہو جاتا ہے۔
- گیٹ وے لاگز چیک کریں ( `--verbose` کے ساتھ چلائیں) تاکہ `from: <groupJid>` اور `[from: …]` سفکس دکھانے والی `inbound web message` انٹریز نظر آئیں۔

## معلوم امور

- شور سے بھرپور براڈکاسٹس سے بچنے کے لیے گروپس کے لیے ہارٹ بیٹس جان بوجھ کر چھوڑ دیے جاتے ہیں۔
- ایکو سپریشن مشترکہ بیچ اسٹرنگ استعمال کرتی ہے؛ اگر آپ بغیر مینشن کے ایک ہی متن دو بار بھیجیں تو صرف پہلی بار جواب آئے گا۔
- سیشن اسٹور میں اندراجات `agent:<agentId>:whatsapp:group:<jid>` کے طور پر ظاہر ہوں گی (بطورِ طے شدہ `~/.openclaw/agents/<agentId>/sessions/sessions.json`)؛ اندراج کا نہ ہونا صرف یہ معنی رکھتا ہے کہ گروپ نے ابھی تک رن ٹرگر نہیں کیا۔
- گروپس میں ٹائپنگ اشارے `agents.defaults.typingMode` کی پیروی کرتے ہیں (ڈیفالٹ: بغیر مینشن `message`)۔

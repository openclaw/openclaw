---
summary: "Use Daydreams Router (x402) with permit-signed USDC payments"
read_when:
  - You want to pay per request using Daydreams Router (x402)
  - You need wallet based provider setup steps
---

# Daydreams Router (x402)

Daydreams Router (x402) is a permit-signed payment flow for model routers. Clawdbot
signs ERC-2612 permits using a wallet private key and injects the payment header
per request so you can pay for inference with USDC.

## One-line install (recommended)

The fork installer sets up everything in one shot: the SAW (Secure Agent Wallet)
daemon for on-device key management, the OpenClaw gateway, and x402 onboarding.

```bash
curl -fsSL https://raw.githubusercontent.com/daydreamsai/openclaw-x402-router/main/scripts/install-openclaw-fork.sh | bash
```

What it does:

1. **Phase 1 — SAW daemon**: downloads SAW binaries, generates an EVM wallet key on-device, writes a conservative spending policy, and starts the daemon (systemd on Linux, LaunchAgent on macOS).
2. **Phase 2 — OpenClaw gateway**: installs the CLI globally from a prebuilt release tarball (fast, no build tools needed).
3. **Phase 3 — Onboarding**: runs `openclaw onboard --auth-choice x402` if a TTY is available; otherwise prints the manual command.

To skip SAW setup (e.g. you already have a wallet):

```bash
curl -fsSL https://raw.githubusercontent.com/daydreamsai/openclaw-x402-router/main/scripts/install-openclaw-fork.sh | SAW_INSTALL=0 bash
```

See the [script header](https://github.com/daydreamsai/openclaw-x402-router/blob/main/scripts/install-openclaw-fork.sh) for all environment variable overrides.

## Quick setup

1. Run onboarding and select Daydreams Router (x402).
2. Enter your wallet private key and router URL.
3. Set the default model:

```json5
{
  agents: {
    defaults: {
      model: { primary: "x402/auto" },
      models: {
        "x402/auto": { alias: "Auto" },
        "x402/kimi-k2.5": { alias: "Kimi" },
        "x402/claude-opus-4-6": { alias: "Opus" },
        "x402/gpt-5": { alias: "GPT-5" },
        "x402/gpt-5.3-codex": { alias: "Codex" },
      },
    },
  },
}
```

## Model refs

- Default: `x402/auto`
- `x402/auto` uses router smart routing (task-based model selection)
- Examples: `x402/claude-opus-4-6`, `x402/gpt-5.3-codex`, `x402/anthropic/claude-sonnet-4`
- Full catalog: `https://ai.xgate.run/v1/models`

## Router configuration

Set the Daydreams Router URL on the provider entry:

```json5
{
  models: {
    mode: "merge",
    providers: {
      x402: {
        baseUrl: "https://ai.xgate.run/v1",
        api: "anthropic-messages",
        authHeader: false,
        models: [
          { id: "auto", name: "Auto (Smart Routing)", api: "openai-completions" },
          { id: "claude-opus-4-6", name: "Claude Opus 4.6", api: "anthropic-messages" },
          { id: "kimi-k2.5", name: "Kimi K2.5", api: "openai-completions" },
          { id: "gpt-5.3-codex", name: "GPT-5.3 Codex", api: "openai-responses" },
        ],
      },
    },
  },
}
```

## Permit settings

Permit cap and network live in the plugin config:

```json5
{
  plugins: {
    entries: {
      "daydreams-x402-auth": {
        config: {
          permitCap: 10,
          network: "eip155:8453",
        },
      },
    },
  },
}
```

Notes:

- `permitCap` is in USD; 10 means $10.00.
- `network` uses CAIP-2 (example: `eip155:8453` for Base).

## Security

Use a dedicated wallet and never reuse a primary wallet key.

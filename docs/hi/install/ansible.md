---
summary: "Ansible, Tailscale VPN рдФрд░ рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдЖрдЗрд╕реЛрд▓реЗрд╢рди рдХреЗ рд╕рд╛рде рд╕реНрд╡рдЪрд╛рд▓рд┐рдд, рд╕реБрджреГрдврд╝ OpenClaw рд╕реНрдерд╛рдкрдирд╛"
read_when:
  - рдЖрдк рд╕реБрд░рдХреНрд╖рд╛ рд╕реБрджреГрдврд╝реАрдХрд░рдг рдХреЗ рд╕рд╛рде рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд╕рд░реНрд╡рд░ рдкрд░рд┐рдирд┐рдпреЛрдЬрди рдЪрд╛рд╣рддреЗ рд╣реИрдВ
  - рдЖрдкрдХреЛ VPN рдПрдХреНрд╕реЗрд╕ рдХреЗ рд╕рд╛рде рдлрд╝рд╛рдпрд░рд╡реЙрд▓-рдЖрдЗрд╕реЛрд▓реЗрдЯреЗрдб рд╕реЗрдЯрдЕрдк рдЪрд╛рд╣рд┐рдП
  - рдЖрдк рджреВрд░рд╕реНрде Debian/Ubuntu рд╕рд░реНрд╡рд░реЛрдВ рдкрд░ рдкрд░рд┐рдирд┐рдпреЛрдЬрди рдХрд░ рд░рд╣реЗ рд╣реИрдВ
title: "Ansible"
---

# Ansible рд╕реНрдерд╛рдкрдирд╛

рдкреНрд░реЛрдбрдХреНрд╢рди рд╕рд░реНрд╡рд░реЛрдВ рдкрд░ OpenClaw рдХреЛ рдкрд░рд┐рдирд┐рдпреЛрдЬрд┐рдд рдХрд░рдиреЗ рдХрд╛ рдЕрдиреБрд╢рдВрд╕рд┐рдд рддрд░реАрдХрд╛ **[openclaw-ansible](https://github.com/openclaw/openclaw-ansible)** рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣реИ тАФ рдпрд╣ рдПрдХ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЗрдВрд╕реНрдЯреЙрд▓рд░ рд╣реИ, рдЬрд┐рд╕рдХреА рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рд╕реБрд░рдХреНрд╖рд╛-рдкреНрд░рдердо рджреГрд╖реНрдЯрд┐рдХреЛрдг рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИред

## рддреНрд╡рд░рд┐рдд рдкреНрд░рд╛рд░рдВрдн

рдПрдХ-рдХрдорд╛рдВрдб рд╕реНрдерд╛рдкрдирд╛:

```bash
curl -fsSL https://raw.githubusercontent.com/openclaw/openclaw-ansible/main/install.sh | bash
```

> **ЁЯУж рдкреВрд░реНрдг рдорд╛рд░реНрдЧрджрд░реНрд╢рд┐рдХрд╛: [github.com/openclaw/openclaw-ansible](https://github.com/openclaw/openclaw-ansible)**
>
> рдпрд╣ рдкреЗрдЬ рдПрдХ рддреНрд╡рд░рд┐рдд рдУрд╡рд░рд╡реНрдпреВ рд╣реИред Note: рдЧреЗрдЯрд╡реЗ **рд╕реАрдзреЗ рд╣реЛрд╕реНрдЯ рдкрд░** рдЪрд▓рддрд╛ рд╣реИ (Docker рдореЗрдВ рдирд╣реАрдВ), рд▓реЗрдХрд┐рди рдПрдЬреЗрдВрдЯ рд╕реИрдВрдбрдмреЙрдХреНрд╕ isolation рдХреЗ рд▓рд┐рдП Docker рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред

## рдЖрдкрдХреЛ рдХреНрдпрд╛ рдорд┐рд▓реЗрдЧрд╛

- ЁЯФТ **рдлрд╝рд╛рдпрд░рд╡реЙрд▓-рдкреНрд░рдердо рд╕реБрд░рдХреНрд╖рд╛**: UFW + Docker рдЖрдЗрд╕реЛрд▓реЗрд╢рди (рдХреЗрд╡рд▓ SSH + Tailscale рд╕реБрд▓рдн)
- ЁЯФР **Tailscale VPN**: рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд░реВрдк рд╕реЗ рдЙрдЬрд╛рдЧрд░ рдХрд┐рдП рдмрд┐рдирд╛ рд╕реБрд░рдХреНрд╖рд┐рдд рджреВрд░рд╕реНрде рдПрдХреНрд╕реЗрд╕
- ЁЯР│ **Docker**: рдЖрдЗрд╕реЛрд▓реЗрдЯреЗрдб sandbox рдХрдВрдЯреЗрдирд░, рдХреЗрд╡рд▓ localhost рдмрд╛рдЗрдВрдбрд┐рдВрдЧ
- ЁЯЫбя╕П **Defense in depth**: 4-рд╕реНрддрд░реАрдп рд╕реБрд░рдХреНрд╖рд╛ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░
- ЁЯЪА **рдПрдХ-рдХрдорд╛рдВрдб рд╕реЗрдЯрдЕрдк**: рдорд┐рдирдЯреЛрдВ рдореЗрдВ рдкреВрд░реНрдг рдкрд░рд┐рдирд┐рдпреЛрдЬрди
- ЁЯФз **Systemd рдПрдХреАрдХрд░рдг**: рд╕реБрджреГрдврд╝реАрдХрд░рдг рдХреЗ рд╕рд╛рде рдмреВрдЯ рдкрд░ рд╕реНрд╡рддрдГ рдкреНрд░рд╛рд░рдВрдн

## рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдБ

- **OS**: Debian 11+ рдпрд╛ Ubuntu 20.04+
- **рдПрдХреНрд╕реЗрд╕**: Root рдпрд╛ sudo рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░
- **рдиреЗрдЯрд╡рд░реНрдХ**: рдкреИрдХреЗрдЬ рд╕реНрдерд╛рдкрдирд╛ рдХреЗ рд▓рд┐рдП рдЗрдВрдЯрд░рдиреЗрдЯ рдХрдиреЗрдХреНрд╢рди
- **Ansible**: 2.14+ (рддреНрд╡рд░рд┐рдд-рдкреНрд░рд╛рд░рдВрдн рд╕реНрдХреНрд░рд┐рдкреНрдЯ рджреНрд╡рд╛рд░рд╛ рд╕реНрд╡рддрдГ рд╕реНрдерд╛рдкрд┐рдд)

## рдХреНрдпрд╛-рдХреНрдпрд╛ рд╕реНрдерд╛рдкрд┐рдд рд╣реЛрддрд╛ рд╣реИ

Ansible рдкреНрд▓реЗрдмреБрдХ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдФрд░ рд╡рд┐рдиреНрдпрд╕реНрдд рдХрд░рддрд╛ рд╣реИ:

1. **Tailscale** (рд╕реБрд░рдХреНрд╖рд┐рдд рджреВрд░рд╕реНрде рдПрдХреНрд╕реЗрд╕ рдХреЗ рд▓рд┐рдП mesh VPN)
2. **UFW рдлрд╝рд╛рдпрд░рд╡реЙрд▓** (рдХреЗрд╡рд▓ SSH + Tailscale рдкреЛрд░реНрдЯ)
3. **Docker CE + Compose V2** (рдПрдЬреЗрдВрдЯ sandbox рдХреЗ рд▓рд┐рдП)
4. **Node.js 22.x + pnpm** (рд░рдирдЯрд╛рдЗрдо рдирд┐рд░реНрднрд░рддрд╛рдПрдБ)
5. **OpenClaw** (рд╣реЛрд╕реНрдЯ-рдЖрдзрд╛рд░рд┐рдд, рдХрдВрдЯреЗрдирд░рд╛рдЗрдЬрд╝реНрдб рдирд╣реАрдВ)
6. **Systemd рд╕реЗрд╡рд╛** (рд╕реБрд░рдХреНрд╖рд╛ рд╕реБрджреГрдврд╝реАрдХрд░рдг рдХреЗ рд╕рд╛рде рд╕реНрд╡рддрдГ рдкреНрд░рд╛рд░рдВрдн)

Note: Gateway **рд╕реАрдзреЗ host рдкрд░ рдЪрд▓рддрд╛ рд╣реИ** (Docker рдореЗрдВ рдирд╣реАрдВ), рд▓реЗрдХрд┐рди agent sandboxes isolation рдХреЗ рд▓рд┐рдП Docker рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред **рд╕рд┐рд░реНрдл рдкреЛрд░реНрдЯ 22** (SSH) рдЦреБрд▓рд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред

## рдкреЛрд╕реНрдЯ-рдЗрдВрд╕реНрдЯреЙрд▓ рд╕реЗрдЯрдЕрдк

рд╕реНрдерд╛рдкрдирд╛ рдкреВрд░реНрдг рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, openclaw рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдореЗрдВ рд╕реНрд╡рд┐рдЪ рдХрд░реЗрдВ:

```bash
sudo -i -u openclaw
```

рдкреЛрд╕реНрдЯ-рдЗрдВрд╕реНрдЯреЙрд▓ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЖрдкрдХреЛ рдирд┐рдореНрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдорд╛рд░реНрдЧрджрд░реНрд╢рди рдХрд░реЗрдЧреА:

1. **рдСрдирдмреЛрд░реНрдбрд┐рдВрдЧ рд╡рд┐рдЬрд╝рд╛рд░реНрдб**: OpenClaw рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХрд╛ рд╡рд┐рдиреНрдпрд╛рд╕
2. **рдкреНрд░рджрд╛рддрд╛ рд▓реЙрдЧрд┐рди**: WhatsApp/Telegram/Discord/Signal рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ
3. **Gateway рдкрд░реАрдХреНрд╖рдг**: рд╕реНрдерд╛рдкрдирд╛ рдХрд╛ рд╕рддреНрдпрд╛рдкрди
4. **Tailscale рд╕реЗрдЯрдЕрдк**: рдЕрдкрдиреЗ VPN mesh рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ

### рддреНрд╡рд░рд┐рдд рдХрдорд╛рдВрдб

```bash
# Check service status
sudo systemctl status openclaw

# View live logs
sudo journalctl -u openclaw -f

# Restart gateway
sudo systemctl restart openclaw

# Provider login (run as openclaw user)
sudo -i -u openclaw
openclaw channels login
```

## рд╕реБрд░рдХреНрд╖рд╛ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░

### 4-рд╕реНрддрд░реАрдп рд░рдХреНрд╖рд╛

1. **рдлрд╝рд╛рдпрд░рд╡реЙрд▓ (UFW)**: рдХреЗрд╡рд▓ SSH (22) + Tailscale (41641/udp) рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд░реВрдк рд╕реЗ рдЦреБрд▓реЗ
2. **VPN (Tailscale)**: Gateway рдХреЗрд╡рд▓ VPN mesh рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реБрд▓рдн
3. **Docker рдЖрдЗрд╕реЛрд▓реЗрд╢рди**: DOCKER-USER iptables рдЪреЗрди рдмрд╛рд╣рд░реА рдкреЛрд░реНрдЯ рдПрдХреНрд╕рдкреЛрдЬрд╝рд░ рдХреЛ рд░реЛрдХрддреА рд╣реИ
4. **Systemd рд╕реБрджреГрдврд╝реАрдХрд░рдг**: NoNewPrivileges, PrivateTmp, рдЕрдкреНрд░рд┐рд╡рд┐рд▓реЗрдЬреНрдб рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛

### рд╕рддреНрдпрд╛рдкрди

рдмрд╛рд╣рд░реА рдЖрдХреНрд░рдордг рд╕рддрд╣ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ:

```bash
nmap -p- YOUR_SERVER_IP
```

рдмрд╛рдХреА рд╕рднреА рд╕рд░реНрд╡рд┐рд╕реЗрдЬрд╝ (gateway, Docker) рд▓реЙрдХ рдбрд╛рдЙрди рд░рд╣рддреА рд╣реИрдВред Docker **agent sandboxes** (isolated tool execution) рдХреЗ рд▓рд┐рдП рдЗрдВрд╕реНрдЯреЙрд▓ рд╣реЛрддрд╛ рд╣реИ, рдЧреЗрдЯрд╡реЗ рдЦреБрдж рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдирд╣реАрдВред

### Docker рдЙрдкрд▓рдмреНрдзрддрд╛

рдЧреЗрдЯрд╡реЗ рдХреЗрд╡рд▓ localhost рдкрд░ bind рд╣реЛрддрд╛ рд╣реИ рдФрд░ Tailscale VPN рдХреЗ рдЬрд╝рд░рд┐рдП рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред Ansible installer, OpenClaw рдХреЛ рдореИрдиреБрдЕрд▓ рдЕрдкрдбреЗрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рд╕реЗрдЯрдЕрдк рдХрд░рддрд╛ рд╣реИред

sandbox рд╡рд┐рдиреНрдпрд╛рд╕ рдХреЗ рд▓рд┐рдП [Multi-Agent Sandbox & Tools](/tools/multi-agent-sandbox-tools) рджреЗрдЦреЗрдВред

## рдореИрдиреБрдЕрд▓ рд╕реНрдерд╛рдкрдирд╛

рдпрджрд┐ рдЖрдк рдСрдЯреЛрдореЗрд╢рди рдкрд░ рдореИрдиреБрдЕрд▓ рдирд┐рдпрдВрддреНрд░рдг рдкрд╕рдВрдж рдХрд░рддреЗ рд╣реИрдВ:

```bash
# 1. Install prerequisites
sudo apt update && sudo apt install -y ansible git

# 2. Clone repository
git clone https://github.com/openclaw/openclaw-ansible.git
cd openclaw-ansible

# 3. Install Ansible collections
ansible-galaxy collection install -r requirements.yml

# 4. Run playbook
./run-playbook.sh

# Or run directly (then manually execute /tmp/openclaw-setup.sh after)
# ansible-playbook playbook.yml --ask-become-pass
```

## OpenClaw рдЕрдкрдбреЗрдЯ рдХрд░рдирд╛

рд╕реНрдЯреИрдВрдбрд░реНрдб рдЕрдкрдбреЗрдЯ рдлреНрд▓реЛ рдХреЗ рд▓рд┐рдП рджреЗрдЦреЗрдВ [Updating](/install/updating)ред тЪая╕П **Gateway runtime рдХреЗ рд▓рд┐рдП рдЕрдиреБрд╢рдВрд╕рд┐рдд рдирд╣реАрдВ** (WhatsApp/Telegram bugs)ред

Ansible рдкреНрд▓реЗрдмреБрдХ рдХреЛ рдкреБрдирдГ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП (рдЙрджрд╛рд╣рд░рдг: рд╡рд┐рдиреНрдпрд╛рд╕ рдкрд░рд┐рд╡рд░реНрддрди рд╣реЗрддреБ):

```bash
cd openclaw-ansible
./run-playbook.sh
```

рдЯрд┐рдкреНрдкрдгреА: рдпрд╣ idempotent рд╣реИ рдФрд░ рдЗрд╕реЗ рдХрдИ рдмрд╛рд░ рдЪрд▓рд╛рдирд╛ рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реИред

## рд╕рдорд╕реНрдпрд╛-рдирд┐рд╡рд╛рд░рдг

### рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдореЗрд░рд╛ рдХрдиреЗрдХреНрд╢рди рдмреНрд▓реЙрдХ рдХрд░ рд░рд╣рд╛ рд╣реИ

рдпрджрд┐ рдЖрдк рд▓реЙрдХ рдЖрдЙрдЯ рд╣реЛ рдЧрдП рд╣реИрдВ:

- рдкрд╣рд▓реЗ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдк Tailscale VPN рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ
- SSH рдПрдХреНрд╕реЗрд╕ (рдкреЛрд░реНрдЯ 22) рд╣рдореЗрд╢рд╛ рдЕрдиреБрдордд рд╣реИ
- Gateway рдбрд┐рдЬрд╝рд╛рдЗрди рдХреЗ рдЕрдиреБрд╕рд╛рд░ **рдХреЗрд╡рд▓** Tailscale рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реБрд▓рдн рд╣реИ

### рд╕реЗрд╡рд╛ рдкреНрд░рд╛рд░рдВрдн рдирд╣реАрдВ рд╣реЛ рд░рд╣реА

```bash
# Check logs
sudo journalctl -u openclaw -n 100

# Verify permissions
sudo ls -la /opt/openclaw

# Test manual start
sudo -i -u openclaw
cd ~/openclaw
pnpm start
```

### Docker sandbox рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╕рдорд╕реНрдпрд╛рдПрдБ

```bash
# Verify Docker is running
sudo systemctl status docker

# Check sandbox image
sudo docker images | grep openclaw-sandbox

# Build sandbox image if missing
cd /opt/openclaw/openclaw
sudo -u openclaw ./scripts/sandbox-setup.sh
```

### рдкреНрд░рджрд╛рддрд╛ рд▓реЙрдЧрд┐рди рд╡рд┐рдлрд▓ рд╣реЛ рд░рд╣рд╛ рд╣реИ

рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдк `openclaw` рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд▓ рд░рд╣реЗ рд╣реИрдВ:

```bash
sudo -i -u openclaw
openclaw channels login
```

## рдЙрдиреНрдирдд рд╡рд┐рдиреНрдпрд╛рд╕

рд╡рд┐рд╕реНрддреГрдд рд╕реБрд░рдХреНрд╖рд╛ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдФрд░ рд╕рдорд╕реНрдпрд╛-рдирд┐рд╡рд╛рд░рдг рдХреЗ рд▓рд┐рдП:

- [Security Architecture](https://github.com/openclaw/openclaw-ansible/blob/main/docs/security.md)
- [Technical Details](https://github.com/openclaw/openclaw-ansible/blob/main/docs/architecture.md)
- [Troubleshooting Guide](https://github.com/openclaw/openclaw-ansible/blob/main/docs/troubleshooting.md)

## рд╕рдВрдмрдВрдзрд┐рдд

- [openclaw-ansible](https://github.com/openclaw/openclaw-ansible) тАФ рдкреВрд░реНрдг рдкрд░рд┐рдирд┐рдпреЛрдЬрди рдорд╛рд░реНрдЧрджрд░реНрд╢рд┐рдХрд╛
- [Docker](/install/docker) тАФ рдХрдВрдЯреЗрдирд░рд╛рдЗрдЬрд╝реНрдб Gateway рд╕реЗрдЯрдЕрдк
- [Sandboxing](/gateway/sandboxing) тАФ рдПрдЬреЗрдВрдЯ sandbox рд╡рд┐рдиреНрдпрд╛рд╕
- [Multi-Agent Sandbox & Tools](/tools/multi-agent-sandbox-tools) тАФ рдкреНрд░рддрд┐-рдПрдЬреЗрдВрдЯ рдЖрдЗрд╕реЛрд▓реЗрд╢рди

---
summary: "Терминальный интерфейс (TUI): подключение к Gateway с любого компьютера"
read_when:
  - Вам нужен понятный для начинающих пошаговый обзор TUI
  - Вам нужен полный список возможностей, команд и сочетаний клавиш TUI
title: "TUI"
---

# TUI (Terminal UI)

## Быстрый старт

1. Запустите Gateway.

```bash
openclaw gateway
```

2. Откройте TUI.

```bash
openclaw tui
```

3. Введите сообщение и нажмите Enter.

Удалённый Gateway:

```bash
openclaw tui --url ws://<host>:<port> --token <gateway-token>
```

Используйте `--password`, если ваш Gateway использует аутентификацию по паролю.

## Что вы видите

- Заголовок: URL подключения, текущий агент, текущий сеанс.
- Журнал чата: сообщения пользователя, ответы ассистента, системные уведомления, карточки инструментов.
- Строка состояния: состояние подключения/выполнения (подключение, выполнение, потоковая передача, простой, ошибка).
- Нижняя панель: состояние подключения + агент + сеанс + модель + think/verbose/reasoning + счётчики токенов + deliver.
- Ввод: текстовый редактор с автодополнением.

## Ментальная модель: агенты + сеансы

- Агенты — это уникальные идентификаторы (slug) (например, `main`, `research`). Gateway предоставляет их список.
- Сеансы принадлежат текущему агенту.
- Ключи сеансов хранятся как `agent:<agentId>:<sessionKey>`.
  - Если вы вводите `/session main`, TUI разворачивает его в `agent:<currentAgent>:main`.
  - Если вы вводите `/session agent:other:main`, вы явно переключаетесь на сеанс этого агента.
- Область действия сеанса:
  - `per-sender` (по умолчанию): у каждого агента есть множество сеансов.
  - `global`: TUI всегда использует сеанс `global` (выборщик может быть пуст).
- Текущий агент + сеанс всегда видны в нижней панели.

## Отправка + доставка

- Сообщения отправляются в Gateway; доставка провайдерам по умолчанию выключена.
- Включите доставку:
  - `/deliver on`
  - или через панель настроек
  - или запустив с `openclaw tui --deliver`

## Выборщики + оверлеи

- Выбор модели: список доступных моделей и установка переопределения для сеанса.
- Выбор агента: выбор другого агента.
- Выбор сеанса: показывает только сеансы текущего агента.
- Настройки: переключение доставки, разворачивания вывода инструментов и видимости размышлений.

## Сочетания клавиш

- Enter: отправить сообщение
- Esc: прервать активный запуск
- Ctrl+C: очистить ввод (нажмите дважды для выхода)
- Ctrl+D: выход
- Ctrl+L: выбор модели
- Ctrl+G: выбор агента
- Ctrl+P: выбор сеанса
- Ctrl+O: переключить разворачивание вывода инструментов
- Ctrl+T: переключить видимость размышлений (перезагружает историю)

## Slash-команды

Основные:

- `/help`
- `/status`
- `/agent <id>` (или `/agents`)
- `/session <key>` (или `/sessions`)
- `/model <provider/model>` (или `/models`)

Управление сеансом:

- `/think <off|minimal|low|medium|high>`
- `/verbose <on|full|off>`
- `/reasoning <on|off|stream>`
- `/usage <off|tokens|full>`
- `/elevated <on|off|ask|full>` (псевдоним: `/elev`)
- `/activation <mention|always>`
- `/deliver <on|off>`

Жизненный цикл сеанса:

- `/new` или `/reset` (сбросить сеанс)
- `/abort` (прервать активный запуск)
- `/settings`
- `/exit`

Другие slash-команды Gateway (например, `/context`) пересылаются в Gateway и отображаются как системный вывод. См. [Slash commands](/tools/slash-commands).

## Локальные команды оболочки

- Добавьте префикс `!` к строке, чтобы выполнить локальную команду оболочки на хосте TUI.
- TUI запрашивает разрешение один раз за сеанс для локального выполнения; отказ оставляет `!` отключённым для сеанса.
- Команды выполняются в новом, неинтерактивном shell в рабочем каталоге TUI (без постоянных `cd`/env).
- Одиночный `!` отправляется как обычное сообщение; начальные пробелы не запускают локальное выполнение.

## Вывод инструментов

- Вызовы инструментов отображаются карточками с аргументами и результатами.
- Ctrl+O переключает между свёрнутым и развёрнутым видом.
- Во время выполнения инструментов частичные обновления потоково поступают в ту же карточку.

## История + потоковая передача

- При подключении TUI загружает последнюю историю (по умолчанию 200 сообщений).
- Потоковые ответы обновляются на месте до финализации.
- TUI также слушает события инструментов агента для более информативных карточек инструментов.

## Детали подключения

- TUI регистрируется в Gateway как `mode: "tui"`.
- При переподключениях показывается системное сообщение; разрывы событий отображаются в журнале.

## Параметры

- `--url <url>`: URL WebSocket Gateway (по умолчанию берётся из конфига или `ws://127.0.0.1:<port>`)
- `--token <token>`: токен Gateway (если требуется)
- `--password <password>`: пароль Gateway (если требуется)
- `--session <key>`: ключ сеанса (по умолчанию: `main` или `global`, когда область глобальная)
- `--deliver`: доставлять ответы ассистента провайдеру (по умолчанию выкл.)
- `--thinking <level>`: переопределить уровень размышлений для отправок
- `--timeout-ms <ms>`: таймаут агента в мс (по умолчанию `agents.defaults.timeoutSeconds`)

Примечание: при установке `--url` TUI не выполняет откат к конфигу или учётным данным из переменных окружения.
Передайте `--token` или `--password` явно. Отсутствие явных учётных данных считается ошибкой.

## Устранение неполадок

Нет вывода после отправки сообщения:

- Выполните `/status` в TUI, чтобы подтвердить, что Gateway подключён и находится в состоянии idle/busy.
- Проверьте логи Gateway: `openclaw logs --follow`.
- Убедитесь, что агент может выполняться: `openclaw status` и `openclaw models status`.
- Если вы ожидаете сообщения в чате, включите доставку (`/deliver on` или `--deliver`).
- `--history-limit <n>`: количество записей истории для загрузки (по умолчанию 200)

## Устранение проблем с подключением

- `disconnected`: убедитесь, что Gateway запущен и ваши `--url/--token/--password` корректны.
- Нет агентов в выборщике: проверьте `openclaw agents list` и конфигурацию маршрутизации.
- Пустой выборщик сеансов: возможно, вы находитесь в глобальной области или сеансов ещё нет.

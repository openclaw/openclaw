---
summary: "Справка CLI для `openclaw node` (хост узла без графического интерфейса)"
read_when:
  - Запуск хоста узла без графического интерфейса
  - Сопряжение узла не на macOS для system.run
title: "node"
---

# `openclaw node`

Запускает **хост узла без графического интерфейса**, который подключается к Gateway WebSocket и предоставляет
`system.run` / `system.which` на этой машине.

## Зачем использовать хост узла?

Используйте хост узла, когда требуется, чтобы агенты **выполняли команды на других машинах** в вашей
сети без установки полноценного сопутствующего приложения для macOS.

Типичные сценарии использования:

- Выполнение команд на удалённых Linux/Windows‑машинах (серверы сборки, лабораторные машины, NAS).
- Сохранение выполнения **sandboxed** на Gateway (шлюз), при этом делегирование одобренных запусков другим хостам.
- Предоставление лёгкой, безголовой цели выполнения для автоматизации или узлов CI.

Выполнение по‑прежнему защищено **подтверждениями выполнения команд** и списками разрешённых для каждого агента
на хосте узла, поэтому доступ к командам остаётся ограниченным и явным.

## Браузерный прокси (zero-config)

Хосты узлов автоматически объявляют браузерный прокси, если `browser.enabled` не
отключён на узле. Это позволяет агенту использовать автоматизацию браузера на этом узле
без дополнительной настройки.

При необходимости отключите его на узле:

```json5
{
  nodeHost: {
    browserProxy: {
      enabled: false,
    },
  },
}
```

## Запуск (в переднем плане)

```bash
openclaw node run --host <gateway-host> --port 18789
```

Параметры:

- `--host <host>`: хост Gateway WebSocket (по умолчанию: `127.0.0.1`)
- `--port <port>`: порт Gateway WebSocket (по умолчанию: `18789`)
- `--tls`: использовать TLS для подключения к Gateway
- `--tls-fingerprint <sha256>`: ожидаемый отпечаток TLS‑сертификата (sha256)
- `--node-id <id>`: переопределить id узла (очищает токен сопряжения)
- `--display-name <name>`: переопределить отображаемое имя узла

## Сервис (в фоне)

Установите хост узла без графического интерфейса как пользовательский сервис.

```bash
openclaw node install --host <gateway-host> --port 18789
```

Параметры:

- `--host <host>`: хост Gateway WebSocket (по умолчанию: `127.0.0.1`)
- `--port <port>`: порт Gateway WebSocket (по умолчанию: `18789`)
- `--tls`: использовать TLS для подключения к Gateway
- `--tls-fingerprint <sha256>`: ожидаемый отпечаток TLS‑сертификата (sha256)
- `--node-id <id>`: переопределить id узла (очищает токен сопряжения)
- `--display-name <name>`: переопределить отображаемое имя узла
- `--runtime <runtime>`: среда выполнения сервиса (`node` или `bun`)
- `--force`: переустановить/перезаписать, если уже установлен

Управление сервисом:

```bash
openclaw node status
openclaw node stop
openclaw node restart
openclaw node uninstall
```

Используйте `openclaw node run` для хоста узла в переднем плане (без сервиса).

Команды сервиса принимают `--json` для машиночитаемого вывода.

## Pairing

Первое подключение создаёт ожидающий запрос на сопряжение узла на Gateway.
Подтвердите его через:

```bash
openclaw nodes pending
openclaw nodes approve <requestId>
```

Хост узла сохраняет свой id узла, токен, отображаемое имя и информацию о подключении к Gateway в
`~/.openclaw/node.json`.

## Утверждения Exec

`system.run` ограничено локальными подтверждениями выполнения команд:

- `~/.openclaw/exec-approvals.json`
- [Подтверждения выполнения команд](/tools/exec-approvals)
- `openclaw approvals --node <id|name|ip>` (редактирование через Gateway)

---
summary: "–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è ~/.openclaw/openclaw.json —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏"
read_when:
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π –∫–æ–Ω—Ñ–∏–≥–∞
title: "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è"
---

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è üîß

OpenClaw —á–∏—Ç–∞–µ—Ç –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ **JSON5** –∏–∑ `~/.openclaw/openclaw.json` (—Ä–∞–∑—Ä–µ—à–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –≤–∏—Å—è—á–∏–µ –∑–∞–ø—è—Ç—ã–µ).

–ï—Å–ª–∏ —Ñ–∞–π–ª –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, OpenClaw –∏—Å–ø–æ–ª—å–∑—É–µ—Ç ¬´–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ¬ª –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∞–≥–µ–Ω—Ç Pi + —Å–µ—Å—Å–∏–∏ –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è + —Ä–∞–±–æ—á–µ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ `~/.openclaw/workspace`). –û–±—ã—á–Ω–æ –∫–æ–Ω—Ñ–∏–≥ –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã:

- –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å, –∫—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –±–æ—Ç–∞ (`channels.whatsapp.allowFrom`, `channels.telegram.allowFrom` –∏ —Ç. –¥.)
- —É–ø—Ä–∞–≤–ª—è—Ç—å allowlist‚Äô–∞–º–∏ –≥—Ä—É–ø–ø –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º —É–ø–æ–º–∏–Ω–∞–Ω–∏–π (`channels.whatsapp.groups`, `channels.telegram.groups`, `channels.discord.guilds`, `agents.list[].groupChat`)
- –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å—ã —Å–æ–æ–±—â–µ–Ω–∏–π (`messages`)
- –∑–∞–¥–∞—Ç—å —Ä–∞–±–æ—á–µ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∞–≥–µ–Ω—Ç–∞ (`agents.defaults.workspace` –∏–ª–∏ `agents.list[].workspace`)
- –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ (`agents.defaults`) –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π (`session`)
- –∑–∞–¥–∞—Ç—å –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ (`agents.list[].identity`)

> **–ù–æ–≤–∏—á–∫–∞–º –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏?** –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ [Configuration Examples](/gateway/configuration-examples) —Å –ø–æ–ª–Ω—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏!

## –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

OpenClaw –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å—Ö–µ–º–µ.
–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –∫–ª—é—á–∏, –Ω–µ–≤–µ—Ä–Ω—ã–µ —Ç–∏–ø—ã –∏–ª–∏ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏–≤–æ–¥—è—Ç –∫ —Ç–æ–º—É, —á—Ç–æ Gateway **–æ—Ç–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è** –∏–∑ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

–ü—Ä–∏ –Ω–µ—É–¥–∞—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ:

- Gateway –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è.
- –†–∞–∑—Ä–µ—à–µ–Ω—ã —Ç–æ–ª—å–∫–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä: `openclaw doctor`, `openclaw logs`, `openclaw health`, `openclaw status`, `openclaw service`, `openclaw help`).
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ `openclaw doctor`, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ç–æ—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã.
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ `openclaw doctor --fix` (–∏–ª–∏ `--yes`) –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π/–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π.

Doctor –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ –≤—ã —è–≤–Ω–æ –Ω–µ –≤—ã–±—Ä–∞–ª–∏ `--fix`/`--yes`.

## –°—Ö–µ–º–∞ + –ø–æ–¥—Å–∫–∞–∑–∫–∏ UI

Gateway –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ JSON Schema –¥–ª—è –∫–æ–Ω—Ñ–∏–≥–∞ —á–µ—Ä–µ–∑ `config.schema` –¥–ª—è UI‚Äë—Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–≤.
Control UI —Ä–µ–Ω–¥–µ—Ä–∏—Ç —Ñ–æ—Ä–º—É –∏–∑ —ç—Ç–æ–π —Å—Ö–µ–º—ã –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä **Raw JSON** –∫–∞–∫ –∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç.

–ü–ª–∞–≥–∏–Ω—ã –∫–∞–Ω–∞–ª–æ–≤ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –º–æ–≥—É—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ö–µ–º—É –∏ UI‚Äë–ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è —Å–≤–æ–µ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞, —á—Ç–æ–±—ã
–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–Ω–∞–ª–æ–≤ –æ—Å—Ç–∞–≤–∞–ª–∏—Å—å schema‚Äëdriven –≤–æ –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –±–µ–∑ –∂—ë—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º.

–ü–æ–¥—Å–∫–∞–∑–∫–∏ (–º–µ—Ç–∫–∏, –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞, —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è) –ø–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å–æ —Å—Ö–µ–º–æ–π, —á—Ç–æ–±—ã –∫–ª–∏–µ–Ω—Ç—ã
–º–æ–≥–ª–∏ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –ª—É—á—à–∏–µ —Ñ–æ—Ä–º—ã –±–µ–∑ –∂—ë—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–Ω–∞–Ω–∏–π –æ –∫–æ–Ω—Ñ–∏–≥–µ.

## –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ + –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ (RPC)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `config.apply`, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –∑–∞–ø–∏—Å–∞—Ç—å –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Gateway –∑–∞ –æ–¥–∏–Ω —à–∞–≥.
–û–Ω –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç ¬´—Å—Ç–æ—Ä–æ–∂–æ–∫¬ª –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∏ –ø–∏–Ω–≥—É–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é –∞–∫—Ç–∏–≤–Ω—É—é —Å–µ—Å—Å–∏—é –ø–æ—Å–ª–µ –≤–æ–∑–≤—Ä–∞—Ç–∞ Gateway.

–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: `config.apply` –∑–∞–º–µ–Ω—è–µ—Ç **–≤–µ—Å—å –∫–æ–Ω—Ñ–∏–≥**. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ª–∏—à—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–π,
–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `config.patch` –∏–ª–∏ `openclaw config set`. –•—Ä–∞–Ω–∏—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é `~/.openclaw/openclaw.json`.

Params:

- `raw` (string) ‚Äî –ø–æ–ª–µ–∑–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ JSON5 –¥–ª—è –≤—Å–µ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞
- `baseHash` (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) ‚Äî —Ö—ç—à –∫–æ–Ω—Ñ–∏–≥–∞ –∏–∑ `config.get` (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, –µ—Å–ª–∏ –∫–æ–Ω—Ñ–∏–≥ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- `sessionKey` (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) ‚Äî –∫–ª—é—á –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏ –¥–ª—è ¬´–ø—Ä–æ–±—É–∂–¥–∞—é—â–µ–≥–æ¬ª –ø–∏–Ω–≥–∞
- `note` (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) ‚Äî –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ –¥–ª—è —Å—Ç–æ—Ä–æ–∂–∫–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
- `restartDelayMs` (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) ‚Äî –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 2000)

–ü—Ä–∏–º–µ—Ä (—á–µ—Ä–µ–∑ `gateway call`):

```bash
openclaw gateway call config.get --params '{}' # capture payload.hash
openclaw gateway call config.apply --params '{
  "raw": "{\\n  agents: { defaults: { workspace: \\"~/.openclaw/workspace\\" } }\\n}\\n",
  "baseHash": "<hash-from-config.get>",
  "sessionKey": "agent:main:whatsapp:dm:+15555550123",
  "restartDelayMs": 1000
}'
```

## –ß–∞—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (RPC)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `config.patch`, —á—Ç–æ–±—ã –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å —á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–Ω—Ñ–∏–≥–æ–º, –Ω–µ –∑–∞—Ç–∏—Ä–∞—è
–Ω–µ—Å–≤—è–∑–∞–Ω–Ω—ã–µ –∫–ª—é—á–∏. –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Å–µ–º–∞–Ω—Ç–∏–∫–∞ JSON merge patch:

- –æ–±—ä–µ–∫—Ç—ã –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ
- `null` —É–¥–∞–ª—è–µ—Ç –∫–ª—é—á
- –º–∞—Å—Å–∏–≤—ã –∑–∞–º–µ–Ω—è—é—Ç—Å—è
  –ö–∞–∫ –∏ `config.apply`, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–∞–ª–∏–¥–∞—Ü–∏—è, –∑–∞–ø–∏—Å—å –∫–æ–Ω—Ñ–∏–≥–∞, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–∂–∫–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
  –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ Gateway (—Å –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º ¬´–ø—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ–º¬ª, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω `sessionKey`).

Params:

- `raw` (string) ‚Äî –ø–æ–ª–µ–∑–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ JSON5 —Ç–æ–ª—å–∫–æ —Å –∏–∑–º–µ–Ω—è–µ–º—ã–º–∏ –∫–ª—é—á–∞–º–∏
- `baseHash` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) ‚Äî —Ö—ç—à –∫–æ–Ω—Ñ–∏–≥–∞ –∏–∑ `config.get`
- `sessionKey` (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) ‚Äî –∫–ª—é—á –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏ –¥–ª—è –ø–∏–Ω–≥–∞
- `note` (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) ‚Äî –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ –¥–ª—è —Å—Ç–æ—Ä–æ–∂–∫–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
- `restartDelayMs` (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) ‚Äî –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 2000)

–ü—Ä–∏–º–µ—Ä:

```bash
openclaw gateway call config.get --params '{}' # capture payload.hash
openclaw gateway call config.patch --params '{
  "raw": "{\\n  channels: { telegram: { groups: { \\"*\\": { requireMention: false } } } }\\n}\\n",
  "baseHash": "<hash-from-config.get>",
  "sessionKey": "agent:main:whatsapp:dm:+15555550123",
  "restartDelayMs": 1000
}'
```

## –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –æ—Ç–ø—Ä–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞)

```json5
{
  agents: { defaults: { workspace: "~/.openclaw/workspace" } },
  channels: { whatsapp: { allowFrom: ["+15555550123"] } },
}
```

–û–¥–∏–Ω —Ä–∞–∑ —Å–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

```bash
scripts/sandbox-setup.sh
```

## –†–µ–∂–∏–º —Å–∞–º–æ—á–∞—Ç–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –≥—Ä—É–ø–ø)

–ß—Ç–æ–±—ã –±–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–ª –Ω–∞ WhatsApp @‚Äë—É–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ –≥—Ä—É–ø–ø–∞—Ö (–æ—Ç–≤–µ—á–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã):

```json5
{
  agents: {
    defaults: { workspace: "~/.openclaw/workspace" },
    list: [
      {
        id: "main",
        groupChat: { mentionPatterns: ["@openclaw", "reisponde"] },
      },
    ],
  },
  channels: {
    whatsapp: {
      // Allowlist is DMs only; including your own number enables self-chat mode.
      allowFrom: ["+15555550123"],
      groups: { "*": { requireMention: true } },
    },
  },
}
```

## –í–∫–ª—é—á–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–∞ (`$include`)

–†–∞–∑–¥–µ–ª—è–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ —Å –ø–æ–º–æ—â—å—é –¥–∏—Ä–µ–∫—Ç–∏–≤—ã `$include`. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è:

- –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –±–æ–ª—å—à–∏—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–æ–≤ –ø–æ –∫–ª–∏–µ–Ω—Ç–∞–º)
- —Å–æ–≤–º–µ—Å—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–±—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –º–µ–∂–¥—É –æ–∫—Ä—É–∂–µ–Ω–∏—è–º–∏
- —Ä–∞–∑–¥–µ–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```json5
// ~/.openclaw/openclaw.json
{
  gateway: { port: 18789 },

  // Include a single file (replaces the key's value)
  agents: { $include: "./agents.json5" },

  // Include multiple files (deep-merged in order)
  broadcast: {
    $include: ["./clients/mueller.json5", "./clients/schmidt.json5"],
  },
}
```

```json5
// ~/.openclaw/agents.json5
{
  defaults: { sandbox: { mode: "all", scope: "session" } },
  list: [{ id: "main", workspace: "~/.openclaw/workspace" }],
}
```

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ —Å–ª–∏—è–Ω–∏—è

- **–û–¥–∏–Ω —Ñ–∞–π–ª**: –∑–∞–º–µ–Ω—è–µ—Ç –æ–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π `$include`
- **–ú–∞—Å—Å–∏–≤ —Ñ–∞–π–ª–æ–≤**: –≥–ª—É–±–æ–∫–æ–µ —Å–ª–∏—è–Ω–∏–µ –ø–æ –ø–æ—Ä—è–¥–∫—É (–ø–æ–∑–¥–Ω–∏–µ —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Ä–∞–Ω–Ω–∏–µ)
- **–° —Å–æ—Å–µ–¥–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏**: —Å–æ—Å–µ–¥–Ω–∏–µ –∫–ª—é—á–∏ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ include (–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –≤–∫–ª—é—á—ë–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)
- **–°–æ—Å–µ–¥–Ω–∏–µ –∫–ª—é—á–∏ + –º–∞—Å—Å–∏–≤—ã/–ø—Ä–∏–º–∏—Ç–∏–≤—ã**: –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è (–≤–∫–ª—é—á–∞–µ–º–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–±—ä–µ–∫—Ç–æ–º)

```json5
// Sibling keys override included values
{
  $include: "./base.json5", // { a: 1, b: 2 }
  b: 99, // Result: { a: 1, b: 99 }
}
```

### –í–ª–æ–∂–µ–Ω–Ω—ã–µ –≤–∫–ª—é—á–µ–Ω–∏—è

–í–∫–ª—é—á–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã —Å–∞–º–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–∏–≤—ã `$include` (–¥–æ 10 —É—Ä–æ–≤–Ω–µ–π):

```json5
// clients/mueller.json5
{
  agents: { $include: "./mueller/agents.json5" },
  broadcast: { $include: "./mueller/broadcast.json5" },
}
```

### –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø—É—Ç–µ–π

- **–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏**: —Ä–∞–∑—Ä–µ—à–∞—é—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∞—é—â–µ–≥–æ —Ñ–∞–π–ª–∞
- **–ê–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏**: –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å
- **–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∏**: —Å—Å—ã–ª–∫–∏ `../` —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –æ–∂–∏–¥–∞–µ—Ç—Å—è

```json5
{ "$include": "./sub/config.json5" }      // relative
{ "$include": "/etc/openclaw/base.json5" } // absolute
{ "$include": "../shared/common.json5" }   // parent dir
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- **–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª**: –ø–æ–Ω—è—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ —Å —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–º –ø—É—Ç—ë–º
- **–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞**: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–æ–π –≤–∫–ª—é—á—ë–Ω–Ω—ã–π —Ñ–∞–π–ª –Ω–µ –ø—Ä–æ—à—ë–ª
- **–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –≤–∫–ª—é—á–µ–Ω–∏—è**: –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è –∏ —Å–æ–æ–±—â–∞—é—Ç—Å—è —Å —Ü–µ–ø–æ—á–∫–æ–π include

### –ü—Ä–∏–º–µ—Ä: –º—É–ª—å—Ç–∏–∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```json5
// ~/.openclaw/openclaw.json
{
  gateway: { port: 18789, auth: { token: "secret" } },

  // Common agent defaults
  agents: {
    defaults: {
      sandbox: { mode: "all", scope: "session" },
    },
    // Merge agent lists from all clients
    list: { $include: ["./clients/mueller/agents.json5", "./clients/schmidt/agents.json5"] },
  },

  // Merge broadcast configs
  broadcast: {
    $include: ["./clients/mueller/broadcast.json5", "./clients/schmidt/broadcast.json5"],
  },

  channels: { whatsapp: { groupPolicy: "allowlist" } },
}
```

```json5
// ~/.openclaw/clients/mueller/agents.json5
[
  { id: "mueller-transcribe", workspace: "~/clients/mueller/transcribe" },
  { id: "mueller-docs", workspace: "~/clients/mueller/docs" },
]
```

```json5
// ~/.openclaw/clients/mueller/broadcast.json5
{
  "120363403215116621@g.us": ["mueller-transcribe", "mueller-docs"],
}
```

## –û–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### Env vars + `.env`

OpenClaw —á–∏—Ç–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ (shell, launchd/systemd, CI –∏ —Ç. –ø.).

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è:

- `.env` –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ (–µ—Å–ª–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç)
- –≥–ª–æ–±–∞–ª—å–Ω—ã–π fallback `.env` –∏–∑ `~/.openclaw/.env` (—Ç–∞–∫–∂–µ –∏–∑–≤–µ—Å—Ç–µ–Ω –∫–∞–∫ `$OPENCLAW_STATE_DIR/.env`)

–ù–∏ –æ–¥–∏–Ω —Ñ–∞–π–ª `.env` –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å inline‚Äë–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –∫–æ–Ω—Ñ–∏–≥–µ. –û–Ω–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏
–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –Ω–µ—Ç –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ (—Ç–æ –∂–µ –ø—Ä–∞–≤–∏–ª–æ –Ω–µ–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è):

```json5
{
  env: {
    OPENROUTER_API_KEY: "sk-or-...",
    vars: {
      GROQ_API_KEY: "gsk-...",
    },
  },
}
```

–°–º. [/environment](/help/environment) –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.

### `env.shellEnv` (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —É–¥–æ–±—Å—Ç–≤–æ: –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ –∏ –Ω–∏ –æ–¥–∏–Ω –∏–∑ –æ–∂–∏–¥–∞–µ–º—ã—Ö –∫–ª—é—á–µ–π –µ—â—ë –Ω–µ –∑–∞–¥–∞–Ω, OpenClaw
–∑–∞–ø—É—Å–∫–∞–µ—Ç –≤–∞—à login‚Äëshell –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –æ–∂–∏–¥–∞–µ–º—ã–µ –∫–ª—é—á–∏ (–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç).
–§–∞–∫—Ç–∏—á–µ—Å–∫–∏ —ç—Ç–æ ¬´source¬ª –≤–∞—à–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è shell.

```json5
{
  env: {
    shellEnv: {
      enabled: true,
      timeoutMs: 15000,
    },
  },
}
```

Env var —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç:

- `OPENCLAW_LOAD_SHELL_ENV=1`
- `OPENCLAW_SHELL_ENV_TIMEOUT_MS=15000`

### –ü–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ env‚Äë–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –∫–æ–Ω—Ñ–∏–≥–µ

–í—ã –º–æ–∂–µ—Ç–µ —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä—è–º–æ –≤ –ª—é–±–æ–º —Å—Ç—Ä–æ–∫–æ–≤–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥–∞,
–∏—Å–ø–æ–ª—å–∑—É—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å `${VAR_NAME}`. –ü–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–Ω—Ñ–∏–≥–∞, –¥–æ –≤–∞–ª–∏–¥–∞—Ü–∏–∏.

```json5
{
  models: {
    providers: {
      "vercel-gateway": {
        apiKey: "${VERCEL_GATEWAY_API_KEY}",
      },
    },
  },
  gateway: {
    auth: {
      token: "${OPENCLAW_GATEWAY_TOKEN}",
    },
  },
}
```

**–ü—Ä–∞–≤–∏–ª–∞:**

- –°–æ–ø–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–º–µ–Ω–∞ env‚Äë–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –≤–µ—Ä—Ö–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ: `[A-Z_][A-Z0-9_]*`
- –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∏–ª–∏ –ø—É—Å—Ç—ã–µ env‚Äë–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤—ã–∑—ã–≤–∞—é—Ç –æ—à–∏–±–∫—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–Ω—Ñ–∏–≥–∞
- –≠–∫—Ä–∞–Ω–∏—Ä—É–π—Ç–µ —Å –ø–æ–º–æ—â—å—é `$${VAR}`, —á—Ç–æ–±—ã –≤—ã–≤–µ—Å—Ç–∏ –ª–∏—Ç–µ—Ä–∞–ª `${VAR}`
- –†–∞–±–æ—Ç–∞–µ—Ç —Å `$include` (–≤–∫–ª—é—á—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Ç–æ–∂–µ –ø—Ä–æ—Ö–æ–¥—è—Ç –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫—É)

**–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞:**

```json5
{
  models: {
    providers: {
      custom: {
        baseUrl: "${CUSTOM_API_BASE}/v1", // ‚Üí "https://api.example.com/v1"
      },
    },
  },
}
```

### –•—Ä–∞–Ω–∏–ª–∏—â–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (OAuth + –∫–ª—é—á–∏ API)

OpenClaw —Ö—Ä–∞–Ω–∏—Ç **–¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞** –ø—Ä–æ—Ñ–∏–ª–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (OAuth + –∫–ª—é—á–∏ API) –≤:

- `<agentDir>/auth-profiles.json` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `~/.openclaw/agents/<agentId>/agent/auth-profiles.json`)

–°–º. —Ç–∞–∫–∂–µ: [/concepts/oauth](/concepts/oauth)

–ò–º–ø–æ—Ä—Ç —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ OAuth:

- `~/.openclaw/credentials/oauth.json` (–∏–ª–∏ `$OPENCLAW_STATE_DIR/credentials/oauth.json`)

–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∞–≥–µ–Ω—Ç Pi –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç runtime‚Äë–∫—ç—à –ø–æ –∞–¥—Ä–µ—Å—É:

- `<agentDir>/auth.json` (—É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏; –Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é)

–ö–∞—Ç–∞–ª–æ–≥ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∞–≥–µ–Ω—Ç–∞ (–¥–æ multi‚Äëagent):

- `~/.openclaw/agent/*` (–º–∏–≥—Ä–∏—Ä—É–µ—Ç—Å—è `openclaw doctor` –≤ `~/.openclaw/agents/<defaultAgentId>/agent/*`)

–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç:

- –ö–∞—Ç–∞–ª–æ–≥ OAuth (—Ç–æ–ª—å–∫–æ –∏–º–ø–æ—Ä—Ç —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ): `OPENCLAW_OAUTH_DIR`
- –ö–∞—Ç–∞–ª–æ–≥ –∞–≥–µ–Ω—Ç–∞ (–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ—Ä–Ω—è –∞–≥–µ–Ω—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é): `OPENCLAW_AGENT_DIR` (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ), `PI_CODING_AGENT_DIR` (—É—Å—Ç–∞—Ä.)

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ OpenClaw –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∑–∞–ø–∏—Å–∏ `oauth.json` –≤ `auth-profiles.json`.

### `auth`

–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–µ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. **–°–µ–∫—Ä–µ—Ç—ã –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è**; —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è
ID –ø—Ä–æ—Ñ–∏–ª–µ–π —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º –∏ —Ä–µ–∂–∏–º–æ–º (–∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º email) –∏ –∑–∞–¥–∞—ë—Ç—Å—è –ø–æ—Ä—è–¥–æ–∫ —Ä–æ—Ç–∞—Ü–∏–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
–¥–ª—è failover.

```json5
{
  auth: {
    profiles: {
      "anthropic:me@example.com": { provider: "anthropic", mode: "oauth", email: "me@example.com" },
      "anthropic:work": { provider: "anthropic", mode: "api_key" },
    },
    order: {
      anthropic: ["anthropic:me@example.com", "anthropic:work"],
    },
  },
}
```

### `agents.list[].identity`

–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ UX. –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –ø–æ–º–æ—â–Ω–∏–∫–æ–º –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ –¥–ª—è macOS.

–ï—Å–ª–∏ –∑–∞–¥–∞–Ω–æ, OpenClaw –≤—ã–≤–æ–¥–∏—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—ã –Ω–µ –∑–∞–¥–∞–ª–∏ –∏—Ö —è–≤–Ω–æ):

- `messages.ackReaction` –∏–∑ `identity.emoji` **–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞** (fallback üëÄ)
- `agents.list[].groupChat.mentionPatterns` –∏–∑ `identity.name`/`identity.emoji` –∞–≥–µ–Ω—Ç–∞ (—á—Ç–æ–±—ã ¬´@Samantha¬ª —Ä–∞–±–æ—Ç–∞–ª–æ –≤ –≥—Ä—É–ø–ø–∞—Ö Telegram/Slack/Discord/Google Chat/iMessage/WhatsApp)
- `identity.avatar` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—É—Ç—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ workspace –∏–ª–∏ —É–¥–∞–ª—ë–Ω–Ω—ã–π URL/data URL. –õ–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ workspace –∞–≥–µ–Ω—Ç–∞.

`identity.avatar` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç:

- –ø—É—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ workspace (–¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ workspace –∞–≥–µ–Ω—Ç–∞)
- URL `http(s)`
- URI `data:`

```json5
{
  agents: {
    list: [
      {
        id: "main",
        identity: {
          name: "Samantha",
          theme: "helpful sloth",
          emoji: "ü¶•",
          avatar: "avatars/samantha.png",
        },
      },
    ],
  },
}
```

### `wizard`

–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, –∑–∞–ø–∏—Å—ã–≤–∞–µ–º—ã–µ –º–∞—Å—Ç–µ—Ä–∞–º–∏ CLI (`onboard`, `configure`, `doctor`).

```json5
{
  wizard: {
    lastRunAt: "2026-01-01T00:00:00.000Z",
    lastRunVersion: "2026.1.4",
    lastRunCommit: "abc1234",
    lastRunCommand: "configure",
    lastRunMode: "local",
  },
}
```

### `logging`

- –§–∞–π–ª –ª–æ–≥–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `/tmp/openclaw/openclaw-YYYY-MM-DD.log`
- –ï—Å–ª–∏ –Ω—É–∂–µ–Ω —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –ø—É—Ç—å, –∑–∞–¥–∞–π—Ç–µ `logging.file` —Ä–∞–≤–Ω—ã–º `/tmp/openclaw/openclaw.log`.
- –í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ —á–µ—Ä–µ–∑:
  - `logging.consoleLevel` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `info`, –ø–æ–≤—ã—à–∞–µ—Ç—Å—è –¥–æ `debug` –ø—Ä–∏ `--verbose`)
  - `logging.consoleStyle` (`pretty` | `compact` | `json`)
- –°–≤–æ–¥–∫–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —É—Ç–µ—á–∫–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤:
  - `logging.redactSensitive` (`off` | `tools`, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `tools`)
  - `logging.redactPatterns` (–º–∞—Å—Å–∏–≤ regex‚Äë—Å—Ç—Ä–æ–∫; –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

```json5
{
  logging: {
    level: "info",
    file: "/tmp/openclaw/openclaw.log",
    consoleLevel: "info",
    consoleStyle: "pretty",
    redactSensitive: "tools",
    redactPatterns: [
      // Example: override defaults with your own rules.
      "\\bTOKEN\\b\\s*[=:]\\s*([\"']?)([^\\s\"']+)\\1",
      "/\\bsk-[A-Za-z0-9_-]{8,}\\b/gi",
    ],
  },
}
```

### `channels.whatsapp.dmPolicy`

–£–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –ª–∏—á–Ω—ã—Ö —á–∞—Ç–æ–≤ WhatsApp (DMs):

- `"pairing"` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é): –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –∫–æ–¥ —Å–æ–ø—Ä—è–∂–µ–Ω–∏—è; –≤–ª–∞–¥–µ–ª–µ—Ü –¥–æ–ª–∂–µ–Ω –æ–¥–æ–±—Ä–∏—Ç—å
- `"allowlist"`: —Ä–∞–∑—Ä–µ—à–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π –∏–∑ `channels.whatsapp.allowFrom` (–∏–ª–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ —Å–æ–ø—Ä—è–∂–µ–Ω–∏–π)
- `"open"`: —Ä–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ –≤—Ö–æ–¥—è—â–∏–µ DM (**—Ç—Ä–µ–±—É–µ—Ç—Å—è**, —á—Ç–æ–±—ã `channels.whatsapp.allowFrom` –≤–∫–ª—é—á–∞–ª `"*"`)
- `"disabled"`: –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –≤—Ö–æ–¥—è—â–∏–µ DM

–ö–æ–¥—ã —Å–æ–ø—Ä—è–∂–µ–Ω–∏—è –∏—Å—Ç–µ–∫–∞—é—Ç —á–µ—Ä–µ–∑ 1 —á–∞—Å; –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–¥ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞. –û–∂–∏–¥–∞—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã —Å–æ–ø—Ä—è–∂–µ–Ω–∏—è DM –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã **3 –Ω–∞ –∫–∞–Ω–∞–ª**.

–û–¥–æ–±—Ä–µ–Ω–∏—è —Å–æ–ø—Ä—è–∂–µ–Ω–∏—è:

- `openclaw pairing list whatsapp`
- `openclaw pairing approve whatsapp <code>`

### `channels.whatsapp.allowFrom`

Allowlist –Ω–æ–º–µ—Ä–æ–≤ E.164, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –∞–≤—Ç–æ–æ—Ç–≤–µ—Ç—ã WhatsApp (**—Ç–æ–ª—å–∫–æ DMs**).
–ï—Å–ª–∏ –ø—É—Å—Ç–æ –∏ `channels.whatsapp.dmPolicy="pairing"`, –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—Ç –∫–æ–¥ —Å–æ–ø—Ä—è–∂–µ–Ω–∏—è.
–î–ª—è –≥—Ä—É–ø–ø –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `channels.whatsapp.groupPolicy` + `channels.whatsapp.groupAllowFrom`.

```json5
{
  channels: {
    whatsapp: {
      dmPolicy: "pairing", // pairing | allowlist | open | disabled
      allowFrom: ["+15555550123", "+447700900123"],
      textChunkLimit: 4000, // optional outbound chunk size (chars)
      chunkMode: "length", // optional chunking mode (length | newline)
      mediaMaxMb: 50, // optional inbound media cap (MB)
    },
  },
}
```

### `channels.whatsapp.sendReadReceipts`

–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –ø–æ–º–µ—á–∞—é—Ç—Å—è –ª–∏ –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è WhatsApp –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ (—Å–∏–Ω–∏–µ –≥–∞–ª–æ—á–∫–∏). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `true`.

–†–µ–∂–∏–º —Å–∞–º–æ—á–∞—Ç–∞ –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏ –æ –ø—Ä–æ—á—Ç–µ–Ω–∏–∏, –¥–∞–∂–µ –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã.

–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è –∞–∫–∫–∞—É–Ω—Ç–∞: `channels.whatsapp.accounts.<id>.sendReadReceipts`.

```json5
{
  channels: {
    whatsapp: { sendReadReceipts: false },
  },
}
```

### `channels.whatsapp.accounts` (multi‚Äëaccount)

–ó–∞–ø—É—Å–∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ WhatsApp –≤ –æ–¥–Ω–æ–º Gateway:

```json5
{
  channels: {
    whatsapp: {
      accounts: {
        default: {}, // optional; keeps the default id stable
        personal: {},
        biz: {
          // Optional override. Default: ~/.openclaw/credentials/whatsapp/biz
          // authDir: "~/.openclaw/credentials/whatsapp/biz",
        },
      },
    },
  },
}
```

–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:

- –ò—Å—Ö–æ–¥—è—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∞–∫–∫–∞—É–Ω—Ç `default`, –µ—Å–ª–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç; –∏–Ω–∞—á–µ ‚Äî –ø–µ—Ä–≤—ã–π –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π id (–ø–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ).
- –£—Å—Ç–∞—Ä–µ–≤—à–∏–π single‚Äëaccount –∫–∞—Ç–∞–ª–æ–≥ Baileys –º–∏–≥—Ä–∏—Ä—É–µ—Ç—Å—è `openclaw doctor` –≤ `whatsapp/default`.

### `channels.telegram.accounts` / `channels.discord.accounts` / `channels.googlechat.accounts` / `channels.slack.accounts` / `channels.mattermost.accounts` / `channels.signal.accounts` / `channels.imessage.accounts`

–ó–∞–ø—É—Å–∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –Ω–∞ –∫–∞–Ω–∞–ª (—É –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ —Å–≤–æ–∏ `accountId` –∏ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ `name`):

```json5
{
  channels: {
    telegram: {
      accounts: {
        default: {
          name: "Primary bot",
          botToken: "123456:ABC...",
        },
        alerts: {
          name: "Alerts bot",
          botToken: "987654:XYZ...",
        },
      },
    },
  },
}
```

–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:

- `default` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ `accountId` –æ–ø—É—â–µ–Ω (CLI + –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è).
- –¢–æ–∫–µ–Ω—ã –∏–∑ env –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ **–∞–∫–∫–∞—É–Ω—Ç—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**.
- –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–Ω–∞–ª–∞ (–ø–æ–ª–∏—Ç–∏–∫–∞ –≥—Ä—É–ø–ø, gating —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –∏ —Ç. –ø.) –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ –≤—Å–µ–º –∞–∫–∫–∞—É–Ω—Ç–∞–º, –µ—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –¥–ª—è –∞–∫–∫–∞—É–Ω—Ç–∞.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `bindings[].match.accountId`, —á—Ç–æ–±—ã –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –∫–∞–∂–¥—ã–π –∞–∫–∫–∞—É–Ω—Ç –∫ —Ä–∞–∑–Ω—ã–º agents.defaults.

### Gating —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –≤ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–∞—Ö (`agents.list[].groupChat` + `messages.groupChat`)

–°–æ–æ–±—â–µ–Ω–∏—è –≤ –≥—Ä—É–ø–ø–∞—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é **—Ç—Ä–µ–±—É—é—Ç —É–ø–æ–º–∏–Ω–∞–Ω–∏—è** (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –∏–ª–∏ regex‚Äë—à–∞–±–ª–æ–Ω—ã). –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –≥—Ä—É–ø–ø–æ–≤—ã–º —á–∞—Ç–∞–º WhatsApp, Telegram, Discord, Google Chat –∏ iMessage.

**–¢–∏–ø—ã —É–ø–æ–º–∏–Ω–∞–Ω–∏–π:**

- **–£–ø–æ–º–∏–Ω–∞–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö**: –Ω–∞—Ç–∏–≤–Ω—ã–µ @‚Äë—É–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, WhatsApp tap‚Äëto‚Äëmention). –ò–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è –≤ —Ä–µ–∂–∏–º–µ —Å–∞–º–æ—á–∞—Ç–∞ WhatsApp (—Å–º. `channels.whatsapp.allowFrom`).
- **–¢–µ–∫—Å—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã**: regex‚Äë—à–∞–±–ª–æ–Ω—ã, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –≤ `agents.list[].groupChat.mentionPatterns`. –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤—Å–µ–≥–¥–∞, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–µ–∂–∏–º–∞ —Å–∞–º–æ—á–∞—Ç–∞.
- Gating —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –≤–æ–∑–º–æ–∂–Ω–æ (–Ω–∞—Ç–∏–≤–Ω—ã–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω `mentionPattern`).

```json5
{
  messages: {
    groupChat: { historyLimit: 50 },
  },
  agents: {
    list: [{ id: "main", groupChat: { mentionPatterns: ["@openclaw", "openclaw"] } }],
  },
}
```

`messages.groupChat.historyLimit` –∑–∞–¥–∞—ë—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏—Å—Ç–æ—Ä–∏–∏ –≥—Ä—É–ø–ø. –ö–∞–Ω–∞–ª—ã –º–æ–≥—É—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —á–µ—Ä–µ–∑ `channels.<channel>.historyLimit` (–∏–ª–∏ `channels.<channel>.accounts.*.historyLimit` –¥–ª—è multi‚Äëaccount). –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `0`, —á—Ç–æ–±—ã –æ—Ç–∫–ª—é—á–∏—Ç—å –æ–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏.

#### –õ–∏–º–∏—Ç—ã –∏—Å—Ç–æ—Ä–∏–∏ DMs

–î–∏–∞–ª–æ–≥–∏ DMs –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∏—Å—Ç–æ—Ä–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–µ—Å—Å–∏–π, —É–ø—Ä–∞–≤–ª—è–µ–º—É—é –∞–≥–µ–Ω—Ç–æ–º. –ú–æ–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —á–∏—Å–ª–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ö–æ–¥–æ–≤, —Å–æ—Ö—Ä–∞–Ω—è–µ–º—ã—Ö –Ω–∞ —Å–µ—Å—Å–∏—é DM:

```json5
{
  channels: {
    telegram: {
      dmHistoryLimit: 30, // limit DM sessions to 30 user turns
      dms: {
        "123456789": { historyLimit: 50 }, // per-user override (user ID)
      },
    },
  },
}
```

–ü–æ—Ä—è–¥–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:

1. –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ DM: `channels.<provider>.dms[userId].historyLimit`
2. –ó–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `channels.<provider>.dmHistoryLimit`
3. –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π (–≤—Å—è –∏—Å—Ç–æ—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è)

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã: `telegram`, `whatsapp`, `discord`, `slack`, `signal`, `imessage`, `msteams`.

–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è –∞–≥–µ–Ω—Ç–∞ (–∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ, –¥–∞–∂–µ –Ω–∞–¥ `[]`):

```json5
{
  agents: {
    list: [
      { id: "work", groupChat: { mentionPatterns: ["@workbot", "\\+15555550123"] } },
      { id: "personal", groupChat: { mentionPatterns: ["@homebot", "\\+15555550999"] } },
    ],
  },
}
```

–ó–Ω–∞—á–µ–Ω–∏—è gating —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–¥–∞—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞ (`channels.whatsapp.groups`, `channels.telegram.groups`, `channels.imessage.groups`, `channels.discord.guilds`). –ö–æ–≥–¥–∞ –∑–∞–¥–∞–Ω `*.groups`, –æ–Ω —Ç–∞–∫–∂–µ –¥–µ–π—Å—Ç–≤—É–µ—Ç –∫–∞–∫ allowlist –≥—Ä—É–ø–ø; –≤–∫–ª—é—á–∏—Ç–µ `"*"`, —á—Ç–æ–±—ã —Ä–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ –≥—Ä—É–ø–ø—ã.

–ß—Ç–æ–±—ã –æ—Ç–≤–µ—á–∞—Ç—å **—Ç–æ–ª—å–∫–æ** –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã (–∏–≥–Ω–æ—Ä–∏—Ä—É—è –Ω–∞—Ç–∏–≤–Ω—ã–µ @‚Äë—É–ø–æ–º–∏–Ω–∞–Ω–∏—è):

```json5
{
  channels: {
    whatsapp: {
      // Include your own number to enable self-chat mode (ignore native @-mentions).
      allowFrom: ["+15555550123"],
      groups: { "*": { requireMention: true } },
    },
  },
  agents: {
    list: [
      {
        id: "main",
        groupChat: {
          // Only these text patterns will trigger responses
          mentionPatterns: ["reisponde", "@openclaw"],
        },
      },
    ],
  },
}
```

### –ü–æ–ª–∏—Ç–∏–∫–∞ –≥—Ä—É–ø–ø (–ø–æ –∫–∞–Ω–∞–ª–∞–º)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `channels.*.groupPolicy`, —á—Ç–æ–±—ã —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–µ–º, –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –≥—Ä—É–ø–ø/–∫–æ–º–Ω–∞—Ç –≤–æ–æ–±—â–µ:

```json5
{
  channels: {
    whatsapp: {
      groupPolicy: "allowlist",
      groupAllowFrom: ["+15551234567"],
    },
    telegram: {
      groupPolicy: "allowlist",
      groupAllowFrom: ["tg:123456789", "@alice"],
    },
    signal: {
      groupPolicy: "allowlist",
      groupAllowFrom: ["+15551234567"],
    },
    imessage: {
      groupPolicy: "allowlist",
      groupAllowFrom: ["chat_id:123"],
    },
    msteams: {
      groupPolicy: "allowlist",
      groupAllowFrom: ["user@org.com"],
    },
    discord: {
      groupPolicy: "allowlist",
      guilds: {
        GUILD_ID: {
          channels: { help: { allow: true } },
        },
      },
    },
    slack: {
      groupPolicy: "allowlist",
      channels: { "#general": { allow: true } },
    },
  },
}
```

–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:

- `"open"`: –≥—Ä—É–ø–ø—ã –æ–±—Ö–æ–¥—è—Ç allowlist‚Äô—ã; gating —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –≤—Å—ë –µ—â—ë –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è.
- `"disabled"`: –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –≥—Ä—É–ø–ø/–∫–æ–º–Ω–∞—Ç.
- `"allowlist"`: —Ä–∞–∑—Ä–µ—à–∞—Ç—å —Ç–æ–ª—å–∫–æ –≥—Ä—É–ø–ø—ã/–∫–æ–º–Ω–∞—Ç—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ allowlist‚Äô—É.
- `channels.defaults.groupPolicy` –∑–∞–¥–∞—ë—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∫–æ–≥–¥–∞ `groupPolicy` –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –Ω–µ –∑–∞–¥–∞–Ω.
- WhatsApp/Telegram/Signal/iMessage/Microsoft Teams –∏—Å–ø–æ–ª—å–∑—É—é—Ç `groupAllowFrom` (fallback: —è–≤–Ω—ã–π `allowFrom`).
- Discord/Slack –∏—Å–ø–æ–ª—å–∑—É—é—Ç allowlist‚Äô—ã –∫–∞–Ω–∞–ª–æ–≤ (`channels.discord.guilds.*.channels`, `channels.slack.channels`).
- –ì—Ä—É–ø–ø–æ–≤—ã–µ DMs (Discord/Slack) –≤—Å—ë –µ—â—ë —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `dm.groupEnabled` + `dm.groupChannels`.
- –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî `groupPolicy: "allowlist"` (–µ—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ `channels.defaults.groupPolicy`); –µ—Å–ª–∏ allowlist –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω, —Å–æ–æ–±—â–µ–Ω–∏—è –≥—Ä—É–ø–ø –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è.

### –ú—É–ª—å—Ç–∏-–∞–≥–µ–Ω—Ç—Å–∫–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è (`agents.list` + `bindings`)

–ó–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤ (–æ—Ç–¥–µ–ª—å–Ω–æ–µ —Ä–∞–±–æ—á–µ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ, `agentDir`, —Å–µ—Å—Å–∏–∏) –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ —à–ª—é–∑–∞.
–í—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –∞–≥–µ–Ω—Ç —á–µ—Ä–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏.

- gateway/configuration.md
  - `id`: —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∞–≥–µ–Ω—Ç–∞ (—Ç—Ä–µ–±—É–µ—Ç—Å—è).
  - `default`: –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ; –∫–æ–≥–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–±–µ–¥, —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –ø–µ—Ä–≤—ã–µ –ø–æ–±–µ–¥—ã –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ.
    –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, **–ø–µ—Ä–≤–∞—è –∑–∞–ø–∏—Å—å** –≤ —Å–ø–∏—Å–∫–µ —è–≤–ª—è–µ—Ç—Å—è –∞–≥–µ–Ω—Ç–æ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
  - `name`: –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è –∞–≥–µ–Ω—Ç–∞.
  - `workspace`: –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `~/.openclaw/workspace-<agentId>` (–¥–ª—è `main`, –≤–µ—Ä–Ω–µ—Ç—Å—è –∫ `agents.defaults.workspace`).
  - `agentDir`: –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `~/.openclaw/agents/<agentId>/agent`.
  - `model`: –º–æ–¥–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –∞–≥–µ–Ω—Ç–∞, –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç `agents.defaults.model` –¥–ª—è —ç—Ç–æ–≥–æ –∞–≥–µ–Ω—Ç–∞.
    - —Å—Ç—Ä–æ–∫–∞ —Ñ–æ—Ä–º—ã: `"provider/model"`, –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ `agents.defaults.model.primary`
    - –æ–±—ä–µ–∫—Ç–Ω–∞—è —Ñ–æ—Ä–º–∞: `{ primary, fallbacks }` (–æ–ø—Ü–∏–∏, –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–µ `agents.defaults.model.fallbacks`; `[]` –æ—Ç–∫–ª—é—á–∞–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∑–∞–ø–∞—Å—ã –¥–ª—è —ç—Ç–æ–≥–æ –∞–≥–µ–Ω—Ç–∞)
  - `identity`: –∏–º—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞/—Ç–µ–º–∞/—ç–º–æ–¥–∑–∏ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π + —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —ç–∫—Ä–∞–Ω).
  - `groupChat`: —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞–≥–µ–Ω—Ç–∞ (`mentionPatterns`).
  - `sandbox`: –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è per-agent sandbox (–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç `agents.defaults.sandbox`).
    - `mode`: `"off"` | `"non-main"` | `"all"`
    - `workspaceAccess`: `"none"` | `"ro"` | `"rw"`
    - `scope`: `"session"` | `"–∞–≥–µ–Ω—Ç"` | `"Shared"`
    - `workspaceRoot`: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–æ—Ä–µ–Ω—å —Ä–∞–±–æ—á–µ–π –æ–±–ª–∞—Å—Ç–∏ –ø–µ—Å–æ—á–Ω–∏—Ü—ã
    - `docker`: per-agent docker –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, `image`, `network`, `env`, `setupCommand`, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è; –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–≥–¥–∞ `scope: "shared"`)
    - `browser`: –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è –∞–≥–µ–Ω—Ç–∞ (–∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ `scope: "shared"`)
    - `prune`: –ø–µ—Å–æ—á–Ω–∏—Ü–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞, –≤—ã–∑–≤–∞–≤—à–µ–≥–æ –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É (–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å –ø—Ä–∏ `scope: "shared"`)
  - `subagents`: —Å—É–±–∞–≥–µ–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
    - `allowAgents`: —Å–ø–∏—Å–æ–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –∞–≥–µ–Ω—Ç–æ–≤ –¥–ª—è `sessions_spawn` —ç—Ç–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ (`["*"]` = —Ä–∞–∑—Ä–µ—à–∏—Ç—å –ª—é–±–æ–µ; –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: —Ç–æ–ª—å–∫–æ —Ç–æ—Ç –∂–µ –∞–≥–µ–Ω—Ç)
  - `tools`: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ (–ø—Ä–∏–º–µ–Ω—è–µ–º—ã–µ –¥–æ –ø–æ–ª–∏—Ç–∏–∫–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ "–ø–µ—Å–æ—á–Ω–∏—Ü–∞").
    - `profile`: –ø—Ä–æ—Ñ–∏–ª—å –±–∞–∑–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (–ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º/–æ—Ç—Ä–∏—Ü–∞–Ω–∏–µ–º)
    - `allow`: –º–∞—Å—Å–∏–≤ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
    - `deny`: –º–∞—Å—Å–∏–≤ –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (–∑–∞–ø—Ä–µ—Ç–∏—Ç—å –ø–æ–±–µ–¥—ã)
- `agents.defaults`: –æ–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≥–µ–Ω—Ç–æ–≤ (–º–æ–¥–µ–ª—å, —Ä–∞–±–æ—á–∞—è —Å—Ä–µ–¥–∞, –ø–µ—Å–æ—á–Ω–∏—Ü–∞ –∏ —Ç.–¥.).
- `bindings[]`: –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∫ `agentId`.
  - `match.channel` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
  - `match.accountId` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ; `*` = –ª—é–±–æ–π –∞–∫–∫–∞—É–Ω—Ç; –ø—Ä–æ–ø—É—â–µ–Ω = –∞–∫–∫–∞—É–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  - `match.peer` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ; `{ kind: dm|group|channel, id }`)
  - `match.guildId` / `match.teamId` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ; –∫–∞–Ω–∞–ª –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π)

–ü–æ—Ä—è–¥–æ–∫ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è–º–∏:

1. `match.peer`
2. `match.guildId`
3. `match.teamId`
4. `match.accountId` (—Ç–æ—á–Ω–æ, –Ω–µ—Ç –ø–∏—Ä–∞/–≥–∏–ª—å–¥–∏—è/–∫–æ–º–∞–Ω–¥–∞)
5. `match.accountId: "*"` (–∫–∞–Ω–∞–ª –ø–æ —à–∏—Ä–∏–Ω–µ, –Ω–µ—Ç –ø–∏—Ä–∞/–≥–∏–ª—å–¥–∏—è/–∫–æ–º–∞–Ω–¥–∞)
6. –∞–≥–µ–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (`agents.list[].default`, –µ—â—ë –ø–µ—Ä–≤–∞—è –∑–∞–ø–∏—Å—å —Å–ø–∏—Å–∫–∞, –∏–Ω–∞—á–µ `"main"`)

–í –∫–∞–∂–¥–æ–º –º–∞—Ç—á–µ –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç –ø–µ—Ä–≤–∞—è —Å–æ–≤–ø–∞–¥–∞—é—â–∞—è –∑–∞–ø–∏—Å—å –≤ ¬´bindings¬ª.

#### –ü—Ä–æ—Ñ–∏–ª–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–≥–µ–Ω—Ç–∞–º (–º–Ω–æ–≥–æ–∞–≥–µ–Ω—Ç–Ω—ã–π)

–ö–∞–∂–¥—ã–π –∞–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–≤–æ—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É "–ø–µ—Å–æ—á–Ω–∏—Ü–∞" + –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å–Ω—É—é –ø–æ–ª–∏—Ç–∏–∫—É. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ –¥–ª—è —Å–º–µ—à–∏–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫
—É—Ä–æ–≤–Ω–µ–π –≤ –æ–¥–Ω–æ–º —à–ª—é–∑–µ:

- **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø** (–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∞–≥–µ–Ω—Ç)
- **–¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ** –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ + —Ä–∞–±–æ—á–µ–π –æ–±–ª–∞—Å—Ç–∏
- **–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ** (—Ç–æ–ª—å–∫–æ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π/—Å–µ—Å—Å–∏–π)

–°–º. [Multi-Agent Sandbox & Tools](/tools/multi-agent-sandbox-tools) –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏
–¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤.

–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (–±–µ–∑ –ø–µ—Å–æ—á–Ω–∏—Ü—ã):

```json5
{
  agents: {
    list: [
      {
        id: "personal",
        workspace: "~/.openclaw/workspace-personal",
        sandbox: { mode: "off" },
      },
    ],
  },
}
```

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è + —Ä–∞–±–æ—á–µ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è:

```json5
{
  agents: {
    list: [
      {
        id: "family",
        workspace: "~/.openclaw/workspace-family",
        sandbox: {
          mode: "all",
          scope: "agent",
          workspaceAccess: "ro",
        },
        tools: {
          allow: [
            "read",
            "sessions_list",
            "sessions_history",
            "sessions_send",
            "sessions_spawn",
            "session_status",
          ],
          deny: ["write", "edit", "apply_patch", "exec", "process", "browser"],
        },
      },
    ],
  },
}
```

–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ (—Å–æ–æ–±—â–µ–Ω–∏—è –∏ —Å–µ—Å—Å–∏–æ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤–∫–ª—é—á–µ–Ω—ã):

```json5
{
  agents: {
    list: [
      {
        id: "public",
        workspace: "~/.openclaw/workspace-public",
        sandbox: {
          mode: "all",
          scope: "agent",
          workspaceAccess: "none",
        },
        tools: {
          allow: [
            "sessions_list",
            "sessions_history",
            "sessions_send",
            "sessions_spawn",
            "session_status",
            "whatsapp",
            "telegram",
            "slack",
            "discord",
            "gateway",
          ],
          deny: [
            "read",
            "write",
            "edit",
            "apply_patch",
            "exec",
            "process",
            "browser",
            "canvas",
            "nodes",
            "cron",
            "gateway",
            "image",
          ],
        },
      },
    ],
  },
}
```

–ü—Ä–∏–º–µ—Ä: –¥–≤–µ —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ WhatsApp ‚Üí –¥–≤–∞ –∞–≥–µ–Ω—Ç–∞:

```json5
{
  agents: {
    list: [
      { id: "home", –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: true, workspace: "~/. penclaw/workspace-home" },
      { id: "work", workspace: "~/. penclaw/workspace-work" },
    ],
  },
  bindings: [
    { agentId: "home", match: { channel: "whatsapp", accountId: "personal" } },
    { agentId: "work", match: { channel: "whatsapp", ID –∞–∫–∫–∞—É–Ω—Ç–∞: "biz" } },
  ],
  –∫–∞–Ω–∞–ª–æ–≤: {
    whatsapp: {
      accounts: {
        personal: {},
        –±–∞–π—Ç: {},
      },
    },
  },
}
```

### `tools.agentToAgent` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ê–≥–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É:

```json5
{
  tools: {
    agentToAgent: {
      enabled: false,
      allow: ["home", "work"],
    },
  },
}
```

### ¬´messages.queue¬ª

–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∞–≥–µ–Ω—Ç–∞ —É–∂–µ –∞–∫—Ç–∏–≤–Ω–æ.

```json5
{
  messages: {
    queue: {
      —Ä–µ–∂–∏–º: "collect", // steer | followup | collect | steer-backlog (steer+backlog ok) | interrupt (queue=steer legacy)
      debounceMs: 1000,
      cap: 20,
      : "–°—É–º–º–∞—Ä–Ω–æ–µ", // old | new | summarize
      byChannel: {
        whatsapp: "collect",
        —Ç–µ–ª–µ–≥—Ä–∞–º–º–∞: "—Å–æ–±–∏—Ä–∞—Ç—å",
        –¥–∏—Å–ø—Ä–æ–ø–æ—Ä—Ü–∏—è: "—Å–æ–±–∏—Ä–∞—Ç—å",
        –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: "collect",
        webchat: "collect",
      },
    },
  },
}
```

### `messages.inbound`

–ü–æ–¥–∞–≤–ª—è–µ—Ç —á–∞—Å—Ç—ã–µ –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç **–æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è**, —á—Ç–æ–±—ã –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–¥—Ä—è–¥ –ø—Ä–µ–≤—Ä–∞—â–∞–ª–∏—Å—å –≤ –æ–¥–∏–Ω —Ö–æ–¥ –∞–≥–µ–Ω—Ç–∞. –î–µ–±–∞—É–Ω—Å–∏–Ω–≥ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ —Ä–∞–º–∫–∞—Ö –∫–∞–Ω–∞–ª–∞ + –¥–∏–∞–ª–æ–≥–∞
–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∞–º–æ–µ –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è —Ç—Ä–µ–¥–∏–Ω–≥–∞ –æ—Ç–≤–µ—Ç–æ–≤/ID.

```json5
{
  messages: {
    inbound: {
      debounceMs: 2000, // 0 –æ—Ç–∫–ª—é—á–∞–µ—Ç
      byChannel: {
        whatsapp: 5000,
        —à—Ç—Ä–∏—Ö: 1500,
        –¥–∏—Å–∫–æ—Å: 1500,
      },
    },
  },
}
```

Notes:

- –ü–∞–∫–µ—Ç—ã Debounce **—Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ** —Å–æ–æ–±—â–µ–Ω–∏–π; –º–µ–¥–∏–∞/–ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Å–±—Ä–æ—à–µ–Ω—ã.
- –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: `/queue`, `/new`) –æ–±–æ–π–¥—É—é—Ç—Å—è, —Ç–∞–∫ —á—Ç–æ –æ–Ω–∏ –æ—Å—Ç–∞–Ω—É—Ç—Å—è –≤ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–º —Ä–µ–∂–∏–º–µ.

### `–∫–æ–º–∞–Ω–¥—ã` (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ —á–∞—Ç–∞)

–£–ø—Ä–∞–≤–ª—è–µ—Ç –≤–∫–ª—é—á–µ–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥ —á–∞—Ç–∞ –º–µ–∂–¥—É –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞–º–∏.

```json5
{
  commands: {
    native: "auto", // —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–æ–¥–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø—Ä–∏ –∏—Ö –ø–æ–¥–¥–µ—Ä–∂–∫–µ (auto)
    —Ç–µ–∫—Å—Ç: true, // —Ä–∞–∑–±–æ—Ä –∫–æ—Å–æ–π —á–µ—Ä—Ç—ã –∫–æ–º–∞–Ω–¥ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –≤ —á–∞—Ç–µ
    bash: false, // allow ! (–ø—Å–µ–≤–¥–æ–Ω–∏–º—ã: /bash) (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ö–æ—Å—Ç–∞; —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤. levated allowlists)
    bashForegroundMs: 2000, // bash foreground window (0 backgrounds immediate)
    : false, // —Ä–∞–∑—Ä–µ—à–∏—Ç—å /config (–∑–∞–ø–∏—Å—å –Ω–∞ –¥–∏—Å–∫)
    –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å: false, // —Ä–∞–∑—Ä–µ—à–∏—Ç—å /debug (–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ runtime-only)
    –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å: false, // —Ä–∞–∑—Ä–µ—à–∏—Ç—å /restart + –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —à–ª—é–∑–∞
    useAccessGroups: true, –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã —Ä–∞–∑—Ä–µ—à–∏—Ç—å/–ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –∫–æ–º–∞–Ω–¥
  },
}
```

Notes:

- –¢–µ–∫—Å—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –∫–∞–∫ **—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ** —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ–¥—É—â–∏–π `/` (–Ω–µ—Ç –ø—Å–µ–≤–¥–æ–Ω–∏–º–æ–≤ –æ–±—ã—á–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞).
- `commands.text: false` –æ—Ç–∫–ª—é—á–∞–µ—Ç –ø–∞—Ä—Å–∏–Ω–≥ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –∫–æ–º–∞–Ω–¥.
- `commands.native: "auto"` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –≤–∫–ª—é—á–∞–µ—Ç —Ä–æ–¥–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è Discord/Telegram –∏ –æ—Å—Ç–∞–≤–ª—è–µ—Ç Slack –≤—ã–∫–ª—é—á–µ–Ω; –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–∞–Ω–∞–ª—ã –æ—Å—Ç–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏.
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `commands.native: true|false` —á—Ç–æ–±—ã –∑–∞—Å—Ç–∞–≤–∏—Ç—å –≤—Å–µ—Ö –∏–ª–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞ `channels.discord.commands.native`, `channels.telegram.commands.native`, `channels.slack.commands.native` (bool –∏–ª–∏ `auto"`). `false` –æ—á–∏—â–∞–µ—Ç —Ä–∞–Ω–µ–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ Discord/Telegram; –ö–æ–º–∞–Ω–¥—ã Slack —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ Slack app.
- `channels.telegram.customCommands` –¥–æ–±–∞–≤–ª—è–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –º–µ–Ω—é Telegram. –ò–º–µ–Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è; –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å —Ä–æ–¥–Ω—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.
- `commands.bash: true` —Ä–∞–∑—Ä–µ—à–∞–µ—Ç `! <cmd>` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–º–∞–Ω–¥ –æ–±–æ–ª–æ—á–∫–∏ —Ö–æ—Å—Ç–∞ (–∞–ª–∏–∞—Å `/bash <cmd>` —Ç–∞–∫–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç). –¢—Ä–µ–±—É–µ—Ç—Å—è `tools.elevated.enabled` –∏ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –≤ `tools.elevated.allowFrom.<channel>`.
- `commands.bashForegroundMs` —É–ø—Ä–∞–≤–ª—è–µ—Ç, —Å–∫–æ–ª—å–∫–æ –æ–∂–∏–¥–∞–Ω–∏–π bash –ø–µ—Ä–µ–¥ —Ñ–æ–Ω–æ–º. –ü–æ–∫–∞ bash —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ–≤–∞—è `! –ó–∞–ø—Ä–æ—Å—ã `<cmd>\` –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è (–ø–æ –æ–¥–Ω–æ–º—É –∑–∞ —Ä–∞–∑).
- `commands.config: true` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `/config` (reads/writes `openclaw.json`).
- `–∫–∞–Ω–∞–ª—ã.<provider>.configWrites` –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –º—É—Ç–∞—Ü–∏–∏, –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç—Ç–∏–º –∫–∞–Ω–∞–ª–æ–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: true). –≠—Ç–æ –ø—Ä–∏–º–µ–Ω–∏–º–æ –∫ `/config set|unset` –ø–ª—é—Å —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –∞–≤—Ç–æ–º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (–∏–∑–º–µ–Ω–µ–Ω–∏—è ID —Å—É–ø–µ—Ä–≥—Ä—É–ø–ø—ã Telegram, –∏–∑–º–µ–Ω–µ–Ω–∏—è ID –∫–∞–Ω–∞–ª–∞ Slack ).
- `commands.debug: true` –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç `/debug` (—Ç–æ–ª—å–∫–æ –¥–ª—è runtime-overrides).
- `commands.restart: true` –≤–∫–ª—é—á–∞–µ—Ç `/restart` –∏ –¥–µ–π—Å—Ç–≤–∏–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —à–ª—é–∑–∞.
- `commands.useAccessGroups: false` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥–∞–º –æ–±–æ–π—Ç–∏ access-group allowlists/policies.
- Slash‚Äë–∫–æ–º–∞–Ω–¥—ã –∏ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è **–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π**. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ allowlist/—Å–ø–∞—Ä–∏–≤–∞–Ω–∏—è –∫–∞–Ω–∞–ª–æ–≤ –ø–ª—é—Å `commands.useAccessGroups`.

### `web` (–≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –≤–µ–±-–∫–∞–Ω–∞–ª–∞ WhatsApp)

WhatsApp —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –≤–µ–±-–∫–∞–Ω–∞–ª —à–ª—é–∑–∞ (Baileys Web). –û–Ω–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ —Å–µ–∞–Ω—Å–∞.
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `web.enabled: false`, —á—Ç–æ–±—ã –æ—Ç–∫–ª—é—á–∏—Ç—å –µ–≥–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

```json5
{
  web: {
    –≤–∫–ª—é—á–µ–Ω: true,
    heartbeatSeconds: 60,
    –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: {
      initialMs: 2000,
      maxMs: 120000,
      —Ñ–∞–∫—Ç–æ—Ä: 1. ,
      jitter: 0. ,
      maxAttemps: 0,
    },
  },
}
```

### `channels.telegram` (—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –±–æ—Ç–∞)

OpenClaw –∑–∞–ø—É—Å–∫–∞–µ—Ç Telegram —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å–µ–∫—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ ¬´channels.telegram¬ª. –¢–æ–∫–µ–Ω –±–æ—Ç–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω –∏–∑ `channels.telegram.botToken` (–∏–ª–∏ `channels.telegram.tokenFile`), –∞ `TELEGRAM_BOT_TOKEN` - –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `channels.telegram.enabled: false`, —á—Ç–æ–±—ã –æ—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫.
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –∂–∏–≤–µ—Ç –≤ `channels.telegram.accounts` (—Å–º. —Ä–∞–∑–¥–µ–ª –º—É–ª—å—Ç–∏–∞–∫–∫–∞—É–Ω—Ç–æ–≤ –≤—ã—à–µ). –ú–∞—Ä–∫–µ—Ä—ã Env –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `channels.telegram.configWrites: false` —á—Ç–æ–±—ã –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø–æ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–µ Telegram, (–≤–∫–ª—é—á–∞—è –ø–µ—Ä–µ–Ω–æ—Å ID —Å—É–ø–µ—Ä–≥—Ä—É–ø–ø—ã –∏ `/config set|unset`).

```json5
{
  –∫–∞–Ω–∞–ª–æ–≤: {
    —Ç–µ–ª–µ–≥—Ä–∞–º–º–∞: {
      –≤–∫–ª—é—á–µ–Ω: true,
      botToken: "your-bot-token",
      dmPolicy: "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ", // —Å–æ–ø—Ä—è–∂–µ–Ω–∏–µ | allowlist | open | disabled
      allowFrom: ["tg:123456789"], // –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ; "open" —Ç—Ä–µ–±—É–µ—Ç ["*"]
      –≥—Ä—É–ø–ø: {
        "*": { requireMention: true },
        "-1001234567890": {
          allowFrom: ["@admin"],
          –°–∏—Å—Ç–µ–º–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞: "–•—Ä–∞–Ω–∏—Ç–µ –æ—Ç–≤–µ—Ç—ã –∫—Ä–∞—Ç–∫–∏–º–∏. ,
          —Ç–µ–º—ã: {
            "99": {
              requireMention: false,
              –Ω–∞–≤—ã–∫–æ–≤: ["–∏—Å–∫–∞—Ç—å"],
              –°–∏—Å—Ç–µ–º–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞: "–û—Å—Ç–∞–≤–∞–π—Ç–µ—Å—å –Ω–∞ —Ç–µ–º–µ. ,
            },
          },
        },
      },
      customCommands: [
        { command: "backup", description: "Git backup" },
        { command: "generate", –æ–ø–∏—Å–∞–Ω–∏–µ: "–°–æ–∑–¥–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ" },
      ],
      –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏: 50, // –≤–∫–ª—é—á–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ N –≥—Ä—É–ø–ø–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –≤–∏–¥–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (0 –æ—Ç–∫–ª—é—á–µ–Ω–∏–π)
      replyToMode: "first", // –≤—ã–∫–ª | –ø–µ—Ä–≤—ã–π | –≤—Å–µ
      linkPreview: true, // –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏—Å—Ö–æ–¥—è—â–µ–π —Å—Å—ã–ª–∫–∏
      streamMode: "partial", // off | partial | block (draft streaming; separate from block streaming)
      draftChunk: {
        // optional; —Ç–æ–ª—å–∫–æ –¥–ª—è streamMode=block
        minChars: 200,
        maxChars: 800,
        break–ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ: "paragraph ", // –ø–∞—Ä–∞–≥—Ä–∞—Ñ | newline | sentence
      },
      actions: { reactions: true, sendMessage: true }, // –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –≤–æ—Ä–æ—Ç–∞ (–ª–æ–∂–Ω—ã–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è)
      reactionNotifications: "own", // –≤—ã–∫–ª | –≤—Å–µ
      mediaMaxMb: 5,
      retry: {
        // –ø–æ–ª–∏—Ç–∏–∫–∞ –∏—Å—Ö–æ–¥—è—â–∏—Ö –ø–æ–≤—Ç–æ—Ä–æ–≤
        –ø–æ–ø—ã—Ç–∫–∏: 3,
        –º–∏–Ω—É—Ç—ã –∑–∞–¥–µ—Ä–∂–∫–∏: 400,
        maxDelayMs: 30000,
        jitter: 0. ,
      },
      network: {
        // —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
        autoSelectFamily: false,
      },
      –ø—Ä–æ–∫—Å–∏: "socks5://localhost:9050",
      webhookUrl: "https://example. om/telegram-webhook", // –¢—Ä–µ–±—É–µ—Ç—Å—è webhookSecret
      webhookSecret: "secret",
      webhookPath: "/telegram-webhook",
    },
  },
}
```

–ü—Ä–æ–µ–∫—Ç –ø–æ—Ç–æ–∫–æ–≤—ã—Ö –ø—Ä–∏–º–µ—á–∞–Ω–∏–π:

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Telegram `sendMessageDraft` (—á–µ—Ä–Ω–æ–≤–∏–∫, –∞ –Ω–µ –Ω–∞—Å—Ç–æ—è—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ).
- –¢—Ä–µ–±—É–µ—Ç **–ø—Ä–∏–≤–∞—Ç–Ω—ã–µ —Ç–µ–º—ã** (message_thread_id –≤ DMs; —É –±–æ—Ç–∞ –µ—Å—Ç—å –≤–∫–ª—é—á–µ–Ω–Ω—ã–µ —Ç–µ–º—ã).
- `/reasoning stream` –ø–æ—Ç–æ–∫, —Ä–∞—Å—Å—É–∂–¥–∞—è –≤ —á–µ—Ä–Ω–æ–≤–∏–∫, –∑–∞—Ç–µ–º –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç.
  –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω—ã –≤ [Retry policy](/concepts/retry).

### `channels.discord` (—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –±–æ—Ç–∞)

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–æ—Ç–∞ Discord, —É—Å—Ç–∞–Ω–æ–≤–∏–≤ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –∂–∏–≤–µ—Ç –ø–æ–¥ `channels.discord.accounts` (—Å–º. —Ä–∞–∑–¥–µ–ª multi-account –≤—ã—à–µ). –ú–∞—Ä–∫–µ—Ä—ã Env –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

```json5
{
  channels: {
    discord: {
      enabled: true,
      token: "your-bot-token",
      mediaMaxMb: 8, // clamp inbound media size
      allowBots: false, // allow bot-authored messages
      actions: {
        // tool action gates (false disables)
        reactions: true,
        stickers: true,
        polls: true,
        permissions: true,
        messages: true,
        threads: true,
        pins: true,
        search: true,
        memberInfo: true,
        roleInfo: true,
        roles: false,
        channelInfo: true,
        voiceStatus: true,
        events: true,
        moderation: false,
      },
      replyToMode: "off", // off | first | all
      dm: {
        enabled: true, // disable all DMs when false
        policy: "pairing", // pairing | allowlist | open | disabled
        allowFrom: ["1234567890", "steipete"], // optional DM allowlist ("open" requires ["*"])
        groupEnabled: false, // enable group DMs
        groupChannels: ["openclaw-dm"], // optional group DM allowlist
      },
      guilds: {
        "123456789012345678": {
          // guild id (preferred) or slug
          slug: "friends-of-openclaw",
          requireMention: false, // per-guild default
          reactionNotifications: "own", // off | own | all | allowlist
          users: ["987654321098765432"], // optional per-guild user allowlist
          channels: {
            general: { allow: true },
            help: {
              allow: true,
              requireMention: true,
              users: ["987654321098765432"],
              skills: ["docs"],
              systemPrompt: "Short answers only.",
            },
          },
        },
      },
      historyLimit: 20, // include last N guild messages as context
      textChunkLimit: 2000, // optional outbound text chunk size (chars)
      chunkMode: "length", // optional chunking mode (length | newline)
      maxLinesPerMessage: 17, // soft max lines per message (Discord UI clipping)
      retry: {
        // outbound retry policy
        attempts: 3,
        minDelayMs: 500,
        maxDelayMs: 30000,
        jitter: 0.1,
      },
    },
  },
}
```

OpenClaw –∑–∞–ø—É—Å–∫–∞–µ—Ç Discord —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å–µ–∫—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `channels.discord`. –¢–æ–∫–µ–Ω —Ä–∞–∑—Ä–µ—à–µ–Ω –∏–∑ `channels.discord.token`, —Å –∏–º–µ–Ω–µ–º `DISCORD_BOT_TOKEN` –∫–∞–∫ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–µ—Å–ª–∏ `channels.discord.enabled` –Ω–µ —è–≤–ª—è–µ—Ç—Å—è `false`). –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `user:<id>(DM) –∏–ª–∏ `channel:<id>`(–∫–∞–Ω–∞–ª –≥–∏–ª—å–¥–∏–∏), —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å —Ü–µ–ª–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –¥–ª—è –∫–æ–º–∞–Ω–¥ cron/CLI; –ø—É—Å—Ç—ã–µ —á–∏—Å–ª–æ–≤—ã–µ ID —è–≤–ª—è—é—Ç—Å—è –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–º–∏ –∏ –æ—Ç–≤–µ—Ä–≥–Ω—É—Ç—ã.
–°–ø—É—á–∫–∏ –≥–∏–ª—å–¥–∏–∏ - —Å—Ç—Ä–æ—á–Ω—ã–µ –±—É–∫–≤—ã, –≥–¥–µ –ø—Ä–æ–±–µ–ª—ã –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞`-`; –∫–ª–∞–≤–∏—à–∏ –∫–∞–Ω–∞–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–ª–∞–π–¥-–∫–∞–Ω–∞–ª–∞ (–Ω–µ—Ç –≤–µ–¥—É—â–µ–≥–æ `#`). –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –≥–∏–ª—å–¥–∏–∏ –∫–∞–∫ –∫–ª—é—á–∏ –≤–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è.
–ë–æ—Ç –∞–≤—Ç–æ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –í–∫–ª—é—á–∏—Ç–µ —Å `channels.discord.allowBots\` (—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤—Å–µ –µ—â–µ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ü–∏–∫–ª–æ–≤ —Å–∞–º–æ–æ—Ç–≤–µ—Ç–∞).
–†–µ–∂–∏–º—ã –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –æ —Ä–µ–∞–∫—Ü–∏–∏:

- `off`: –±–µ–∑ —Å–æ–±—ã—Ç–∏–π —Ä–µ–∞–∫—Ü–∏–π.
- `own`: —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).
- `all`: –≤—Å–µ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è.
- `allowlist`: —Ä–µ–∞–∫—Ü–∏–∏ –æ—Ç `guilds.<id>.users` –Ω–∞ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö (–ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –æ—Ç–∫–ª—é—á–∞–µ—Ç).
  –ò—Å—Ö–æ–¥—è—â–∏–π —Ç–µ–∫—Å—Ç –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è `channels.discord.textChunkLimit` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 2000). –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `channels.discord.chunkMode="newline"`, —á—Ç–æ–±—ã —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ (–≥—Ä–∞–Ω–∏—Ü—ã –ø–∞—Ä–∞–≥—Ä–∞—Ñ–æ–≤) –¥–æ –¥–ª–∏–Ω—ã –∫—É—Å–∫–∏. –ö–ª–∏–µ–Ω—Ç—ã Discord –º–æ–≥—É—Ç –∫–ª–∏–∫–∞—Ç—å –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –ø–æ—ç—Ç–æ–º—É `channels.discord.maxLinesPerMessage` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 17) –¥–µ–ª–∏—Ç—Å—è –¥–ª–∏–Ω–Ω—ã–º–∏ –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏ –¥–∞–∂–µ –ø—Ä–∏ –º–µ–Ω–µ–µ 2000 —Å–∏–º–≤–æ–ª–æ–≤.
  –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω—ã –≤ [Retry policy](/concepts/retry).

### `channels.googlechat` (webhook)

Google Chat –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ HTTP-–≤–µ–±—Ö—É–∫–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º (—Å–µ—Ä–≤–∏—Å–Ω–∞—è —É—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å).
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –∂–∏–≤–µ—Ç –≤ `channels.googlechat.accounts` (—Å–º. —Ä–∞–∑–¥–µ–ª multi-account –≤—ã—à–µ). Env vars –ø—Ä–∏–º–µ–Ω–∏–º—ã —Ç–æ–ª—å–∫–æ –∫ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

```json5
{
  –∫–∞–Ω–∞–ª–æ–≤: {
    googlechat: {
      –≤–∫–ª—é—á–µ–Ω: true,
      serviceAccountFile: "/path/to/service-account. son",
      –∞—É–¥–∏—Ç–æ—Ä–∏—è: "app-url", // app-url | project-number
      –∞—É–¥–∏—Ç–æ—Ä–∏—è: "https://gateway.example. om/googlechat",
      webhookPath: "/googlechat",
      botUser: "users/1234567890", // optional; —É–ª—É—á—à–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è
      dm: {
        –≤–∫–ª—é—á–µ–Ω: true,
        –ü–æ–ª–∏—Ç–∏–∫–∞ "–ø–∞—Ä—ã –¥–∞–Ω–Ω—ã—Ö", // –ø–∞—Ä—Å–∏–Ω–≥ | allowlist | open | disabled
        allowFrom: ["users/1234567890"], // –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ; "open" —Ç—Ä–µ–±—É–µ—Ç ["*"]
      },
      groupPolicy: "allowlist",
      –≥—Ä—É–ø–ø—ã: {
        "spaces/AAA": { allow: true, requireMention: true },
      },
      –¥–µ–π—Å—Ç–≤–∏–π: { reactions: true },
      –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∏: "message",
      mediaMaxMb: 20,
    },
  },
}
```

Notes:

- –°—á–µ—Ç —Å–ª—É–∂–±—ã JSON –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º (`serviceAccount`) –∏–ª–∏ –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–º –Ω–∞ —Ñ–∞–π–ª–∞—Ö (`serviceAccountFile`).
- Env fallbackback for the default account: `GOOGLE_CHAT_SERVICE_ACCOUNT` or `GOOGLE_CHAT_SERVICE_ACCOUNT_FILE`.
- `audienceType` + `audience` –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ webhook –≤ —á–∞—Ç–µ.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ "spaces/<spaceId>" –∏–ª–∏ "users/<userId|email>–¥–ª—è –∑–∞–¥–∞–Ω–∏—è —Ü–µ–ª–µ–π –¥–æ—Å—Ç–∞–≤–∫–∏.

### `channels.slack` (—Ä–µ–∂–∏–º —Å–æ–∫–µ—Ç–∞)

Slack –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ —Ä–µ–∂–∏–º–µ —Å–æ–∫–µ—Ç–∞ –∏ —Ç—Ä–µ–±—É–µ—Ç –∫–∞–∫ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞, —Ç–∞–∫ –∏ —Ç–æ–∫–µ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```json5
{
  –∫–∞–Ω–∞–ª–æ–≤: {
    slack: {
      enabled: true,
      botToken: "xoxb-. .",
      appToken: "xapp-... ,
      dm: {
        –≤–∫–ª—é—á–µ–Ω: true,
        –ø–æ–ª–∏—Ç–∏–∫–∞: "–ø–∞—Ä–Ω–∏–∫–æ–≤—ã–π", // —Å–æ–ø—Ä—è–∂–µ–Ω–∏–µ | allowlist | open | disabled
        allowFrom: ["U123", "U456", "*"], // –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ; "open" —Ç—Ä–µ–±—É–µ—Ç ["*"]
        groupabled: false,
        –≥—Ä—É–ø–ø–æ–≤—ã–µ –∫–∞–Ω–∞–ª—ã: ["G123"],
      },
      –∫–∞–Ω–∞–ª—ã: {
        C123: { allow: true, requireMention: true, allowBots: false },
        "#general": {
          allow: true,
          –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è: true,
          allowBots: false,
          –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: ["U123"],
          –Ω–∞–≤—ã–∫–∏: ["–î–æ–∫—É–º–µ–Ω—Ç—ã"],
          systemPrompt: "–¢–æ–ª—å–∫–æ –∫–æ—Ä–æ—Ç–∫–∏–µ –æ—Ç–≤–µ—Ç—ã. ,
        },
      },
      –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏: 50, // –≤–∫–ª—é—á–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ N –∫–∞–Ω–∞–ª—ã/–≥—Ä—É–ø–ø–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –≤–∏–¥–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (0 –æ—Ç–∫–ª—é—á–µ–Ω–∏–π)
      allowBots: false,
      –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–µ–∞–∫—Ü–∏–∏: "—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ", // –≤—ã–∫–ª | –≤—Å–µ | —Å–ø–∏—Å–æ–∫
      —Ä–µ–∞–∫—Ü–∏–π –†–∞–∑—Ä–µ—à–∏—Ç—å: ["U123"],
      –æ—Ç–≤–µ—Ç–∏—Ç—åToMode: "–≤—ã–∫–ª", // off | first | all
      thread: {
        historyScope: "thread", // –ø–æ—Ç–æ–∫ | –∫–∞–Ω–∞–ª
        inheritParent: false,
      },
      –¥–µ–π—Å—Ç–≤–∏—è: {
        —Ä–µ–∞–∫—Ü–∏–∏: true,
        —Å–æ–æ–±—â–µ–Ω–∏–π: true,
        –∑–Ω–∞—á–µ–Ω–∏–π: true,
        —á–ª–µ–Ω—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: true,
        emojiList: true,
      },
      slashCommand: {
        –≤–∫–ª—é—á–µ–Ω: true,
        –∏–º—è: "openclaw",
        –ø—Ä–µ—Ñ–∏–∫—Å —Å–µ—Å—Å–∏–∏: "slack:slash",
        —ç—Ñ–µ–º–µ—Ä: true,
      },
      textChunkLimit: 4000,
      chunkMode: "–¥–ª–∏–Ω–∞",
      mediaMaxMb: 20,
    },
  },
}
```

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –∂–∏–≤–µ—Ç –≤ `channels.slack.accounts` (—Å–º. —Ä–∞–∑–¥–µ–ª multi-account –≤—ã—à–µ). –ú–∞—Ä–∫–µ—Ä—ã Env –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

OpenClaw –∑–∞–ø—É—Å–∫–∞–µ—Ç Slack –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω–æ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ –∏ –∑–∞–¥–∞—é—Ç—Å—è –æ–±–∞ —Ç–æ–∫–µ–Ω–∞ (—á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–ª–∏ `SLACK_BOT_TOKEN` + `SLACK_APP_TOKEN`). –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `user:<id>(DM) –∏–ª–∏ `channel:<id>–¥–ª—è –∑–∞–¥–∞–Ω–∏—è —Ü–µ–ª–µ–π –¥–æ—Å—Ç–∞–≤–∫–∏ –∫–æ–º–∞–Ω–¥ cron/CLI.
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `channels.slack.configWrites: false` –Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É —Å—Ü–µ–Ω–∞—Ä–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å Slack-–∑–∞–ø—Ä–æ—Å–æ–º (–≤–∫–ª—é—á–∞—è –º–∏–≥—Ä–∞—Ü–∏—é ID –∫–∞–Ω–∞–ª–∞ –∏ `/config set|unset`).

–ë–æ—Ç –∞–≤—Ç–æ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –í–∫–ª—é—á–∏—Ç—å —Å `channels.slack.allowBots` –∏–ª–∏ `channels.slack.channels.<id>.allowBots`.

–†–µ–∂–∏–º—ã –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –æ —Ä–µ–∞–∫—Ü–∏–∏:

- `off`: –±–µ–∑ —Å–æ–±—ã—Ç–∏–π —Ä–µ–∞–∫—Ü–∏–π.
- `own`: —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).
- `all`: –≤—Å–µ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è.
- `allowlist`: —Ä–µ–∞–∫—Ü–∏–∏ –æ—Ç `channels.slack.reactionAllowlist` –Ω–∞ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö (–ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –≤—ã–∫–ª—é—á–µ–Ω).

–ò–∑–æ–ª—è—Ü–∏—è —Å–µ—Å—Å–∏–∏ –≤ –Ω–∏—Ç—è—Ö:

- `channels.slack.thread.historyScope` –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –∏—Å—Ç–æ—Ä–∏—è –≤–µ—Ç–≤–∏ –≤ –∫–∞–∂–¥–æ–º –ø–æ—Ç–æ–∫–µ (`thread`, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –∏–ª–∏ –ø–æ–¥–µ–ª–∏—Ç—Å—è –µ—é –ø–æ –≤—Å–µ–º—É –∫–∞–Ω–∞–ª—É (`channel`).
- `channels.slack.thread.inheritParent` –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–µ—Å—Å–∏–π –ø–æ—Ç–æ–∫–∞, —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —Å—É–±—Ç–∏—Ç—Ä–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: false).

–ì—Ä—É–ø–ø—ã –¥–µ–π—Å—Ç–≤–∏–π –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∞ (–¥–µ–π—Å—Ç–≤–∏—è –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º `slack`):

| –ì—Ä—É–ø–ø–∞ –¥–µ–π—Å—Ç–≤–∏–π | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | Notes                                   |
| --------------- | --------------------- | --------------------------------------- |
| reactions       | enabled               | –†–µ–∞–∫—Ü–∏–∏ + —Å–ø–∏—Å–æ–∫ —Ä–µ–∞–∫—Ü–∏–π                |
| messages        | enabled               | –ß—Ç–µ–Ω–∏–µ/–æ—Ç–ø—Ä–∞–≤–∫–∞/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ |
| pins            | enabled               | –ó–∞–∫—Ä–µ–ø–∏—Ç—å/–æ—Ç–∫—Ä–µ–ø–∏—Ç—å/—Å–ø–∏—Å–æ–∫              |
| memberInfo      | enabled               | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—á–∞—Å—Ç–Ω–∏–∫–∞—Ö                |
| emojiList       | enabled               | –°–ø–∏—Å–æ–∫ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö emoji                  |

### `channels.mattermost` (—Ç–æ–∫–µ–Ω –±–æ—Ç–∞)

Mattermost –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ –ø–ª–∞–≥–∏–Ω –∏ –Ω–µ –≤—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–∞–≤ –æ—Å–Ω–æ–≤–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏.
–°–Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `openclaw plugins install @openclaw/mattermost` (–∏–ª–∏ `./extensions/mattermost` –∏–∑ git checkout).

–°–∞–º–∞—è –≤–∞–∂–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω–∞ –±–æ—Ç–∞ –ø–ª—é—Å –±–∞–∑–æ–≤—ã–π URL-–∞–¥—Ä–µ—Å –¥–ª—è –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞:

```json5
{
  –∫–∞–Ω–∞–ª–æ–≤: {
    mattermost: {
      –≤–∫–ª—é—á–µ–Ω: true,
      botToken: "mm-token",
      baseUrl: "https://chat. xample. om",
      dmPolicy: "—Å–æ–ø—Ä—è–∂–µ–Ω–∏–µ",
      chatmode: "oncall", // oncall | onmessage | onchar
      oncharfixes: [">", "! ],
      textChunkLimit: 4000,
      chunkMode: "length",
    },
  },
}
```

OpenClaw –∑–∞–ø—É—Å–∫–∞–µ—Ç Mattermost –∫–æ–≥–¥–∞ —É—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ (—Ç–æ–∫–µ–Ω –±–æ—Ç–∞ + –±–∞–∑–æ–≤—ã–π URL) –∏ –≤–∫–ª—é—á–µ–Ω–∞. –¢–æ–∫–µ–Ω + –±–∞–∑–æ–≤—ã–π URL —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –∏–∑ `channels.mattermost.botToken` + `channels.mattermost.baseUrl` –∏–ª–∏ `MATTERMOST_BOT_TOKEN` + `MATTERMOST_URL` –¥–ª—è —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–µ—Å–ª–∏ `channels.mattermost.enabled` –Ω–µ —è–≤–ª—è–µ—Ç—Å—è `false`).

–†–µ–∂–∏–º —á–∞—Ç–∞:

- `oncall` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é): –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–∞–Ω–∞–ª–∞ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ @—É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è.
- `onmessage`: –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –∫–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–∞–Ω–∞–ª–µ.
- `onchar`: –æ—Ç–≤–µ—á–∞—Ç—å, –∫–æ–≥–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞ —Ç—Ä–∏–≥–≥–µ—Ä–∞ (`channels.mattermost.oncharPrefixes`, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `[">", "!"]`).

–ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞:

- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `channels.mattermost.dmPolicy="pairing"` (–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –∫–æ–¥ —Å–æ–ø—Ä—è–∂–µ–Ω–∏—è).
- –ü—É–±–ª–∏—á–Ω—ã–µ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è: `channels.mattermost.dmPolicy="open"` –ø–ª—é—Å `channels.mattermost.allowFrom=["*"]`.
- –ì—Ä—É–ø–ø–∞: `channels.mattermost.groupPolicy="allowlist"` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (mention-gated). –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `channels.mattermost.groupAllowFrom` –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π.

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –∂–∏–≤–µ—Ç –≤ `channels.mattermost.accounts` (—Å–º. —Ä–∞–∑–¥–µ–ª multi-account –≤—ã—à–µ). Env vars –ø—Ä–∏–º–µ–Ω–∏–º—ã —Ç–æ–ª—å–∫–æ –∫ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ¬´channel:<id>¬ª –∏–ª–∏ ¬´user:<id>¬ª (–∏–ª–∏ ¬´@username¬ª) –ø—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ —Ü–µ–ª–µ–π –¥–æ—Å—Ç–∞–≤–∫–∏; –ø—É—Å—Ç—ã–µ id –∫–∞–Ω–∞–ª–∞ —Å—á–∏—Ç–∞—é—Ç—Å—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º–∏.

### `channels.signal` (—Å–∏–≥–Ω–∞–ª-cli)

–°–∏–≥–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∞–∫—Ü–∏–∏ –º–æ–≥—É—Ç –∏–∑–ª—É—á–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (–æ–±—â–∞—è —É—Ç–∏–ª–∏—Ç–∞ —Ä–µ–∞–∫—Ü–∏–∏):

```json5
{
  –∫–∞–Ω–∞–ª–æ–≤: {
    signal: {
      reactionNotifications: "own", // –≤—ã–∫–ª | –≤—Å–µ | —Å–ø–∏—Å–æ–∫
      —Ä–µ–∞–∫—Ü–∏–∏ –†–∞–∑—Ä–µ—à–∏—Ç—å: ["+15551234567", "uuid:123e4567-e89b-12d3-a456-426614174000"],
      Limit: 50, // –≤–∫–ª—é—á–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ N –≥—Ä—É–ø–ø–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –≤–∏–¥–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (0 –æ—Ç–∫–ª—é—á–µ–Ω–∏–π)
    },
  },
}
```

–†–µ–∂–∏–º—ã –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –æ —Ä–µ–∞–∫—Ü–∏–∏:

- `off`: –±–µ–∑ —Å–æ–±—ã—Ç–∏–π —Ä–µ–∞–∫—Ü–∏–π.
- `own`: —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).
- `all`: –≤—Å–µ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è.
- `allowlist`: —Ä–µ–∞–∫—Ü–∏–∏ –∏–∑ `channels.signal.reactionAllowlist` –Ω–∞ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö (–ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –≤—ã–∫–ª—é—á–µ–Ω).

### `channels.imessage` (imsg CLI)

OpenClaw —Å–æ–∑–¥–∞–µ—Ç `imsg rpc` (JSON-RPC –Ω–∞–¥ stdio). –î–µ–º–æ–Ω –∏–ª–∏ –ø–æ—Ä—Ç –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

```json5
{
  channels: {
    imessage: {
      enabled: true,
      cliPath: "imsg",
      dbPath: "~/Library/Messages/chat. b",
      remoteHost: "user@gateway-host", // SCP –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –≤–ª–æ–∂–µ–Ω–∏–π –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –æ–±–æ–ª–æ—á–∫–∏ SSH
      dmPolicy: "pairing", // —Å–æ–ø—Ä—è–∂–µ–Ω–∏–µ | allowlist | open | disabled
      allowFrom: ["+15555550123", "user@example. om", "chat_id:123"],
      –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏: 50, // –≤–∫–ª—é—á–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ N –≥—Ä—É–ø–ø–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–∞–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ (0 –æ—Ç–∫–ª—é—á–µ–Ω–∏–π)
      includeAttachments: false,
      mediaMaxMb: 16,
      –£—Å–ª—É–≥–∏: "–ê–≤—Ç–æ",
      —Ä–µ–≥–∏–æ–Ω: "–°–®–ê",
    },
  },
}
```

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –∂–∏–≤–µ—Ç –≤ `channels.imessage.accounts` (—Å–º. —Ä–∞–∑–¥–µ–ª multi-account –≤—ã—à–µ).

Notes:

- –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ë–î —Å–æ–æ–±—â–µ–Ω–∏–π.
- –ü–µ—Ä–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –±—É–¥–µ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π.
- –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ `chat_id:<id>`. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `imsg chats --limit 20` –¥–ª—è —Å–ø–∏—Å–∫–∞ —á–∞—Ç–æ–≤.
- `channels.imessage.cliPath` –º–æ–∂–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —Å—Ü–µ–Ω–∞—Ä–∏–π wrapper (–Ω–∞–ø—Ä–∏–º–µ—Ä, `ssh` –Ω–∞ Mac, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç `imsg rpc`); –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª—é—á–∏ SSH –≤–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è.
- –î–ª—è —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –æ–±–æ–ª–æ—á–µ–∫ SSH —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `channels.imessage.remoteHost` —á—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å –≤–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ SCP –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ `includeAttachments`.

–ü—Ä–∏–º–µ—Ä –æ–±—ë—Ä—Ç–∫–∏:

```bash
#!/usr/bin/env bash
exec ssh -T gateway-host imsg "$@"
```

### `agents.defaults.workspace`

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç **–µ–¥–∏–Ω—É—é –≥–ª–æ–±–∞–ª—å–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é**, –∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –∞–≥–µ–Ω—Ç–æ–º –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏.

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `~/.openclaw/workspace`.

```json5
{
  agents: { defaults: { workspace: "~/.openclaw/workspace" } },
}
```

–ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞ `agents.defaults.sandbox`, –Ω–µ-–≥–ª–∞–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –º–æ–≥—É—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —ç—Ç–æ —Å –ø–æ–º–æ—â—å—é
—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π –≤ —Ä–∞–∑–¥–µ–ª–µ `agents.defaults.sandbox.workspaceRoot`.

### `agents.defaults.repoRoot`

–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ—Ä–µ–Ω—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç—Ä–æ–∫–µ Runtime –ø–æ–¥—Å–∫–∞–∑–∫–∏. –ï—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, OpenClaw
–ø—ã—Ç–∞–µ—Ç—Å—è –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥ `.git`, –≤—ã–π–¥—è –≤–≤–µ—Ä—Ö –∏–∑ —Ä–∞–±–æ—á–µ–π –æ–±–ª–∞—Å—Ç–∏ (–∏ —Ç–µ–∫—É—â–∏–π —Ä–∞–±–æ—á–∏–π –∫–∞—Ç–∞–ª–æ–≥
). –≠—Ç–æ—Ç –ø—É—Ç—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω.

```json5
{
  agents: { defaults: { repoRoot: "~/Projects/openclaw" } },
}
```

### `agents.defaults.skipBootstrap`

–û—Ç–∫–ª—é—á–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ (`AGENTS.md`, `SOUL.md`, `TOOLS.md`, `IDENTITY.md`, `USER.md`, `HEARTBEAT.md`, `BOOTSTRAP.md`).

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–º –≤–∞—à–∏ —Ñ–∞–π–ª—ã —Ä–∞–±–æ—á–µ–π –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

```json5
{
  agents: { defaults: { skipBootstrap: true } },
}
```

### `agents.defaults.bootstrapMaxChars`

–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤ –∫–∞–∂–¥–æ–≥–æ –∑–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —Ä–∞–±–æ—á–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤—Å—Ç–∞–≤–∫–∏ –≤ —Å–∏—Å—Ç–µ–º–Ω—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É
–ø–µ—Ä–µ–¥ —É—Å–µ—á–µ–Ω–∏–µ–º. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `20000`.

–ö–æ–≥–¥–∞ —Ñ–∞–π–ª –ø—Ä–µ–≤—ã—à–∞–µ—Ç —ç—Ç–æ—Ç –ª–∏–º–∏—Ç, OpenClaw –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∏ –≤–≤–æ–¥–∏—Ç —É—Å–µ—á–µ–Ω–Ω—ã–µ
–≥–æ–ª–æ–≤—ã/—Ö–≤–æ—Å—Ç —Å –º–∞—Ä–∫–µ—Ä–æ–º.

```json5
{
  agents: { defaults: { bootstrapMaxChars: 20000 } },
}
```

### `agents.defaults.userTimezone`

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è **–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞** (–Ω–µ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫ –≤ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ö —Å–æ–æ–±—â–µ–Ω–∏–π). –ï—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, OpenClaw –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å —Ö–æ—Å—Ç–∞ –≤–æ –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞.

```json5
{
  agents: { defaults: { userTimezone: "America/Chicago" } },
}
```

### `agents.defaults.timeFormat`

–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç **—Ñ–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏**, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–π –≤ —Ä–∞–∑–¥–µ–ª–µ –¢–µ–∫—É—â–∞—è –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è.
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `auto` (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –û–°).

```json5
–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç—ã –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```

### `—Å–æ–æ–±—â–µ–Ω–∏—è`

–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ/–∏—Å—Ö–æ–¥—è—â–∏–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã –∏ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∞–∫—Ü–∏–∏ ack .
–°–º–æ—Ç—Ä–∏—Ç–µ [Messages](/concepts/messages) –¥–ª—è –æ—á–µ—Ä–µ–¥–∏, —Å–µ—Å—Å–∏–π –∏ –ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

```json5
{
  messages: {
    responsePrefix: "ü¶û", // or "auto"
    ackReaction: "üëÄ",
    ackReactionScope: "group-mentions",
    removeAckAfterReply: false,
  },
}
```

`responsePrefix` –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ **–≤—Å–µ–º –∏—Å—Ö–æ–¥—è—â–∏–º –æ—Ç–≤–µ—Ç–∞–º** (—Å–≤–æ–¥–∫–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –±–ª–æ–∫
–ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ –≤–µ—â–∞–Ω–∏—è, –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã) –ø–æ –∫–∞–Ω–∞–ª–∞–º, –µ—Å–ª–∏ –æ–Ω–∏ –µ—â–µ –Ω–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç.

–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞ –∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞:

- `channels.<channel>.responsePrefix`
- `channels.<channel>.accounts.<id>.responsePrefix`

–ü–æ—Ä—è–¥–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (—Å–∞–º—ã–π —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):

1. `channels.<channel>.accounts.<id>.responsePrefix`
2. `channels.<channel>.responsePrefix`
3. `messages.responsePrefix`

–ü—Ä–∏ —Å–±–æ–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:

- `undefined` –ø—Ä–æ—Ö–æ–¥–∏—Ç –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å.
- `""` —è–≤–Ω–æ –æ—Ç–∫–ª—é—á–∞–µ—Ç –ø—Ä–µ—Ñ–∏–∫—Å –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–∞—Å–∫–∞–¥.
- `"auto"` –ø–æ–ª—É—á–∞–µ—Ç `[{identity.name}]` –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞.

–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ –≤—Å–µ–º –∫–∞–Ω–∞–ª–∞–º, –≤–∫–ª—é—á–∞—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –∏ –∫–æ –≤—Å–µ–º –∏—Å—Ö–æ–¥—è—â–∏–º –æ—Ç–≤–µ—Ç–∞–º.

–ï—Å–ª–∏ `messages.responsePrefix` –æ—Ç–∫–ª—é—á–µ–Ω, –ø—Ä–µ—Ñ–∏–∫—Å –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. WhatsApp self-chat
–û—Ç–≤–µ—Ç—ã —è–≤–ª—è—é—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º: –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–Ω–∏ `[{identity.name}]` –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ
`[openclaw]`, –ø–æ—ç—Ç–æ–º—É —Ä–∞–∑–Ω—ã–µ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã –æ—Å—Ç–∞—é—Ç—Å—è —Ä–∞–∑–±–æ—Ä—á–∏–≤—ã–º–∏.
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ–≥–æ –≤ `"auto"` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è `[{identity.name}]` –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ (–∫–æ–≥–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω).

#### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω–∞

–°—Ç—Ä–æ–∫–∞ `responsePrefix` –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å –≤ —Å–µ–±—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω–∞, –∫–æ—Ç–æ—Ä—ã–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è:

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è                        | Description                 | –ü—Ä–∏–º–µ—Ä                                     |
| --------------------------------- | --------------------------- | ------------------------------------------ |
| \`{model}                         | –ö–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏    | `claude-opus-4-6`, `gpt-4o`                |
| \`{modelFull}                     | –ü–æ–ª–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –º–æ–¥–µ–ª–∏ | `anthropic/claude-opus-4-6`                |
| \`{provider}                      | –ò–º—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞              | `–∞–Ω—Ç—Ä–æ–ø–∏—è`, `openai`                       |
| \`{thinkingLevel}                 | –¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –º—ã—à–ª–µ–Ω–∏—è    | `high`, `low`, `off`                       |
| \`{identity.name} | –ò–º—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞              | (—Ç–∞–∫ –∂–µ –∫–∞–∫ –∏ "auto"\`) |

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É (`{MODEL}` = `{model}`). `{think}` ‚Äî —ç—Ç–æ –ø—Å–µ–≤–¥–æ–Ω–∏–º –¥–ª—è `{thinkingLevel}`.
–ù–µ—Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –±—É–∫–≤–∞–ª—å–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º.

```json5
{
  messages: {
    responsePrefix: "[{model} | –¥—É–º–∞–µ—Ç:{thinkingLevel}]",
  },
}
```

–ü—Ä–∏–º–µ—Ä: `[claude-opus-4-6 | think:high] –í–æ—Ç –º–æ–π –æ—Ç–≤–µ—Ç...`

WhatsApp –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –≤—Ö–æ–¥—è—â–∏–π –ø—Ä–µ—Ñ–∏–∫—Å —á–µ—Ä–µ–∑ `channels.whatsapp.messagePrefix` (—É—Å—Ç–∞—Ä–µ–ª–æ:
`messages.messagePrefix`). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ—Å—Ç–∞–µ—Ç—Å—è **–Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º**: `"[openclaw]"`, –∫–æ–≥–¥–∞
`channels.whatsapp.allowFrom` –ø—É—Å—Ç, –∏–Ω–∞—á–µ `""` (–±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞). –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
`"[openclaw]"`, OpenClaw –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `[{identity.name}]`, –∫–æ–≥–¥–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä
–∞–≥–µ–Ω—Ç –∏–º–µ–µ—Ç –Ω–∞–±–æ—Ä `identity.name`.

`ackReaction` –ø–æ—Å—ã–ª–∞–µ—Ç —Ä–µ–∞–∫—Ü–∏—é —ç–º–æ–¥–∑–∏ –Ω–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
–Ω–∞ –∫–∞–Ω–∞–ª–∞—Ö, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏—Ö —Ä–µ–∞–∫—Ü–∏–∏ (Slack/Discord/Telegram/Google Chat). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `identity.emoji` –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞, –µ—Å–ª–∏ –∑–∞–¥–∞–Ω–æ, –∏–Ω–∞—á–µ `"üëÄ"`. –£—Å—Ç–∞–Ω–æ–≤–∏–ª `""` –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è.

`ackReactionScope` —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∏ –æ–≥–Ω–µ —Ä–µ–∞–∫—Ü–∏–π:

- `group-mentions` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é): —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –≥—Ä—É–ø–ø–∞/–∫–æ–º–Ω–∞—Ç–∞ —Ç—Ä–µ–±—É–µ—Ç —É–ø–æ–º–∏–Ω–∞–Ω–∏–π **–∏** –±–æ—Ç –±—ã–ª —É–ø–æ–º—è–Ω—É—Ç
- `group-–≤—Å–µ`: –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≥—Ä—É–ø–ø—ã/–∫–æ–º–Ω–∞—Ç—ã
- `direct`: —Ç–æ–ª—å–∫–æ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- `–≤—Å–µ`: –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è

`removeAckAfterReply` —É–¥–∞–ª—è–µ—Ç —Ä–µ–∞–∫—Ü–∏—é –Ω–∞ ack –±–æ—Ç–∞ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞
(–¢–æ–ª—å–∫–æ Sack/Discord/Telegram/Google —á–∞—Ç). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `false`.

#### `messages.tts`

–í–∫–ª—é—á–∏—Ç—å —Å–∏–Ω—Ç–µ–∑–∞—Ç–æ—Ä —Ä–µ—á–∏ –¥–ª—è –∏—Å—Ö–æ–¥—è—â–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤. –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ, OpenClaw –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∞—É–¥–∏–æ
—Å –ø–æ–º–æ—â—å—é ElevenLabs –∏–ª–∏ OpenAI –∏ –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç –µ–≥–æ –∫ –æ—Ç–≤–µ—Ç–∞–º. Telegram –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Opus
–≥–æ–ª–æ—Å–æ–≤—ã–µ –∑–∞–º–µ—Ç–∫–∏; –¥—Ä—É–≥–∏–µ –∫–∞–Ω–∞–ª—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç MP3 –∞—É–¥–∏–æ.

```json5
{
  messages: {
    tts: {
      auto: "always", // off | always | inbound | tagged
      mode: "final", // final | all (include tool/block replies)
      provider: "elevenlabs",
      summaryModel: "openai/gpt-4.1-mini",
      modelOverrides: {
        enabled: true,
      },
      maxTextLength: 4000,
      timeoutMs: 30000,
      prefsPath: "~/.openclaw/settings/tts.json",
      elevenlabs: {
        apiKey: "elevenlabs_api_key",
        baseUrl: "https://api.elevenlabs.io",
        voiceId: "voice_id",
        modelId: "eleven_multilingual_v2",
        seed: 42,
        applyTextNormalization: "auto",
        languageCode: "en",
        voiceSettings: {
          stability: 0.5,
          similarityBoost: 0.75,
          style: 0.0,
          useSpeakerBoost: true,
          speed: 1.0,
        },
      },
      openai: {
        apiKey: "openai_api_key",
        model: "gpt-4o-mini-tts",
        voice: "alloy",
      },
    },
  },
}
```

Notes:

- `messages.tts.auto` —É–ø—Ä–∞–≤–ª—è–µ—Ç auto-TTS (`off`, `always`, `inbound`, `tagged`).
- `/tts off|always|inbound|tagged` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–µ–∂–∏–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ –ø–µ—Ä-—Å–µ—Å—Å–∏–∏ (–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é).
- `messages.tts.enabled` - –¥–æ–∫—Ç–æ—Ä –º–∏–≥—Ä–∏—Ä—É–µ—Ç –≤ `messages.tts.auto`.
- `prefsPath` —Ö—Ä–∞–Ω–∏—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (provider/limit/summarize).
- `maxTextLength` ‚Äî –∂–µ—Å—Ç–∫–∞—è –∫–æ–ª–ø–∞—á–∫–∞ –¥–ª—è TTS; —Ä–µ–∑—é–º–µ —É—Å–µ–∫–∞—é—Ç—Å—è –ø–æ —Ñ–æ—Ä–º–µ.
- `summaryModel` –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç `agents.defaults.model.primary` –¥–ª—è –∞–≤—Ç–æ—Ä–µ–∑—é–º–µ.
  - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `provider/model` –∏–ª–∏ –∞–ª–∏–∞—Å –∏–∑ `agents.defaults.models`.
- `modelOverrides` –≤–∫–ª—é—á–∞–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π —Ç–∏–ø–∞ `[[tts:...]]` —Ç–µ–≥–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).
- `/tts limit` –∏ `/tts summary` –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –∑–∞ —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- –ó–Ω–∞—á–µ–Ω–∏—è `apiKey` –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ `ELEVENLABS_API_KEY`/`XI_API_KEY` –∏ `OPENAI_API_KEY`.
- `elevenlabs.baseUrl` –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –±–∞–∑–æ–≤—ã–π URL API ElevenLabs.
- `elevenlabs.voiceSettings` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `stability`/`similarityBoost`/`style` (0..1),
  `useSpeakerBoost`, –∏ `speed` (0.5..2.0).

### `–≥–æ–≤–æ—Ä–∏—Ç—å`

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —Ä–µ–∂–∏–º–∞ Talk (macOS/iOS/Android). –ì–æ–ª–æ—Å–æ–≤—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ `ELEVENLABS_VOICE_ID` –∏–ª–∏ `SAG_VOICE_ID` –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏.
`apiKey` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ `ELEVENLABS_API_KEY` (–∏–ª–∏ –ø—Ä–æ—Ñ–∏–ª—é –æ–±–æ–ª–æ—á–∫–∏ —à–ª—é–∑–∞), –∫–æ–≥–¥–∞ –æ–Ω –æ—Ç–∫–ª—é—á–µ–Ω.
`voiceAliases` –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–æ–≤–æ—Ä–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–∏–≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä `"voice":"Clawd"`).

```json5
{
  talk: {
    voiceId: "elevenlabs_voice_id",
    voiceAliases: {
      Clawd: "EXAVITQu4vr4xnSDxMaL",
      –†–æ–¥–∂–µ—Ä: "CwhRBWXzGAHq8TQ4Fs17",
    },
    modelId: "eleven_v3",
    outputFormat: "mp3_44100_128",
    apiKey: "elevenlabs_api_key",
    interruptOnSpeech: true,
  },
}
```

### `agents.defaults`

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–µ–º —Ä–∞–±–æ—Ç—ã –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ (–º–æ–¥–µ–ª–∏/–º—ã—à–ª–µ–Ω–∏–µ/–ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏/—Ç–∞–π–º-–∞—É—Ç—ã).
`agents.defaults.models` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ –º–æ–¥–µ–ª–µ–π (–∏ –≤—ã—Å—Ç—É–ø–∞–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ —Å–ø–∏—Å–∫–∞ –¥–ª—è `/model`).
`agents.defaults.model.primary` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –º–æ–¥–µ–ª—å; `agents.defaults.model.fallbacks` - –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ—Ç–∫–∞–∑—ã.
`agents.defaults.imageModel` —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –∏ **–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥–µ–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—Ä–∞–∑ –≤–≤–æ–¥–∞**.
–ö–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å `agents.defaults.models` –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å:

- `alias` (—è—Ä–ª—ã–∫ —Ñ–∞–∫—É–ª—å—Ç–∞—Ç–∏–≤–Ω–æ–π –º–æ–¥–µ–ª–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä `/opus`).
- `params` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã API, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –∑–∞–ø—Ä–æ—Å –º–æ–¥–µ–ª–∏).

`params` —Ç–∞–∫–∂–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –ø–æ—Ç–æ–∫–æ–≤—ã–º –∑–∞–ø—É—Å–∫–∞–º (embedded agent + compaction). –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å–µ–≥–æ–¥–Ω—è –∫–ª—é—á–∏: `temperature`, `maxTokens`. –≠—Ç–æ —Å–ª–∏—è–Ω–∏–µ —Å –æ–ø—Ü–∏—è–º–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–∑–æ–≤–∞; –∑–Ω–∞—á–µ–Ω–∏—è, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –∑–≤–æ–Ω—è—â–∏–º, –≤—ã–∏–≥—Ä–∞–ª–∏. `temperature` ‚Äî —ç—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —É–∑–µ–ª ‚Äî –æ—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª–µ –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –º–æ–¥–µ–ª–∏ –∏ –Ω–µ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å.

–ü—Ä–∏–º–µ—Ä:

```json5
{
  agents: {
    defaults: {
      models: {
        "anthropic/claude-sonnet-4-5-20250929": {
          params: { temperature: 0.6 },
        },
        "openai/gpt-5. ": {
          –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: { maxTokens: 8192 },
        },
      },
    },
  },
}
```

–ú–æ–¥–µ–ª–∏ GLM-4.x Z.AI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞—é—Ç —Ä–µ–∂–∏–º –º—ã—à–ª–µ–Ω–∏—è, –µ—Å–ª–∏ –≤—ã:

- —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `--thinking off`, –∏–ª–∏
- –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ `agents.defaults.models["zai/<model>"].params.thinking` —Å–µ–±—è.

OpenClaw —Ç–∞–∫–∂–µ –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∫–æ—Ä–æ—Ç–∫–æ—à–µ—Ä—Å—Ç–µ–π –∞–ª–∏–∞—Å–∞. –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –º–æ–¥–µ–ª—å —É–∂–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ `agents.defaults.models`.

- `opus` -> `anthropic/claude-opus-4-6`
- `sonnet` -> `anthropic/claude-sonnet-4-5`
- `gpt` -> `openai/gpt-5.2`
- `gpt-mini` -> `openai/gpt-5-mini`
- `gemini` -> `google/gemini-3-pro-preview`
- `gemini-flash` -> `google/gemini-3-flash-preview`

–ï—Å–ª–∏ –≤—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç–µ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –∏–º—è (–±–µ–∑ —É—á–µ—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞), —Ç–æ –≤–∞—à–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ).

–ü—Ä–∏–º–µ—Ä: Opus 4.6 –ø–µ—Ä–≤–∏—á–Ω–∞—è —Å —Ä–µ–∑–µ—Ä–≤–Ω—ã–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–º MiniMax M2.1 (hosted MiniMax):

```json5
{
  agents: {
    defaults: {
      models: {
        "anthropic/claude-opus-4-6": { alias: "opus" },
        "minimax/MiniMax-M2. ": { alias: "minimax" },
      },
      –º–æ–¥–µ–ª—å: {
        primary: "anthropic/claude-opus-4-6",
        fallbacks: ["minimax/MiniMax-M2. "],
      },
    },
  },
}
```

MiniMax –ê–≤—Ç–æ—Ä: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `MINIMAX_API_KEY` (ruv) –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ `models.providers.minimax`.

#### `agents.defaults.cliBackends` (CLI fallback)

–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ CLI backends –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (–±–µ–∑ –≤—ã–∑–æ–≤–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤). –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—É—Ç–∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
–ø—Ä–∏ —Å–±–æ–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ API. –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
`imageArg`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º.

Notes:

- –ë—ç–∫—ç–Ω–¥—ã CLI **text-first**; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤—Å–µ–≥–¥–∞ –æ—Ç–∫–ª—é—á–µ–Ω—ã.
- –°–µ—Å—Å–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ ¬´sessionArg¬ª; –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Å–µ—Å—Å–∏–π —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ –æ–¥–Ω–æ–º –±—ç–∫—ç–Ω–¥–µ.
- –î–ª—è `claude-cli` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è. –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—É—Ç—å –∫ –∫–æ–º–∞–Ω–¥–µ, –µ—Å–ª–∏ PATH –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π
  (launchd/systemd).

–ü—Ä–∏–º–µ—Ä:

```json5
{
  agents: {
    defaults: {
      cliBackends: {
        "claude-cli": {
          command: "/opt/homebrew/bin/claude",
        },
        "my-cli": {
          –∫–æ–º–∞–Ω–¥–∞: "my-cli",
          –∞—Ä–≥–æ–≤: ["--json"],
          –í—ã—Ö–æ–¥: "json",
          –û–±—Ä–∞–∑–µ—Ü –º–æ–¥–µ–ª–∏: "--model",
          –°–µ—Å—Å–∏—è: "--session",
          —Å–µ—Å—Å–∏–æ–Ω–Ω—ã–π —Ä–µ–∂–∏–º: "—Å—É—â–µ—Å—Ç–≤—É–µ—Ç",
          —Å–∏—Å—Ç–µ–º–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞: "--system",
          systemPrompt–∫–æ–≥–¥–∞: "first",
          imageArg: "--image",
          imageMode: "repeat",
        },
      },
    },
  },
}
```

```json5
{
  agents: {
    defaults: {
      models: {
        "anthropic/claude-opus-4-6": { alias: "Opus" },
        "anthropic/claude-sonnet-4-1": { alias: "Sonnet" },
        "openrouter/deepseek/deepseek-r1:free": {},
        "zai/glm-4. ": {
          –∞–ª–∏–∞—Å: "GLM",
          params: {
            thinking: {
              type: "enabled",
              clear_think : false,
            },
          },
        },
      },
      –º–æ–¥–µ–ª—å: {
        primary: "anthropic/claude-opus-4-6",
        fallbacks: [
          "openrouter/deepseek/deepseek-r1:free",
          "–û—Ç–∫—Ä—ã—Ç—ã–π —Ä–æ—É—Ç–µ—Ä/meta-llama/lama-3. -70b-instruct:free",
        ],
      },
      imageModel: {
        primary: "openrouter/qwen/qwen-2. -vl-72b-instruct:free",
        fallbacks: ["openrouter/google/gemini-2. -flash-vision:free"],
      },
      –¥—É–º–∞–µ—Ç: "low",
      verbose–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: "off", "off",
      –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: "–≤",
      —Ç–∞–π–º–∞–∞—É—Ç —Å–µ–∫—É–Ω–¥: 600,
      mediaMaxMb: 5,
      heartbeat: {
        every: "30m",
        —Ü–µ–ª—å: "–ø–æ—Å–ª–µ–¥–Ω–∏–π",
      },
      maxConcurrent: 3,
      subagents: {
        –º–æ–¥–µ–ª—å: "minimax/MiniMax-M2. ",
        maxConcurrent: 1,
        archiveAfterMinutes: 60,
      },
      exec: {
        backgroundMs: 10000,
        timeoutSec: 1800,
        –æ—á–∏—Å—Ç–∫–∏: 1800000,
      },
      –¢–æ–∫–µ–Ω–æ–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞: 200000,
    },
  },
}
```

#### `agents.defaults.contextPruning` (pruning)

`agents.defaults.contextPruning` prunes **—Å—Ç–∞—Ä—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤** –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ in-memory –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –∑–∞–ø—Ä–æ—Å–∞ –≤ LLM.
**–Ω–µ** –∏–∑–º–µ–Ω—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Å–µ—Å—Å–∏–π –Ω–∞ –¥–∏—Å–∫–µ (`*.jsonl` –æ—Å—Ç–∞–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–º).

–ü—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è —á–∞—Ç–Ω—ã—Ö, –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—â–∏—Ö —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º –±–æ–ª—å—à–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤—ã—Ö–æ–¥–∞.

–í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å:

- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–∞—Å–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è/–ø–æ–º–æ—â–Ω–∏–∫–∞.
- –ó–∞—â–∏—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–º–æ—â–Ω–∏–∫–æ–≤ keepLastAssistants (–Ω–∏–∫–∞–∫–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –Ω–µ –±—É–¥–µ—Ç).
- –ó–∞—â–∏—â–∞–µ—Ç –ø—Ä–µ—Ñ–∏–∫—Å –Ω–∞—á–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ (–Ω–∏—á—Ç–æ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –ø–µ—Ä–≤—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º).
- –†–µ–∂–∏–º—ã:
  - `–∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è`: –º—è–≥–∫–∏–µ —Ç—Ä–∏–º–±–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥–æ–ª–æ–≤—ã/—Ö–≤–æ—Å—Ç) –ø—Ä–∏ —Å–º–µ—Ç–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–º —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–∏ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç `softTrimRatio`.
    –ó–∞—Ç–µ–º —Ç–≤–µ—Ä–¥—ã–π –æ—á–∏—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–∞–º—ã—Ö —Å—Ç–∞—Ä—ã—Ö –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –∫–æ–≥–¥–∞ —Ä–∞—Å—á–µ—Ç–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç `hardClearRatio` **–∏**
    –µ—Å—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –æ–±—ä–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ prunable tool-result (`minPrunableToolChars`).
  - `–∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π`: –≤—Å–µ–≥–¥–∞ –∑–∞–º–µ–Ω—è–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–µ–¥ –≤—ã—Ö–æ–¥–æ–º –Ω–∞ "hardClear.placeholder" (–±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏).

Soft vs hard pruning (–∫–∞–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—ã–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã LLM):

- **Soft-trim**: —Ç–æ–ª—å–∫–æ –¥–ª—è _—á—Ä–µ–∑–º–µ—Ä–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–∞—á–∞–ª–æ + –∫–æ–Ω–µ—Ü –∏ –≤—Å—Ç–∞–≤–ª—è–µ—Ç `...` –≤ —Å–µ—Ä–µ–¥–∏–Ω—É.
  - –î–æ: `toolResult("‚Ä¶–æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–π –≤—ã–≤–æ–¥‚Ä¶")`
  - –ü–æ—Å–ª–µ: `toolResult("HEAD‚Ä¶\n...\n‚Ä¶TAIL\n\n[–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–µ: ‚Ä¶]")`
- **–°–ª–æ–∂–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å**: –∑–∞–º–µ–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—Å–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –Ω–∞ –º–µ—Å—Ç–æ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ–ª—è.
  - –î–æ: `toolResult("‚Ä¶–æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–π –≤—ã–≤–æ–¥‚Ä¶")`
  - –ü–æ—Å–ª–µ: `toolResult("[Old tool result content cleared]")`

–ü—Ä–∏–º–µ—á–∞–Ω–∏—è/–Ω—ã–Ω–µ—à–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ **–±–ª–æ–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –ø—Ä–æ–ø—É—â–µ–Ω—ã** (–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–æ–∫—Ä–∞—â–∞–µ—Ç—Å—è/–æ—á–∏—â–∞–µ—Ç—Å—è) –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å.
- –†–∞—Å—á–µ—Ç–Ω–æ–µ ¬´—Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞¬ª –æ—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ **—Å–∏–º–≤–æ–ª–∞—Ö** (–ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ), –∞ –Ω–µ –Ω–∞ —Ç–æ—á–Ω–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏.
- –ï—Å–ª–∏ –≤ —Å–µ–∞–Ω—Å–µ –µ—â–µ –Ω–µ—Ç —Ö–æ—Ç—è –±—ã "keepLastAssistants", —Ç–æ –ø—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–ø—É—â–µ–Ω.
- –í —Ä–µ–∂–∏–º–µ `aggressive` –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è `hardClear.enabled` (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤—Å–µ–≥–¥–∞ –∑–∞–º–µ–Ω—è—é—Ç—Å—è `hardClear.placeholder`).

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é (–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π):

```json5
{
  agents: { defaults: { contextPruning: { mode: "adaptive" } },
}
```

–î–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è:

```json5
{
  agents: { defaults: { contextPruning: { mode: "off" } },
}
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é (–∫–æ–≥–¥–∞ '—Ä–µ–∂–∏–º' —è–≤–ª—è–µ—Ç—Å—è '–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º' –∏–ª–∏ '–∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–º'):

- `keepLastAssistants`: `3`
- `softTrimRatio`: `0.3` (–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ç–æ–ª—å–∫–æ)
- `hardClearRatio`: `0.5` (–∞–¥–∞–ø—Ç–∏–≤–Ω–æ–µ —Ç–æ–ª—å–∫–æ)
- `minPrunableToolChars`: `50000` (—Ç–æ–ª—å–∫–æ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π)
- `softTrim`: `{ maxChars: 4000, headChars: 1500, tailChars: 1500 }` (—Ç–æ–ª—å–∫–æ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π)
- `hardClear`: `{ enabled: true, placeholder: "[Old tool result content cleared]" }`

–ü—Ä–∏–º–µ—Ä (–∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π):

```json5
{
  agents: { defaults: { contextPruning: { mode: "aggressive" } },
}
```

–ü—Ä–∏–º–µ—Ä (–∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞):

```json5
{
  agents: {
    defaults: {
      contextPruning: {
        mode: "adaptive",
        keepLastAssistants: 3,
        softTrimRatio: 0. ,
        hardClearRatio: 0. ,
        minPrunableToolChars: 50000,
        softTrim: { maxChars: 4000, headChars: 1500, tailChars: 1500 },
        hardClear: { –≤–∫–ª—é—á–µ–Ω: true, placeholder: "[Old tool result content cleared]" },
        // Optional: restrict pruning to specific tools (deny wins; –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç "*" —à–∞–±–ª–æ–Ω—ã)
        –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: { deny: ["browser", "canvas"] },
      },
    },
  },
}
```

–°–º. [/concepts/session-pruning](/concepts/session-pruning) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –ø–æ–≤–µ–¥–µ–Ω–∏—è.

#### `agents.defaults.compaction` (–∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞—Ç—å –≥–æ–ª–æ–≤–Ω–æ–π —É–±–æ—Ä + —Ñ–ª–µ—à –ø–∞–º—è—Ç–∏)

`agents.defaults.compaction.mode` –≤—ã–±–∏—Ä–∞–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `default`; —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `safeguard`, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –æ–±–æ–±—â–µ–Ω–∏–µ –≤ —á–∞–Ω–∫–∞—Ö –¥–ª—è –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π. –°–º. [/concepts/compaction](/concepts/compaction).

`agents.defaults.compaction.reserveTokensFloor` —Å–æ–∑–¥–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `reserveTokens`
–¥–ª—è Pi —É–ø–ª–æ—Ç–Ω–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `20000`). –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–∞ ¬´0¬ª, —á—Ç–æ–±—ã –æ—Ç–∫–ª—é—á–∏—Ç—å —ç—Ç–∞–∂.

`agents.defaults.compaction.memoryFlush` –≤—ã–ø–æ–ª–Ω—è–µ—Ç **—Ç–∏—Ö–∏–π** –∞–≥–µ–Ω—Ç–Ω—ã–π —Ö–æ–¥ –ø–µ—Ä–µ–¥ –∞–≤—Ç–æ-—Å–∂–∞—Ç–∏–µ–º, –∏–Ω—Å—Ç—Ä—É–∫—Ç–∏—Ä—É—è –º–æ–¥–µ–ª—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–º—è—Ç—å –Ω–∞ –¥–∏—Å–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `memory/YYYY-MM-DD.md`). –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç, –∫–æ–≥–¥–∞ –æ—Ü–µ–Ω–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤ —Å–µ—Å—Å–∏–∏ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç –º—è–≥–∫–∏–π –ø–æ—Ä–æ–≥ –Ω–∏–∂–µ –ª–∏–º–∏—Ç–∞ —Å–∂–∞—Ç–∏—è.

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:

- `memoryFlush.enabled`: `true`
- `memoryFlush.softThresholdTokens`: `4000`
- `memoryFlush.prompt` / `memoryFlush.systemPrompt`: –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ñ–∞–π–ª `NO_REPLY`
- –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: —Å–±—Ä–æ—Å –ø–∞–º—è—Ç–∏ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —Ä–∞–±–æ—á–µ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —Å–µ—Å—Å–∏–∏ –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è (`agents.defaults.sandbox.workspaceAccess: "ro"` –∏–ª–∏ `"none"`).

–ü—Ä–∏–º–µ—Ä (–Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π):

```json5
{
  agents: {
    defaults: {
      compaction: {
        mode: "safeguard",
        reserveTokensFloor: 24000,
        memoryFlush: {
          –≤–∫–ª—é—á–µ–Ω: true,
          –¢–æ–∫–µ–Ω—ã —Å –º—è–≥–∫–∏–º –ø–æ—Ä–æ–≥–æ–º: 6000,
          –°–∏—Å—Ç–µ–º–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞: "–°–µ—Å—Å–∏—è –±–ª–∏–∑–∫–∞ –∫ —É–ø–ª–æ—Ç–Ω–µ–Ω–∏—é. –°–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–æ–ª–≥–æ–≤–µ—á–Ω—ã–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è.",
          –ø–æ–¥—Å–∫–∞–∑–∫–∞: "–ù–∞–ø–∏—à–∏—Ç–µ –ª—é–±—ã–µ –¥–æ–ª–≥–æ–≤–µ—á–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏ –≤ –ø–∞–º—è—Ç–∏/YYY-MM-DD. d; –æ—Ç–≤–µ—Ç—å—Ç–µ —Å NO_REPLY, –µ—Å–ª–∏ –Ω–µ—á–µ–≥–æ —Ö—Ä–∞–Ω–∏—Ç—å. ,
        },
      },
    },
  },
}
```

–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ –≤–µ—â–∞–Ω–∏—è:

- `agents.defaults.blockStreamingDefault`: `"on"`/`"off"` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–∫–ª—é—á–µ–Ω–æ).

- –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞: `*.blockStreaming` (–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞) –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ –≤–µ—â–∞–Ω–∏—è.
  –ö–∞–Ω–∞–ª—ã –Ω–µ Telegram —Ç—Ä–µ–±—É—é—Ç —è–≤–Ω–æ–≥–æ `*.blockStreaming: true` –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –±–ª–æ–∫–∏.

- `agents.defaults.blockStreamingBreak`: `"text_end"` –∏–ª–∏ `"message_end"` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: text_end).

- `agents.defaults.blockStreamingChunk`: –º—è–≥–∫–∏–π –∫—É—Å–æ–∫ –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤—ã—Ö –±–ª–æ–∫–æ–≤. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
  800‚Äì1200 —Å–∏–º–≤–æ–ª–æ–≤, –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç —Ä–∞–∑—Ä—ã–≤—ã –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞ (`\n\n`), –∑–∞—Ç–µ–º –Ω–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏, –∞ –∑–∞—Ç–µ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.
  –ü—Ä–∏–º–µ—Ä:

  ```json5
  {
    agents: { blockStreamingChunk: { minChars: 800, maxChars: 1200 } } },
  }
  ```

- `agents.defaults.blockStreamingCoalesce`: –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –ø–æ—Ç–æ–∫–æ–≤—ã–µ –±–ª–æ–∫–∏ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π.
  –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `{ idleMs: 1000 }` –∏ –Ω–∞—Å–ª–µ–¥—É–µ—Ç `minChars` –∏–∑ `blockStreamingChunk`
  —Å `maxChars` –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∫–∞–Ω–∞–ª–∞. –°–∏–≥–Ω–∞–ª/Slack/Discord/Google —á–∞—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  –Ω–∞ `minChars: 1500` –±–µ–∑ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è.
  –ö–∞–Ω–∞–ª –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω: `channels.whatsapp.blockStreamingCoalesce`, `channels.telegram.blockStreamingCoalesce`,
  `channels.discord.blockStreamingCoalesce`, `channels.slack.blockStreamingCoalesce`, `channels.mattermost.blockStreamingCoalesce`,
  `channels.blockStreamingCoalesce`, `channels.imessage.blockStreamingCoalesce`, `channels.msteams.blockStreamingCoalesce`,
  `, `channels.googlechat.blockStreamingCoalesce\`
  (–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã-–∞–∫–∫–∞—É–Ω—Ç—ã).

- `agents.defaults.humanDelay`: —Å–ª—É—á–∞–π–Ω–∞—è –ø–∞—É–∑–∞ –º–µ–∂–¥—É **–æ—Ç–≤–µ—Ç–∞–º–∏ –±–ª–æ–∫–∞** –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ.
  –†–µ–∂–∏–º—ã: `off` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), `natural` (800‚Äì2500ms), `custom` (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `minMs`/`maxMs`).
  Per-agent override: `agents.list[].humanDelay`.
  –ü—Ä–∏–º–µ—Ä:

  ```json5
  {
    agents: { humanDelay: { mode: "natural" } },
  }
  ```

  –°–º. [/concepts/streaming](/concepts/streaming) –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–≤–µ–¥–µ–Ω–∏–∏ + —á–∞–Ω–∫–∞—Ö.

–ù–∞–±–∏—Ä–∞–µ–º—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:

- `agents.defaults.typingMode`: `"–Ω–∏–∫–æ–≥–¥–∞" | "–º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π" | "–¥—É–º–∞—é—â–∏–π" | "message"`. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
  `instant` –¥–ª—è –ø—Ä—è–º—ã—Ö —á–∞—Ç–æ–≤/—É–ø–æ–º–∏–Ω–∞–Ω–∏–π –∏ `message` –¥–ª—è –Ω–µ—É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤.
- `session.typingMode`: –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–µ–∞–Ω—Å–∞ –¥–ª—è —Ä–µ–∂–∏–º–∞.
- `agents.defaults.typingIntervalSeconds`: –∫–∞–∫ —á–∞—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–µ—á–∞—Ç–Ω—ã–π —Å–∏–≥–Ω–∞–ª (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 6s).
- `session.typingIntervalSeconds`: –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Å–µ–∞–Ω—Å–∞ –¥–ª—è –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
  –°–º. [/concepts/typing-indicators](/concepts/typing-indicators) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –ø–æ–≤–µ–¥–µ–Ω–∏—è.

–ü–µ—Ä–≤–∏—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ `agents.defaults.model.primary` —Å–ª–µ–¥—É–µ—Ç –∑–∞–¥–∞—Ç—å –∫–∞–∫ `provider/model` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `anthropic/claude-opus-4-6`).
–ü—Å–µ–≤–¥–æ–Ω–∏–º—ã –ø–æ–ª—É—á–µ–Ω—ã –æ—Ç `agents.defaults.models.*.alias` (–Ω–∞–ø—Ä–∏–º–µ—Ä `Opus`).
–ï—Å–ª–∏ –≤—ã –æ–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞, OpenClaw –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç, —á—Ç–æ `anthropic` —è–≤–ª—è–µ—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω—ã–º
—É—Å—Ç–∞—Ä–µ–≤—à–∏–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–º.
–ú–æ–¥–µ–ª–∏ Z.AI –¥–æ—Å—Ç—É–ø–Ω—ã –∫–∞–∫ `zai/<model>(–Ω–∞–ø—Ä–∏–º–µ—Ä `zai/glm-4.7`) –∏ —Ç—Ä–µ–±—É—é—Ç
`ZAI_API_KEY`(–∏–ª–∏ —Å—Ç–∞—Ä–æ–µ`Z_AI_API_KEY\`) –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏.

`agents.defaults.heartbeat` –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ heartbeat –∑–∞–ø—É—Å–∫–∞:

- `every`: –¥–ª–∏—Ç–µ–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ (`ms`, `s`, `m`, `h`); –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:
  `30m`. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `0m` –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è.
- `model`: —Ñ–∞–∫—É–ª—å—Ç–∞—Ç–∏–≤–Ω–∞—è –º–æ–¥–µ–ª—å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ–±–µ–≥–æ–≤ heartbeat (`provider/model`).
- `includeReasoning`: –∫–æ–≥–¥–∞ `true`, heartbeats —Ç–∞–∫–∂–µ –¥–æ—Å—Ç–∞–≤—è—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ `Reasoning:`, –∫–æ–≥–¥–∞ –æ–Ω–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ (—Ç–∞ –∂–µ —Ñ–∏–≥—É—Ä–∞, —á—Ç–æ –∏ `/reasoning on`). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `false`.
- `session`: —Ñ–∞–∫—É–ª—å—Ç–∞—Ç–∏–≤–Ω—ã–π –∫–ª—é—á —Å–µ—Å—Å–∏–∏ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è, –Ω–∞ –∫–∞–∫–æ–π —Å–µ—Å—Å–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ—Ä–¥–µ—á–Ω—ã–π –±–æ—Ç. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `main`.
- `to`: –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ–ª—É—á–∞—Ç–µ–ª—å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω (–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä E.164 –¥–ª—è WhatsApp, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —á–∞—Ç–∞ –¥–ª—è Telegram).
- `target`: —Ñ–∞–∫—É–ª—å—Ç–∞—Ç–∏–≤–Ω—ã–π –∫–∞–Ω–∞–ª –¥–æ—Å—Ç–∞–≤–∫–∏ (`last`, `whatsapp`, `telegram`, `discord`, `slack`, `msteams`, `signal`, `imessage`, `none`). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `last`.
- `prompt`: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –¥–ª—è —Ç–µ–ª–∞ heartbeat (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `Read HEARTBEAT.md, –µ—Å–ª–∏ –æ–Ω —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–æ–±–ª–∞—Å—Ç—å —Ä–∞–±–æ—á–µ–π –æ–±–ª–∞—Å—Ç–∏). Follow it strictly. Do not infer or repeat old tasks from prior chats. If nothing needs attention, reply HEARTBEAT_OK.`). –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –¥–æ—Å–ª–æ–≤–Ω–æ; –µ—Å–ª–∏ –≤—ã –≤—Å–µ –µ—â–µ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª —Å—Ç—Ä–æ–∫–æ–π `Read HEARTBEAT.md`.
- `ackMaxChars`: –º–∞–∫—Å–∏–º—É–º —Å–∏–º–≤–æ–ª–æ–≤, —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ `HEARTBEAT_OK` –ø–µ—Ä–µ–¥ –¥–æ—Å—Ç–∞–≤–∫–æ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 300).

Heartbeat –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞:

- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `agents.list[].heartbeat`, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –∏–ª–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ heartbeat –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞.
- –ï—Å–ª–∏ –∫–∞–∫–∞—è-–ª–∏–±–æ –∑–∞–ø–∏—Å—å –∞–≥–µ–Ω—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç `heartbeat`, **—Ç–æ–ª—å–∫–æ —ç—Ç–∏ –∞–≥–µ–Ω—Ç—ã** –≤—ã–ø–æ–ª–Ω—è—é—Ç heartbeat; –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –æ–±—â–µ–π –±–∞–∑–æ–π –¥–ª—è —ç—Ç–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤.

Heartbeat –≤—ã–ø–æ–ª–Ω—è—é—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ —Ö–æ–¥—ã –∞–≥–µ–Ω—Ç–∞. –ë–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã —Ä–∞—Å—Ö–æ–¥—É—é—Ç –±–æ–ª—å—à–µ —Ç–æ–∫–µ–Ω–æ–≤; —É—á–∏—Ç—ã–≤–∞–π—Ç–µ `every`, –¥–µ—Ä–∂–∏—Ç–µ `HEARTBEAT.md` –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –∏/–∏–ª–∏ –≤—ã–±–∏—Ä–∞–π—Ç–µ –±–æ–ª–µ–µ –¥–µ—à—ë–≤—É—é `model`.

`tools.exec` –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ñ–æ–Ω–æ–≤—ã–π exec –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

- `backgroundMs`: –≤—Ä–µ–º—è –ø–µ—Ä–µ–¥ –∞–≤—Ç–æ-—Ñ–æ–Ω–æ–º (–º—Å, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10000)
- `timeoutSec`: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (—Å–µ–∫—É–Ω–¥—ã, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1800)
- `cleanupMs`: –∫–∞–∫ –¥–æ–ª–≥–æ —Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –≤ –ø–∞–º—è—Ç–∏ (–º—Å, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1800000)
- `notifyOnExit`: –¥–æ–±–∞–≤–∏—Ç—å –≤ –æ—á–µ—Ä–µ–¥—å —Å–∏—Å—Ç–µ–º–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ + –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å heartbeat –ø—Ä–∏ –≤—ã—Ö–æ–¥–∞—Ö –Ω–∞ —Ñ–æ–Ω–µ exec (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true)
- `applyPatch.enabled`: –≤–∫–ª—é—á–∏—Ç—å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π `apply_patch` (—Ç–æ–ª—å–∫–æ OpenAI/OpenAI Codex; false)
- `applyPatch.allowModels`: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–æ–ø—É—Å—Ç–∏–º—ã–π —Å–ø–∏—Å–æ–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –º–æ–¥–µ–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `gpt-5.2` –∏–ª–∏ `openai/gpt-5.2`)
  –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: `apply yPatch` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ `tools.exec`.

`tools.web` –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≤–µ–±-–ø–æ–∏—Å–∫ + –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤—ã–±–æ—Ä–∫–∏:

- `tools.web.search.enabled` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: true –∫–æ–≥–¥–∞ –∫–ª—é—á –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç)
- `tools.web.search.apiKey` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ `openclaw configure --section web`, –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `BRAVE_API_KEY` ruv var)
- `tools.web.search.maxResults` (1‚Äì10, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5)
- `tools.web.search.timeoutSeconds` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 30)
- `tools.web.search.cacheTtlMinutes` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 15)
- `tools.web.fetch.enabled` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `tools.web.fetch.maxChars` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50000)
- `tools.web.fetch.maxCharsCap` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50000; –∑–∞–∫–ª–∏–Ω–∞–Ω–∏—è maxChars –∏–∑ config/tool calls)
- `tools.web.fetch.timeoutSeconds` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 30)
- `tools.web.fetch.cacheTtlMinutes` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 15)
- `tools.web.fetch.userAgent` (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ)
- `tools.web.fetch.readability` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true; –æ—Ç–∫–ª—é—á–∏—Ç–µ, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—É—é HTML-–æ—á–∏—Å—Ç–∫—É)
- `tools.web.fetch.firecrawl.enabled` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∫–ª—é—á API)
- `tools.web.fetch.firecrawl.apiKey` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ; –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `FIRECRAWL_API_KEY`)
- `tools.web.fetch.firecrawl.baseUrl` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é [https://api.firecrawl.dev](https://api.firecrawl.dev))
- `tools.web.fetch.firecrawl.onlyMainContent` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true)
- `tools.web.fetch.firecrawl.maxAgeMs` (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `tools.web.fetch.firecrawl.timeoutSeconds` (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

`tools.media` –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≤—Ö–æ–¥–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –º–µ–¥–∏–∞ (image/audio/video):

- `tools.media.models`: –æ–±—â–∏–π —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª; –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–ø–∏—Å–∫–æ–≤ per-cap).
- `tools.media.concurrency`: –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 2).
- `tools.media.image` / `tools.media.audio` / `tools.media.video`:
  - `–≤–∫–ª—é—á–µ–Ω–æ`: –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∫–æ–≥–¥–∞ –º–æ–¥–µ–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã).
  - `prompt`: –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ (image/video –¥–æ–±–∞–≤—å—Ç–µ –ø–æ–¥—Å–∫–∞–∑–∫—É `maxChars` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏).
  - `maxChars`: –º–∞–∫—Å. —Å–∏–º–≤–æ–ª—ã –≤—ã–≤–æ–¥–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 500 –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è/–≤–∏–¥–µ–æ; unset for audio).
  - `maxBytes`: –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –º—É–ª—å—Ç–∏–º–µ–¥–∏–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 10MB, –∞—É–¥–∏–æ 20MB, –≤–∏–¥–µ–æ 50MB).
  - `timeoutSeconds`: –∑–∞–ø—Ä–æ—Å —Ç–∞–π–º–∞—É—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 60s, –∞—É–¥–∏–æ 60s, –≤–∏–¥–µ–æ 120).
  - `language`: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∞—É–¥–∏–æ–ø–æ–¥—Å–∫–∞–∑–∫–∞.
  - `–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è`: –ø–æ–ª–∏—Ç–∏–∫–∞ –≤–ª–æ–∂–µ–Ω–∏–π (`—Ä–µ–∂–∏–º`, `maxAttachments`, `prefer`).
  - `scope`: –≤–æ—Ä–æ—Ç–∞ (–ø–µ—Ä–≤—ã–π –º–∞—Ç—á –≤—ã–∏–≥—Ä–∞–µ—Ç) —Å `match.channel`, `match.chatType`, –∏–ª–∏ `match.keyPrefix`.
  - `models`: —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–æ–¥–µ–ª–∏; –Ω–µ—É–¥–∞—á–∏ –∏–ª–∏ —á—Ä–µ–∑–º–µ—Ä–Ω—ã–µ –º–µ–¥–∏–∞-—Ñ–∞–π–ª—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∫ —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–ø–∏—Å–∏.
- –ö–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å `models[]`:
  - –ü—Ä–æ–≤–∞–π–¥–µ—Ä (`type: "provider"` –∏–ª–∏ –æ–ø—É—â–µ–Ω–æ):
    - `provider`: ID API –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (`openai`, `anthropic`, `google`/`gemini`, `groq` –∏ —Ç.–¥.).
    - `model`: –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –º–æ–¥–µ–ª–∏ (–Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è; –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `gpt-4o-mini-transcribe`/`whisper-large-v3-turbo` –¥–ª—è –∞—É–¥–∏–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∏ `gemini-3-flash-preview` –¥–ª—è –≤–∏–¥–µ–æ).
    - `profile` / `preferredProfile`: –≤—ã–±–æ—Ä –ø—Ä–æ—Ñ–∏–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.
  - –ó–∞–ø–∏—Å—å CLI (`type: "cli"`):
    - `command`: –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π –¥–ª—è –∑–∞–ø—É—Å–∫–∞.
    - `args`: —à–∞–±–ª–æ–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `{{MediaPath}}`, `{{Prompt}}`, `{{MaxChars}}`, –∏ —Ç.–¥.).
  - `capabilities`: –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ (`image`, `audio`, `video`), —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –æ–±—â—É—é –∑–∞–ø–∏—Å—å. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ `openai`/`anthropic`/`minimax` ‚Üí –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, `google` ‚Üí image+audio+video, `groq` ‚Üí –∞—É–¥–∏–æ.
  - `prompt`, `maxChars`, `maxBytes`, `timeoutSeconds`, `language` –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏.

–ï—Å–ª–∏ –Ω–∏ –æ–¥–Ω–∞ –º–æ–¥–µ–ª—å –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ (–∏–ª–∏ `–≤–∫–ª—é—á–µ–Ω–∞: false`), –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–æ–ø—É—â–µ–Ω–æ; –º–æ–¥–µ–ª—å –≤—Å–µ –µ—â–µ –ø–æ–ª—É—á–∞–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –≤–ª–æ–∂–µ–Ω–∏—è.

–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É (–ø—Ä–æ—Ñ–∏–ª–∏ auth, env vars `OPENAI_API_KEY`/`GROQ_API_KEY`/`GEMINI_API_KEY`, –∏–ª–∏ `models.providers.*.apiKey`).

–ü—Ä–∏–º–µ—Ä:

```json5
{
  tools: {
    media: {
      audio: {
        enabled: true,
        –º–∞–∫—Å. –±–∞–π—Ç: 20971520,
        –æ–±–ª–∞—Å—Ç—å: {
          –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: "deny",
          –ø—Ä–∞–≤–∏–ª: [{ Action: "allow", match: { chatType: "direct" } }],
        },
        –º–æ–¥–µ–ª–∏ [
          { –ø—Ä–æ–≤–∞–π–¥–µ—Ä: "openai", –º–æ–¥–µ–ª—å: "gpt-4o-mini-transcribe" },
          { type: "cli", command: "whisper", args: ["--model", "base", "{{MediaPath}}"] },
        ],
      },
      –≤–∏–¥–µ–æ: {
        –≤–∫–ª—é—á–µ–Ω–æ: true,
        maxBytes: 52428800,
        –º–æ–¥–µ–ª–∏: [{ provider: "google", –º–æ–¥–µ–ª—å: "gemini-3-flash-–ø—Ä–µ–≤—å—é" }],
      },
    },
  },
}
```

`agents.defaults.subagents` –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

- `–º–æ–¥–µ–ª—å`: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è —Å—É–±–∞–≥–µ–Ω—Ç–æ–≤ (string –∏–ª–∏ `{ primary, fallbacks }`). –ï—Å–ª–∏ —Å—É–±–∞–≥–µ–Ω—Ç—ã —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–ª–∏ –º–æ–¥–µ–ª—å –∫–ª–∏–µ–Ω—Ç–∞, –µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω –ø–æ –∫–∞–∂–¥–æ–º—É –∞–≥–µ–Ω—Ç—É –∏–ª–∏ –ø–æ –∑–≤–æ–Ω–æ–∫—É.
- `maxConcurrent`: –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ –ø–æ–¥–∞–≥–µ–Ω—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1)
- `archiveAfterMinutes`: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π —Å—É–±–∞–≥–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ N –º–∏–Ω—É—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 60; —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `0` —á—Ç–æ–±—ã –≤—ã–∫–ª—é—á–∏—Ç—å)
- –ü–æ–ª–∏—Ç–∏–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø–æ–¥–∞–≥–µ–Ω—Ç—Å—Ç–≤–∞: `tools.subagents.tools.allow` / `tools.subagents.tools.deny` (–∑–∞–ø—Ä–µ—Ç–∏—Ç—å –≤—ã–∏–≥—Ä—ã—à)

`tools.profile` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç **–±–∞–∑–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç allowlist** –ø–µ—Ä–µ–¥ `tools.allow`/`tools.deny`:

- `minimal`: —Ç–æ–ª—å–∫–æ `session_status`
- `coding`: `group:fs`, `group:runtime`, `group:sessions`, `group:memory`, `image`
- `messaging`: `group:messaging`, `sessions_list`, `sessions_history`, `sessions_send`, `session_status`
- `full`: –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π (—Ç–æ –∂–µ, —á—Ç–æ –∏ unset)

–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è –∞–≥–µ–Ω—Ç–∞: `agents.list[].tools.profile`.

–ü—Ä–∏–º–µ—Ä (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏—è, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã Slack + Discord):

```json5
{
  tools: {
    profile: "messaging",
    allow: ["slack", "discord"],
  },
}
```

–ü—Ä–∏–º–µ—Ä (–ø—Ä–æ—Ñ–∏–ª—å –¥–ª—è –∫–æ–¥–∏–Ω–≥–∞, –Ω–æ –∑–∞–ø—Ä–µ—Ç exec/process –≤–µ–∑–¥–µ):

```json5
{
  tools: {
    profile: "coding",
    deny: ["group:runtime"],
  },
}
```

`tools.byProvider` –ø–æ–∑–≤–æ–ª—è–µ—Ç **–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å** –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (–∏–ª–∏ –æ–¥–∏–Ω `provider/model`).
–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è –∞–≥–µ–Ω—Ç–∞: `agents.list[].tools.byProvider`.

–ó–∞–∫–∞–∑: –±–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å ‚Üí –ø—Ä–æ—Ñ–∏–ª—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ ‚Üí —Ä–∞–∑—Ä–µ—à–∏—Ç—å/–∑–∞–ø—Ä–µ—Ç–∏—Ç—å –ø–æ–ª–∏—Ç–∏–∫–∏.
–ö–ª—é—á–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –ø—Ä–∏–Ω–∏–º–∞—é—Ç `provider` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `google-antigravity`) –∏–ª–∏ `provider/model`
(–Ω–∞–ø—Ä–∏–º–µ—Ä, `openai/gpt-5.2`).

–ü—Ä–∏–º–µ—Ä (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –∫–æ–¥–∏–Ω–≥–∞, –Ω–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è Google Antigravity):

```json5
{
  tools: {
    profile: "coding",
    byProvider: {
      "google-antigravity": { profile: "minimal" },
    },
  },
}
```

–ü—Ä–∏–º–µ—Ä (–¥–æ–ø—É—Å—Ç–∏–º—ã–π —Å–ø–∏—Å–æ–∫/–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–æ–¥–µ–ª—å):

```json5
{
  tools: {
    allow: ["group:fs", "group:runtime", "sessions_list"],
    byProvider: {
      "openai/gpt-5.2": { allow: ["group:fs", "sessions_list"] },
    },
  },
}
```

`tools.allow` / `tools.deny` –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç allow/deny policy (–∑–∞–ø—Ä–µ—Ç–∏—Ç—å –ø–æ–±–µ–¥—ã).
–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–µ –∑–Ω–∞–∫–∏ `*` (`"*"` –æ–∑–Ω–∞—á–∞–µ—Ç –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã).
–≠—Ç–æ –ø—Ä–∏–º–µ–Ω–∏–º–æ, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–µ—Å–æ—á–Ω–∏—Ü–∞ Docker **–≤—ã–∫–ª—é—á–µ–Ω**.

–ü—Ä–∏–º–µ—Ä (–æ—Ç–∫–ª—é—á–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä/—Ö–æ–ª—Å—Ç –≤–µ–∑–¥–µ):

```json5
{
  tools: { deny: ["browser", "canvas"] },
}
```

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–∫–æ—Ä–æ—Ç–∫–∏–µ) —Ä–∞–±–æ—Ç–∞—é—Ç –≤ **–≥–ª–æ–±–∞–ª—å–Ω—ã—Ö** –∏ **–æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤** –ø–æ–ª–∏—Ç–∏–∫–∞—Ö:

- `group:runtime`: `exec`, `bash`, `process`
- `group:fs`: `read`, `write`, `edit`, `apply_patch`
- `group:sessions`: `sessions_list`, `sessions_history`, `sessions_send`, `sessions_spawn`, `session_status`
- `group:memory`: `memory_search`, `memory_get`
- `group:web`: `web_search`, `web_fetch`
- `group:ui`: `browser`, `canvas`
- `group:automation`: `cron`, `gateway`
- `group:messaging`: `message`
- `group:nodes`: `nodes`
- `group:openclaw`: –≤—Å–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã OpenClaw (–∏—Å–∫–ª—é—á–∞—è –ø–ª–∞–≥–∏–Ω—ã –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤)

`tools.elevated` —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–≤—ã—à–µ–Ω (host) –¥–æ—Å—Ç—É–ø –∫ exec —Å–µ—Ä–≤–µ—Ä—É:

- `–≤–∫–ª—é—á–µ–Ω–æ`: —Ä–∞–∑—Ä–µ—à–∏—Ç—å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `allowFrom`: –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–ø–∏—Å–∫–∏ (–ø—É—Å—Ç–æ = –æ—Ç–∫–ª—é—á–µ–Ω–æ)
  - `whatsapp`: –ï.164 —Ü–∏—Ñ—Ä—ã
  - `telegram`: –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —á–∞—Ç–∞ –∏–ª–∏ –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - `discord`: –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ `channels.discord.dm.allowFrom`, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ)
  - `—Å–∏–≥–Ω–∞–ª`: E.164 —Ü–∏—Ñ—Ä—ã
  - `imessage`: –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏/—á–∞—Ç–∞
  - `webchat`: –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Å–µ—Å—Å–∏–∏ –∏–ª–∏ –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–ü—Ä–∏–º–µ—Ä:

```json5
{
  tools: {
    elevated: {
      enabled: true,
      allowFrom: {
        whatsapp: ["+15555550123"],
        —Ä–∞–∑–Ω–æ–≥–ª–∞—Å–∏—è: ["steipete", "1234567890123"],
      },
    },
  },
}
```

–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞ (–¥–∞–ª—å–Ω–µ–π—à–µ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ):

```json5
{
  agents: {
    list: [
      {
        id: "family",
        –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: {
          –ø–æ–≤—ã—à–µ–Ω–æ: { enabled: false },
        },
      },
    ],
  },
}
```

Notes:

- `tools.elevated` —è–≤–ª—è–µ—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–æ–π –±–∞–∑–æ–π. `agents.list[].tools.elevated` –º–æ–∂–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–∞–ª—å–Ω–µ–π—à–µ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ (–æ–±–∞ –¥–æ–ª–∂–Ω–æ –¥–æ–ø—É—Å–∫–∞—Ç—å).
- `/elevated –≤|off|ask|full` —Ö—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª—é—á–∞ —Å–µ—Å—Å–∏–∏; –∫ –æ–¥–Ω–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã.
- –ü–æ–≤—ã—à–µ–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å `exec` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ —Ö–æ—Å—Ç–µ –∏ –æ–±—Ö–æ–¥–∏—Ç –ø–µ—Å–æ—á–Ω–∏—Ü—É.
- –ü–æ–ª–∏—Ç–∏–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤—Å–µ –µ—â–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è; –µ—Å–ª–∏ "exec" –æ—Ç—Ä–∏—Ü–∞–µ—Ç—Å—è, —Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–≤—ã—à–µ–Ω–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.

`agents.defaults.maxConcurrent` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç
–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏. –ö–∞–∂–¥–∞—è —Å–µ—Å—Å–∏—è –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (–æ–¥–∏–Ω —Ä–∞–∑ –∑–∞–ø—É—Å—Ç–∏—Ç—å
–∑–∞ –æ–¥–∏–Ω –∫–ª—é—á –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1.

### `agents.defaults.sandbox`

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π **Docker sandboxing** –¥–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞. –ü—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–æ –¥–ª—è –Ω–µ–æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π, —á—Ç–æ–±—ã –æ–Ω–∏ –Ω–µ –º–æ–≥–ª–∏ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –≤–∞—à–µ–π —Ö–æ—Å—Ç-—Å–∏—Å—Ç–µ–º–µ.

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏: [Sandboxing](/gateway/sandboxing)

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ):

- scope: `"agent"` (–æ–¥–∏–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä + —Ä–∞–±–æ—á–µ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞)
- –û–±—Ä–∞–∑ –Ω–∞ –æ—Å–Ω–æ–≤–µ –±—É–∫–≤–æ—Ä–º–∞ Debian
- –∞–≥–µ–Ω—Ç: –¥–æ—Å—Ç—É–ø –∫ —Ä–∞–±–æ—á–µ–π –æ–±–ª–∞—Å—Ç–∏: `workspaceAccess: "none"` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  - `"none"`: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–±–æ—á—É—é –æ–±–ª–∞—Å—Ç—å –¥–ª—è –æ–±–ª–∞—Å—Ç–∏ –ø–µ—Å–æ—á–Ω–∏—Ü—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `~/.openclaw/sandboxes`
- `"ro"`: —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–∞–±–æ—á—É—é –æ–±–ª–∞—Å—Ç—å –ø–µ—Å–æ—á–Ω–∏—Ü—ã –≤ `/workspace` –∏ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—á—É—é –æ–±–ª–∞—Å—Ç—å –∞–≥–µ–Ω—Ç–∞ read-only –≤ –ø–∞–ø–∫–µ `/agent` (–æ—Ç–∫–ª—é—á–∞–µ—Ç `write`/`edit`/`apply_patch`)
  - `"rw"`: –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—á–µ–π –æ–±–ª–∞—Å—Ç–∏ –∞–≥–µ–Ω—Ç–∞ read/write at `/workspace`
- –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞: –ø—Ä–æ—Å—Ç–æ–π > 24 —á –ò–õ–ò –≤–æ–∑—Ä–∞—Å—Ç > 7 –¥–Ω.
- –ø–æ–ª–∏—Ç–∏–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤: —Ä–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ `exec`, `process`, `read`, `write`, `edit`, `apply_patch`, `sessions_list`, `sessions_history`, `sessions_send`, `sessions_spawn`, `session_status` (–∑–∞–ø—Ä–µ—Ç–∏—Ç—å –ø–æ–±–µ–¥—ã)
  - configure via `tools.sandbox.tools`, override per-agent via `agents.list[].tools.sandbox.tools`
  - –∫–æ—Ä–æ—Ç–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –≥—Ä—É–ø–ø –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤ –ø–æ–ª–∏—Ç–∏–∫–µ "–ø–µ—Å–æ—á–Ω–∏—Ü–∞": `group:runtime`, `group:fs`, `group:sessions`, `group:memory` (—Å–º. [Sandbox vs Tool Policy vs Elevated](/gateway/sandbox-vs-tool-policy-vs-elevated#tool-groups-shorthands))
- –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ (Chromium + CDP, noVNC –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å)
- —É–ø—Ä–æ—â–µ–Ω–∏–µ knobs: `network`, `user`, `pidsLimit`, `memory`, `cpus`, `ulimits`, `seccompProfile`, `apparmorProfile`

–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: `scope: "shared"` –æ–∑–Ω–∞—á–∞–µ—Ç –æ–±—â–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –æ–±—â—É—é —Ä–∞–±–æ—á—É—é –æ–±–ª–∞—Å—Ç—å. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –º–µ–∂—Å–µ—Å—Å–∏–æ–Ω–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `scope: "session"` –¥–ª—è –º–µ–∂—Å–µ—Å—Å–∏–æ–Ω–Ω–æ–π –∏–∑–æ–ª—è—Ü–∏–∏.

Legacy: `perSession` –≤—Å–µ –µ—â–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è (`true` ‚Üí `scope: "session"`,
`false` ‚Üí `scope: "shared"`).

`setupCommand` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è **–æ–¥–∏–Ω —Ä–∞–∑** –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —á–µ—Ä–µ–∑ `sh -lc`).
–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ç–µ–≤—ã–µ egress, –∫–æ—Ä–Ω–µ–≤–æ–π —Ñ–∞–π–ª, –¥–æ—Å—Ç—É–ø–Ω—ã–π –¥–ª—è –∑–∞–ø–∏—Å–∏, –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å root.

```json5
{
  agents: {
    defaults: {
      sandbox: {
        mode: "non-main", // –≤—ã–∫–ª | –Ω–µ–≥–ª–∞–≤–Ω–∞—è | –≤—Å—è –æ–±–ª–∞—Å—Ç—å
        : "–∞–≥–µ–Ω—Ç", // —Å–µ—Å—Å–∏—è | –∞–≥–µ–Ω—Ç | –æ–±—â–∏–π (–∞–≥–µ–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
        workspaceAccess: "none", // –Ω–∏ –æ–¥–∏–Ω | ro | rw
        workspaceRoot: "~/. penclaw/sandboxes",
        docker: {
          image: "openclaw-sandbox:bookworm-slim",
          –ü—Ä–µ—Ñ–∏–∫—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: "openclaw-sbx-",
          workdir: "/workspace",
          readOnlyRoot: true,
          —Ç–º–ø: ["/tmp", "/var/tmp", "/run"],
          —Å–µ—Ç—å: "–Ω–µ—Ç",
          –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "1000:1000",
          capDrop: ["–í–ù–ò–ú–¨"],
          env: { LANG: "C. TF-8" },
          –∫–æ–º–∞–Ω–¥–∞ setupCommand: "apt-get update && apt-get install -y git curl jq",
          // –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞ (–º–Ω–æ–≥–æ–∞–≥–µ–Ω—Ç): –∞–≥–µ–Ω—Ç—ã. ist[].sandbox.docker.
          pidsLimit: 256,
          –ø–∞–º—è—Ç—å: "1g",
          swap: "2g",
          cpus: 1,
          ulimits: {
            nofile: { soft: 1024, hard: 2048 },
            nproc: 256,
          },
          seccompProfile: "/path/to/seccomp. son",
          apparmorProfile: "openclaw-sandbox",
          –¥–Ω—Å: ["1. .1.1", "8.8.8. "],
          extraHosts: ["internal.service:10.0. "],
          binds: ["/var/run/docker.sock:/var/run/docker. ock", "/home/user/source:/source:rw"],
        },
        browser: {
          –≤–∫–ª—é—á–µ–Ω–æ: false,
          –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: "openclaw-sandbox-browser:bookworm-slim",
          containerPrefix: "openclaw-sbx-browser-",
          cdpPort: 9222,
          vncPort: 5900,
          noVncPort: 6080,
          –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∞: false,
          –≤–∫–ª—é—á–∏—Ç—å NoVnc: true,
          allowHostControl: false,
          allowedControlUrls: ["http://10. .0.42:18791"],
          allowedControlHosts: ["browser.lab.local", "10.0.0. 2"],
          allowedControlPorts: [18791],
          –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫: true,
          autoStartTimeoutMs: 12000,
        },
        prune: {
          idleHours: 24, // 0 –æ—Ç–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ—Å—Ç–∞–∏–≤–∞–Ω–∏–µ
          maxAgeDays: 7, // 0 –æ—Ç–∫–ª—é—á–∞–µ—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ max-age
        },
      },
    },
  },
  –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤: {
    sandbox: {
      tools: {
        allow: [
          "exec",
          "process",
          "read", "read",
          "–ø–∏—Å–∞—Ç—å",
          "—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å",
          "apply_patch",
          "sessions_list",
          "sessions_history",
          "sessions_send",
          "sessions_spawn",
          "session_status",
        ],
        –æ—Ç—Ä–∏—Ü–∞–µ—Ç: ["–±—Ä–∞—É–∑–µ—Ä", "—Ö–æ–ª—Å—Ç", "—É–∑–ª—ã", "cron", "discord", "—à–ª—é–∑"],
      },
    },
  },
}
```

–ü–æ—Å—Ç—Ä–æ–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–µ—Å–æ—á–Ω–∏—Ü—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

```bash
scripts/sandbox-setup.sh
```

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ø–µ—Å–æ—á–Ω–∏—Ü–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ–¥–µ—Ä–∂–∏—Ç `network: "none"`; —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `agents.defaults.sandbox.docker.network`
–Ω–∞ `"bridge"` (–∏–ª–∏ –≤–∞—à—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é —Å–µ—Ç—å), –µ—Å–ª–∏ –∞–≥–µ–Ω—Ç—É –Ω—É–∂–µ–Ω –∏—Å—Ö–æ–¥—è—â–∏–π –¥–æ—Å—Ç—É–ø.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –≤—Ö–æ–¥—è—â–∏–µ –≤–ª–æ–∂–µ–Ω–∏—è –ø–æ–º–µ—â–∞—é—Ç—Å—è –≤ –∞–∫—Ç–∏–≤–Ω—É—é —Ä–∞–±–æ—á—É—é —Å—Ä–µ–¥—É –ø–æ –∞–¥—Ä–µ—Å—É `media/inbound/*`. –ü—Ä–∏ –ø–æ–º–æ—â–∏ \`workspaceAccess: "rw" —Ñ–∞–π–ª—ã –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ —Ä–∞–±–æ—á—É—é —Å—Ä–µ–¥—É –∞–≥–µ–Ω—Ç–∞.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: `docker.binds` –º–æ–Ω—Ç–∏—Ä—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Ö–æ—Å—Ç–æ–≤; –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ binds –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã.

–ü–æ—Å—Ç—Ä–æ–π—Ç–µ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ —Å:

```bash
scripts/sandbox-browser-setup.sh
```

–ö–æ–≥–¥–∞ `agents.defaults.sandbox.browser.enabled=true`, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –±—Ä–∞—É–∑–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
Chromium (CDP). –ï—Å–ª–∏ noVNC –≤–∫–ª—é—á–µ–Ω (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏ headless=false),
noVNC URL –≤–≤–æ–¥–∏—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–Ω—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É, —á—Ç–æ–±—ã –∞–≥–µ–Ω—Ç –º–æ–≥ —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –Ω–µ–≥–æ.
–≠—Ç–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç `browser.enabled` –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏; –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–µ—Å–æ—á–Ω–∏—Ü—ã
URL –∏–Ω—ä–µ–∫—Ü–∏—è –≤ –∫–∞–∂–¥—É—é —Å–µ—Å—Å–∏—é.

`agents.defaults.sandbox.browser.allowHostControl` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: false) –ø–æ–∑–≤–æ–ª—è–µ—Ç
—Å—ç–Ω–¥–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–µ–∞–Ω—Å–æ–≤ —è–≤–Ω–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ **—Ö–æ—Å—Ç** —Å–µ—Ä–≤–µ—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–æ–º
—Å –ø–æ–º–æ—â—å—é –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –±—Ä–∞—É–∑–µ—Ä–∞ (`target: "host"`). –û—Ç–∫–ª—é—á–∏—Ç–µ —ç—Ç–æ, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∂–µ—Å—Ç–∫—É—é –∏–∑–æ–ª—è—Ü–∏—é –ø–µ—Å–æ—á–Ω–∏—Ü—ã
.

–†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏ –¥–ª—è –¥–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

- `allowedControlUrls`: —Ç–æ—á–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ URL, —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –¥–ª—è `target: "custom"`.
- `allowedControlHosts`: —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–∞ —Ö–æ—Å—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ –∏–º—è —Ö–æ—Å—Ç–∞, –Ω–µ—Ç –ø–æ—Ä—Ç–∞).
- `allowedControlPorts`: —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –ø–æ—Ä—Ç—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: http=80, https=443).
  –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: –≤—Å–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏ —É–¥–∞–ª–µ–Ω—ã (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π). `allowHostControl` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —è–≤–ª—è–µ—Ç—Å—è false.

### `–ú–æ–¥–µ–ª–∏` (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã + –±–∞–∑–æ–≤—ã–µ URL)

OpenClaw –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞—Ç–∞–ª–æ–≥ –º–æ–¥–µ–ª–µ–π **–∫–æ–¥-–∞–≥–µ–Ω—Ç–∞**. –í—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
(LiteLLM, –ª–æ–∫–∞–ª—å–Ω—ã–µ OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Å–µ—Ä–≤–µ—Ä—ã, Anthropic –ø—Ä–æ–∫—Å–∏ –∏ —Ç.–¥.) –ø—É—Ç—ë–º –∑–∞–ø–∏—Å–∏ –≤ `~/.openclaw/agents/<agentId>/agent/models.json` –∏–ª–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–æ–π –∂–µ —Å—Ö–µ–º—ã –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ OpenClaw –≤ —Ä–∞–∑–¥–µ–ª–µ `models.providers`.
–û–±–∑–æ—Ä –ø–æ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ + –ø—Ä–∏–º–µ—Ä—ã: [/concepts/model-providers](/concepts/model-providers).

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `models.providers` OpenClaw –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç/–æ–±—ä–µ–¥–∏–Ω—è–µ—Ç `models.json` –≤
`~/.openclaw/agents/<agentId>/agent/` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:

- –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: **—Å–ª–∏—è–Ω–∏–µ** (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤, –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–º–µ–Ω–∏)
- —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `models.mode: "replace"` —á—Ç–æ–±—ã –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞

–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å —á–µ—Ä–µ–∑ `agents.defaults.model.primary` (–ø—Ä–æ–≤–∞–π–¥–µ—Ä/–º–æ–¥–µ–ª—å).

```json5
{
  agents: {
    defaults: {
      model: { primary: "custom-proxy/llama-3. -8b" },
      –º–æ–¥–µ–ª–∏: {
        "custom-proxy/llama-3. -8b": {},
      },
    },
  }, –ú–æ–¥–µ–ª–∏
  {
    —Ä–µ–∂–∏–º: "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ",
    –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤: {
      "custom-proxy": {
        baseUrl: "http://localhost:4000/v1",
        apiKey: "LITELLM_KEY",
        api: "openai-completions",
        –º–æ–¥–µ–ª–∏: [
          {
            id: "llama-3. -8b",
            –Ω–∞–∑–≤–∞–Ω–∏–µ: "–õ–∞–º–∞ 3. 8B",
            –ø—Ä–∏—á–∏–Ω–∞: false,
            –≤–≤–æ–¥: ["—Ç–µ–∫—Å—Ç"],
            —Å—Ç–æ–∏–º–æ—Å—Ç—å: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },
            contextWindow: 128000,
            maxTokens: 32000,
          },
        ],
      },
    },
  },
}
```

### OpenCode Zen (–º—É–ª—å—Ç–∏–º–æ–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–∫—Å–∏)

OpenCode Zen - —ç—Ç–æ –º–Ω–æ–≥–æ–æ–±—Ä–∞–∑–Ω—ã–π —à–ª—é–∑ —Å –∫–æ–Ω–µ—á–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏ –¥–ª—è –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è. OpenClaw –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ `opencode` –∏–∑ pi-ai; —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `OPENCODE_API_KEY` (–∏–ª–∏ `OPENCODE_ZEN_API_KEY`) –∏–∑ [https://opencode.ai/auth](https://opencode.ai/auth).

Notes:

- –ú–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `opencode/<modelId>` (–ø—Ä–∏–º–µ—Ä: `opencode/claude-opus-4-6`).
- –ï—Å–ª–∏ –≤—ã –≤–∫–ª—é—á–∏—Ç–µ allowlist —á–µ—Ä–µ–∑ `agents.defaults.models`, –¥–æ–±–∞–≤—å—Ç–µ –∫–∞–∂–¥—É—é –º–æ–¥–µ–ª—å, –∫–æ—Ç–æ—Ä—É—é –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.
- Shortcut: `openclaw onboard --auth-choice opencode-zen`.

```json5
{
  agents: {
    defaults: {
      model: { primary: "opencode/claude-opus-4-6" },
      –º–æ–¥–µ–ª–∏: { "opencode/claude-opus-4-6": { alias: "Opus" } },
    },
  },
}
```

### Z.AI (GLM-4.7) ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Å–µ–≤–¥–æ–Ω–∏–º–æ–≤ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

–ú–æ–¥–µ–ª–∏ Z.AI –¥–æ—Å—Ç—É–ø–Ω—ã —Å–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ `zai`. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `ZAI_API_KEY` –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –∏ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –º–æ–¥–µ–ª—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä/–º–æ–¥–µ–ª—å.

–Ø—Ä–ª—ã–∫: `openclaw –Ω–∞ –±–æ—Ä—Ç—É --auth-choice zai-api-key`.

```json5
{
  agents: {
    defaults: {
      model: { primary: "zai/glm-4.7" },
      models: { "zai/glm-4.7": {} },
    },
  },
}
```

Notes:

- `z.ai/*` –∏ `z-ai/*` –¥–æ–ø—É—Å—Ç–∏–º—ã –ø—Å–µ–≤–¥–æ–Ω–∏–º—ã –∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É–π—Ç–µ –¥–æ `zai/*`.
- –ï—Å–ª–∏ `ZAI_API_KEY` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –∑–∞–ø—Ä–æ—Å—ã –∫ `zai/*` –Ω–µ –±—É–¥—É—Ç —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω—ã –ø—Ä–∏ –æ—à–∏–±–∫–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
- –ü—Ä–∏–º–µ—Ä –æ—à–∏–±–∫–∏: `No API key found for provider "zai".`
- –û–±—â–∞—è –∫–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ Z.AI API —ç—Ç–æ `https://api.z.ai/api/paas/v4`. GLM coding
  requests use the dedicated Coding endpoint `https://api.z.ai/api/coding/paas/v4`.
  –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `zai` –ø—Ä–æ–≤–∞–π–¥–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è. –ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–∞ –æ–±—â–∞—è –∫–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞
  –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ `models.providers` —Å –±–∞–∑–æ–≤—ã–º URL-–∞–¥—Ä–µ—Å–æ–º
  (—Å–º. —Ä–∞–∑–¥–µ–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –≤—ã—à–µ).
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥–¥–µ–ª—å–Ω—ã–π –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö/–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö; –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ API –∫–ª—é—á–∏.

### Moonshot AI (Kimi)

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É OpenAI, —Å–æ–≤–º–µ—Å—Ç–∏–º—É—é —Å –õ—É–Ω–Ω—ã–º —à–æ—Ç–æ–º:

```json5
{
  env: { MOONSHOT_API_KEY: "sk-... },
  agents: {
    defaults: {
      model: { primary: "moonshot/kimi-k2. " },
      –º–æ–¥–µ–ª–∏: { "moonshot/kimi-k2. ": { alias: "Kimi K2. " } },
    },
  },
  –º–æ–¥–µ–ª–∏: {
    —Ä–µ–∂–∏–º: "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ",
    –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã: {
      moonshot: {
        baseUrl: "https://api. oonshot. i/v1",
        apiKey: "${MOONSHOT_API_KEY}",
        api: "openai-completions",
        –º–æ–¥–µ–ª–∏: [
          {
            id: "kimi-k2. ",
            –Ω–∞–∑–≤–∞–Ω–∏–µ: "–ö–∏–º–∏ –ö2. ",
            –ø—Ä–∏—á–∏–Ω–∞: false,
            –≤–≤–æ–¥: ["—Ç–µ–∫—Å—Ç"],
            —Å—Ç–æ–∏–º–æ—Å—Ç—å: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },
            contextWindow: 256000,
            maxTokens: 8192,
          },
        ],
      },
    },
  },
}
```

Notes:

- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `MOONSHOT_API_KEY` –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `openclaw –Ω–∞ –±–æ—Ä—Ç—É --auth-choice moonshot-api-key`.
- –ú–æ–¥–µ–ª—å ref: `moonshot/kimi-k2.5`.
- –ß—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏ –ö–∏—Ç–∞—è, —Ç–æ–∂–µ:
  - –ó–∞–ø—É—Å—Ç–∏—Ç–µ `openclaw –Ω–∞ –¥–æ—Å–∫–µ --auth-choice moonshot-api-key-cn` (–º–∞—Å—Ç–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–∏—Ç `https://api.moonshot.cn/v1`), –∏–ª–∏
  - –í—Ä—É—á–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `baseUrl: "https://api.moonshot.cn/v1"` –≤ `models.providers.moonshot`.

### Kimi Coding

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –ò–ò –õ—É–Ω—ã –≤ —Ä–µ–∂–∏–º–µ –ö–∏–º–∏ (–∞–Ω—Ç—Ä–æ–ø–∏—á–µ—Å–∫–∏–π, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä):

```json5
{
  env: { KIMI_API_KEY: "sk-..." },
  agents: {
    defaults: {
      model: { primary: "kimi-coding/k2p5" },
      models: { "kimi-coding/k2p5": { alias: "Kimi K2.5" } },
    },
  },
}
```

Notes:

- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `KIMI_API_KEY` –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `openclaw –Ω–∞ –±–æ—Ä—Ç—É --auth-choice kimi-code-api-key`.
- –ú–æ–¥–µ–ª—å ref: `kimi-coding/k2p5`.

### –°–∏–Ω—Ç–µ–∑ (–ê–Ω—Ç—Ä–æ–ø–∏—á–µ—Å–∫–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω—Ç—Ä–æ–ø–∏—á–µ—Å–∫—É—é –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É:

```json5
{
  env: { SYNTHETIC_API_KEY: "sk-..." },
  agents: {
    defaults: {
      model: { primary: "synthetic/hf:MiniMaxAI/MiniMax-M2.1" },
      models: { "synthetic/hf:MiniMaxAI/MiniMax-M2.1": { alias: "MiniMax M2.1" } },
    },
  },
  models: {
    mode: "merge",
    providers: {
      synthetic: {
        baseUrl: "https://api.synthetic.new/anthropic",
        apiKey: "${SYNTHETIC_API_KEY}",
        api: "anthropic-messages",
        models: [
          {
            id: "hf:MiniMaxAI/MiniMax-M2.1",
            name: "MiniMax M2.1",
            reasoning: false,
            input: ["text"],
            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },
            contextWindow: 192000,
            maxTokens: 65536,
          },
        ],
      },
    },
  },
}
```

Notes:

- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `SYNTHETIC_API_KEY` –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `openclaw –Ω–∞ –±–æ—Ä—Ç—É --auth-choice synthetic-api-key`.
- –ú–æ–¥–µ–ª—å ref: `synthetic/hf:MiniMaxAI/MiniMax-M2.1`.
- –ë–∞–∑–æ–≤—ã–π URL-–∞–¥—Ä–µ—Å –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `/v1`, –ø–æ—Ç–æ–º—É —á—Ç–æ –ê–Ω—Ç—Ä–æ–ø–∏—á–µ—Å–∫–∏–π –∫–ª–∏–µ–Ω—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç –µ–≥–æ.

### –õ–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ (LM Studio) ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

–°–º. [/gateway/local-models](/gateway/local-models) –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞. TL;DR: –∑–∞–ø—É—Å—Ç–∏—Ç—å MiniMax M2.1 —Å –ø–æ–º–æ—â—å—é LM Studio Responses API –Ω–∞ —Å–µ—Ä—å—ë–∑–Ω–æ–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–∏; —Ö—Ä–∞–Ω–∏—Ç—å —Ä–∞–∑–º–µ—â–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã –¥–ª—è —Ä–µ–∑–µ—Ä–≤–∞.

### MiniMax M2.1

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MiniMax M2.1 –Ω–∞–ø—Ä—è–º—É—é –±–µ–∑ LM Studio:

```json5
{
  agent: {
    model: { primary: "minimax/MiniMax-M2. " },
    –º–æ–¥–µ–ª–∏: {
      "anthropic/claude-opus-4-6": { alias: "Opus" },
      "minimax/MiniMax-M2. ": { alias: "Minimax" },
    },
  }, –ú–æ–¥–µ–ª–∏
  {
    —Ä–µ–∂–∏–º: "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ",
    –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã: {
      minimax: {
        baseUrl: "https://api. inimax. o/–∞–Ω—Ç—Ä–æ–ø",
        apiKey: "${MINIMAX_API_KEY}",
        api: "–∞–Ω—Ç—Ä–æ–ø–Ω—ã–µ-—Å–æ–æ–±—â–µ–Ω–∏—è",
        –º–æ–¥–µ–ª–∏: [
          {
            id: "MiniMax-M2. ",
            –Ω–∞–∑–≤–∞–Ω–∏–µ: "MiniMax M2. ",
            –ø—Ä–∏—á–∏–Ω–∞: false,
            –≤–≤–æ–¥: ["—Ç–µ–∫—Å—Ç"],
            // –¶–µ–Ω–∞: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ –º–æ–¥–µ–ª—è—Ö. —Å—ã–Ω, –µ—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ —Ç–æ—á–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç.
            –°—Ç–æ–∏–º–æ—Å—Ç—å: { input: 15, output: 60, cacheRead: 2, cacheWrite: 10 },
            contextWindow: 200000,
            maxTokens: 8192,
          },
        ],
      },
    },
  },
}
```

Notes:

- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `MINIMAX_API_KEY` –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `openclaw onboard --auth-choice minimax-api`.
- –î–æ—Å—Ç—É–ø–Ω–∞—è –º–æ–¥–µ–ª—å: `MiniMax-M2.1` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).
- –û–±–Ω–æ–≤–∏—Ç–µ —Ü–µ–Ω—ã –≤ `models.json`, –µ—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–∞ —Ç–æ—á–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –∑–∞—Ç—Ä–∞—Ç.

### –¶–µ—Ä–µ–±—Ä–∞ (GLM 4,6/ 4,7)

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Cerebras —á–µ—Ä–µ–∑ –∏—Ö –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É, —Å–æ–≤–º–µ—Å—Ç–∏–º—É—é —Å OpenAI:

```json5
{
  env: { CEREBRAS_API_KEY: "sk-... },
  agents: {
    defaults: {
      model: {
        primary: "cerebras/zai-glm-4. ",
        fallbacks: ["—Ü–µ—Ä–µ–±—Ä–æ–≤–∞—Ä–∫–∞/–∑–∞–∏-–±–ª–µ–º-4. "],
      },
      models: {
        "cerebras/zai-glm-4. ": { alias: "GLM 4.7 (Cerebras)" },
        "cerebras/zai-glm-4.6": { alias: "GLM 4. (Cerebras)" },
      },
    },
  },
  –º–æ–¥–µ–ª–∏: {
    —Ä–µ–∂–∏–º: "–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ",
    –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤: {
      cerebras: {
        baseUrl: "https://api. erebras. i/v1",
        apiKey: "${CEREBRAS_API_KEY}",
        api: "openai-completions",
        models: [
          { id: "zai-glm-4. ", –Ω–∞–∑–≤–∞–Ω–∏–µ: "GLM 4. (Cerebras)" },
          { id: "zai-glm-4.6", –∏–º—è: "GLM 4. (Cerebras)" },
        ],
      },
    },
  },
}
```

Notes:

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `cerebras/zai-glm-4.7` –¥–ª—è Cerebras; –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `zai/glm-4.7` –¥–ª—è –ø—Ä—è–º–æ–π Z.AI.
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `CEREBRAS_API_KEY` –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

Notes:

- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ API: `openai-completions`, `openai-responses`, `anthropic-messages`,
  `google-generative-ai`
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `authHeader: true` + `headers` –¥–ª—è –Ω—É–∂–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.
- –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –∫–æ—Ä–µ–Ω—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∞–≥–µ–Ω—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É—è `OPENCLAW_AGENT_DIR` (–∏–ª–∏ `PI_CODING_AGENT_DIR`)
  –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ `models.json` –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `~/.openclaw/agents/main/agent`).

### `session`

–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –≥—Ä–∞–Ω–∏—Ü—ã —Å–µ–∞–Ω—Å–∞, –ø–æ–ª–∏—Ç–∏–∫—É —Å–±—Ä–æ—Å–∞, —Å–±—Ä–æ—Å —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –∏ –º–µ—Å—Ç–æ –∑–∞–ø–∏—Å–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ —Å–µ—Å—Å–∏–π.

```json5
{
  session: {
    scope: "per-sender",
    dmScope: "main",
    identityLinks: {
      alice: ["telegram:123456789", "discord:987654321012345678"],
    },
    reset: {
      mode: "daily",
      –ß–∞—Å–∞: 4,
      idleMinutes: 60,
    },
    resetByType: {
      thread: { mode: "daily", atHour: 4 },
      dm: { mode: "idle", idleMinutes: 240 },
      group: { mode: "idle", idleMinutes: 120 },
    },
    resetTriggers: ["/new", "/reset"],
    // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —É–∂–µ per-agent –ø–æ–¥ ~/. penclaw/agents/<agentId>/sessions/sessions.json
    // –í—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —à–∞–±–ª–æ–Ω—ã {agentId} :
    store: "~/. penclaw/agents/{agentId}/sessions/sessions.json",
    // –ü—Ä—è–º–æ–π —á–∞—Ç —Å–≤–µ—Ä–Ω—É—Ç—å –∫ –∞–≥–µ–Ω—Ç—É:<agentId>:<mainKey> (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: "main").
    mainKey: "main",
    agentToAgent: {
      // –ú–∞–∫—Å. –æ—Ç–≤–µ—Ç ping-pong –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–æ–º/—Ü–µ–ª–µ–≤–æ–π (0‚Äì5).
      maxPingPongTurns: 5,
    },
    sendPolicy: {
      rules: [{ action: "deny", match: { channel: "discord", chatType: "group" } }],
      –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: "allow",
    },
  },
}
```

–ü–æ–ª—è:

- `mainKey`: –∫–ª—é—á –ø—Ä—è–º–æ–≥–æ bucket (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `"main"`). –ü–æ–ª–µ–∑–Ω–æ, –∫–æ–≥–¥–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ ¬´–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å¬ª –ø–µ—Ä–≤–∏—á–Ω—ã–π –ø–æ—Ç–æ–∫ DM –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è `agentId`.
  - –ó–∞–º–µ—Ç–∫–∞ –ø–µ—Å–æ—á–Ω–∏—Ü—ã: `agents.defaults.sandbox.mode: "non-main"` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–æ—Ç –∫–ª—é—á –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏. –õ—é–±–æ–π –∫–ª—é—á —Å–µ—Å—Å–∏–∏, –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π `mainKey` (–≥—Ä—É–ø–ø—ã/–∫–∞–Ω–∞–ª—ã), —è–≤–ª—è–µ—Ç—Å—è –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ.
- `dmScope`: –∫–∞–∫ –≥—Ä—É–ø–ø—ã –¢–ú (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `"–æ—Å–Ω–æ–≤–Ω–∞—è"`).
  - `–≥–ª–∞–≤–Ω—ã–π`: –≤—Å–µ –õ–° –∏–º–µ—é—Ç –æ—Å–Ω–æ–≤–Ω—É—é —Å–µ—Å—Å–∏—é –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –ø—Ä–µ–µ–º—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.
  - `per peer`: –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –õ–° –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –ø–æ –∫–∞–Ω–∞–ª–∞–º.
  - `per-channel-peer`: –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –õ–° –Ω–∞ –∫–∞–Ω–∞–ª + –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–æ—á—Ç–æ–≤—ã—Ö —è—â–∏–∫–æ–≤).
  - `per-account-channel-peer`: –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –õ–° –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç + –∫–∞–Ω–∞–ª + –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ—á—Ç–æ–≤—ã—Ö —è—â–∏–∫–æ–≤).
  - –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–µ–∂–∏–º DM (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è): —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `session.dmScope: "per-channel-peer"`, –∫–æ–≥–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–µ–ª–æ–≤–µ–∫ –º–æ–≥—É—Ç DM –±–æ—Ç–∞ (—Ä–∞–∑–¥–µ–ª—è–µ–º—ã–µ –≤—Ö–æ–¥—è—â–∏–µ, –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ä–∞–∑—Ä–µ—à–∞—é—Ç —Å–ø–∏—Å–∫–∏ –∏–ª–∏ \`dmPolicy: "open").
- `identityLinks`: —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞, —Ç–∞–∫ —á—Ç–æ —Ç–æ—Ç –∂–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–∑–¥–µ–ª—è–µ—Ç —Å–µ–∞–Ω—Å DM –ø–æ –∫–∞–Ω–∞–ª–∞–º –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `per-peer`, `per-channel-peer`, –∏–ª–∏ `per-account-channel-peer`.
  - –ü—Ä–∏–º–µ—Ä: `alice: ["telegram:123456789", "discord:987654321012345678"]`.
- `reset`: –æ—Å–Ω–æ–≤–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ —Å–±—Ä–æ—Å–∞. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –µ–∂–µ–¥–Ω–µ–≤–Ω–æ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –≤ 4:00 –º–µ—Å—Ç–Ω–æ–µ –≤—Ä–µ–º—è –Ω–∞ —Ö–æ—Å—Ç–µ —à–ª—é–∑–∞.
  - `mode`: `daily` –∏–ª–∏ `idle` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `daily` –∫–æ–≥–¥–∞ `reset` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç).
  - `atHour`: –ª–æ–∫–∞–ª—å–Ω—ã–π —á–∞—Å (0-23) –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π –≥—Ä–∞–Ω–∏—Ü—ã —Å–±—Ä–æ—Å–∞.
  - `idleMinutes`: —Å–∫–æ–ª—å–∑—è—â–µ–µ –ø—Ä–æ—Å—Ç–æ–µ –æ–∫–Ω–æ –≤ –º–∏–Ω—É—Ç–∞—Ö. –ï—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Å–±—Ä–æ—Å, –∏ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏–µ, —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ, —á—Ç–æ –∏—Å—Ç–µ–∫–∞–µ—Ç —Ä–∞–Ω—å—à–µ.
- `resetByType`: per-session overrides for `dm`, `group` and `thread`.
  - –ï—Å–ª–∏ –≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–æ–ª—å–∫–æ —Å—Ç–∞—Ä—ã–π `session.idleMinutes` –±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ `reset`/`resetByType`, OpenClaw –æ—Å—Ç–∞–µ—Ç—Å—è –≤ —Ä–µ–∂–∏–º–µ –æ–∂–∏–¥–∞–Ω–∏—è –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.
- `heartbeatIdleMinutes`: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Å—Ç–æ–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ heartbeat (–µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Å–±—Ä–æ—Å –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω–æ).
- `agentToAgent.maxPingPongTurns`: max reply-back –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–æ–º/—Ü–µ–ª—å—é (0‚Äì5, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5).
- `sendPolicy.default`: `allow` –∏–ª–∏ `deny` fallback, –µ—Å–ª–∏ –ø—Ä–∞–≤–∏–ª–æ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç.
- `sendPolicy.rules[]`: —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–æ `channel`, `chatType` (`direct|group|room`) –∏–ª–∏ `keyPrefix` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `cron:`). –ü–µ—Ä–≤–æ–µ –æ—Ç—Ä–∏—Ü–∞–Ω–∏–µ –ø–æ–±–µ–¥, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è.

### `skills` (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞–≤—ã–∫–æ–≤)

–£–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º allowlist, –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–∞–ø–∫–∞–º–∏ –Ω–∞–≤—ã–∫–æ–≤ –∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è–º–∏ –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –Ω–∞–≤—ã–∫–æ–≤. –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ **–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º** –Ω–∞–≤—ã–∫–∞–º –∏ `~/.openclaw/skills` (–Ω–∞–≤—ã–∫–∏ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –≤—Å—ë —Ä–∞–≤–Ω–æ –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ –∏–º—ë–Ω).

–ü–æ–ª—è:

- `allowBundled`: –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö —Ç–æ–ª—å–∫–æ –¥–ª—è **bundled** skills. –ü—Ä–∏ –Ω–∞–±–æ—Ä–µ —Ç–æ–ª—å–∫–æ —Ç–µ —É–º–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—á–µ—Ç–∞—é—Ç—Å—è —Å
  –∏–º–µ—é—Ç –ø—Ä–∞–≤–æ (–Ω–∞–≤—ã–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ–º–æ–≥–æ/—Ä–∞–±–æ—á–µ–π –æ–±–ª–∞—Å—Ç–∏ –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç—Å—è).
- `load.extraDirs`: –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∏ Skills –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–Ω–∞–∏–º–µ–Ω—å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç).
- `install.preferBrew`: –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∏ brew –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: true).
- `install.nodeManager`: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —É–∑–ª–∞ (`npm` | `pnpm` | `yarn`, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: npm).
- `entries.<skillKey>`: –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞–≤—ã–∫–∞.

–ü–æ–ª—è –Ω–∞–≤—ã–∫–æ–≤:

- `enabled`: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `false`, —á—Ç–æ–±—ã –æ—Ç–∫–ª—é—á–∏—Ç—å Skill, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π/—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.
- `env`: –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –≤–Ω–µ–¥—Ä—è–µ–º—ã–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∞–≥–µ–Ω—Ç–∞ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—â—ë –Ω–µ –∑–∞–¥–∞–Ω—ã).
- `apiKey`: –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —É–¥–æ–±—Å—Ç–≤–æ –¥–ª—è –Ω–∞–≤—ã–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ä—è–≤–ª—è—é—Ç –ø–µ—Ä–≤–∏—á–Ω—ã–π env –≤–∞—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, `nano-banana-pro` ‚Üí `GEMINI_API_KEY`).

–ü—Ä–∏–º–µ—Ä:

```json5
{
  skills: {
    allowBundled: ["gemini", "peekaboo"],
    load: {
      extraDirs: ["~/Projects/agent-scripts/skills", "~/–ü—Ä–æ–µ–∫—Ç—ã/oss/some-skill-pack/skills"],
    },
    install: {
      preferBrew: true,
      nodeManager: "npm",
    },
    –∑–∞–ø–∏—Å–∏: {
      "nano-banana-pro": {
        apiKey: "GEMINI_KEY_HERE",
        env: {
          GEMINI_API_KEY: "GEMINI_KEY_HERE",
        },
      },
      peekaboo: { enabled: true },
      –º–µ—à–æ–∫: { enabled: false },
    },
  },
}
```

### `plugins` (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è)

–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, —Ä–∞–∑—Ä–µ—à–∏—Ç—å/–∑–∞–ø—Ä–µ—Ç–∏—Ç—å –∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–ª–∞–≥–∏–Ω–∞. –ü–ª–∞–≥–∏–Ω—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
–∏–∑ `~/.openclaw/extensions`, `<workspace>/.openclaw/extensions`, –ø–ª—é—Å –ª—é–±—ã–µ –∑–∞–ø–∏—Å–∏
`plugins.load.paths`. **–ò–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ç—Ä–µ–±—É—é—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ gateway.**
–°–º. [/plugin](/tools/plugin) –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

–ü–æ–ª—è:

- `enabled`: –º–∞—Å—Ç–µ—Ä-–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–ª–∞–≥–∏–Ω–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: true).
- `allow`: –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –ø–ª–∞–≥–∏–Ω–æ–≤; –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã.
- `deny`: –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –ø–ª–∞–≥–∏–Ω–æ–≤ (–∑–∞–ø—Ä–µ—Ç–∏—Ç—å –ø–æ–±–µ–¥—ã).
- `load.paths`: –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–ª–∞–≥–∏–Ω–æ–≤ –∏–ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ (–∞–±—Å–æ–ª—é—Ç–Ω—ã–π –∏–ª–∏ `~`).
- `–∑–∞–ø–∏—Å–µ–π.<pluginId>`: –¥–ª—è –ø–ª–∞–≥–∏–Ω–æ–≤ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω.
  - `–≤–∫–ª—é—á–µ–Ω–∞`: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `false` —á—Ç–æ–±—ã –æ—Ç–∫–ª—é—á–∏—Ç—å —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é.
  - `config`: —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –¥–ª—è –ø–ª–∞–≥–∏–Ω–∞ –æ–±—ä–µ–∫—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø–ª–∞–≥–∏–Ω–æ–º –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏).

–ü—Ä–∏–º–µ—Ä:

```json5
{
  plugins: {
    enabled: true,
    allow: ["voice-call"],
    –∑–∞–≥—Ä—É–∑–∫–∞: {
      –ø—É—Ç–∏: ["~/Projects/oss/voice-call-extension"],
    },
    –∑–∞–ø–∏—Å–∏: {
      "voice-call": {
        –≤–∫–ª—é—á–µ–Ω: true,
        config: {
          –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞: "twilio",
        },
      },
    },
  },
}
```

### `browser` (openclaw-managed browser)

OpenClaw –º–æ–∂–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å **–≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π, –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π** Chrome/Brave/Edge/Chromium —ç–∫–∑–µ–º–ø–ª—è—Ä –¥–ª—è openclaw –∏ –æ—Ç–∫—Ä—ã—Ç—å –Ω–µ–±–æ–ª—å—à—É—é —Å–ª—É–∂–±—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ç–ª—è–º–∏.
–ü—Ä–æ—Ñ–∏–ª–∏ –º–æ–≥—É—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ **—É–¥–∞–ª–µ–Ω–Ω—ã–π** –±—Ä–∞—É–∑–µ—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ Chromium —á–µ—Ä–µ–∑ `profiles.<name>.cdpUrl`. –£–¥–∞–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏
—Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (–Ω–∞—á–∞—Ç—å/–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å/—Å–±—Ä–æ—Å –æ—Ç–∫–ª—é—á–µ–Ω).

`browser.cdpUrl` –æ—Å—Ç–∞–µ—Ç—Å—è –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è –∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –±–∞–∑–æ–≤–æ–π
—Å—Ö–µ–º—ã/—Ö–æ—Å—Ç–∞ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —Ç–æ–ª—å–∫–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç `cdpPort`.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

- –≤–∫–ª—é—á–µ–Ω–æ: `true`
- evaluateEnabled: `true` (—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `false`, —á—Ç–æ–±—ã –æ—Ç–∫–ª—é—á–∏—Ç—å `act:evaluate` –∏ `wait --fn`)
- –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å: —Ç–æ–ª—å–∫–æ –ø–µ—Ç–ª—è (–ø–æ—Ä—Ç –ø–æ–ª—É—á–∞–µ—Ç—Å—è –æ—Ç `gateway.port`, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `18791`)
- CDP URL: `http://127.0.0.1:18792` (–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å + 1, —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–π –æ–¥–Ω–æ–ø—Ä–æ—Ñ–∏–ª—å)
- —Ü–≤–µ—Ç –ø—Ä–æ—Ñ–∏–ª—è: `#FF4500` (lobster-orange)
- –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: —Å–µ—Ä–≤–µ—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∑–∞–ø—É—â–µ–Ω–Ω—ã–º —à–ª—é–∑–æ–º (OpenClaw.app menubar, –∏–ª–∏ `openclaw gateway`).
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞: –±—Ä–∞—É–∑–µ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ –±–∞–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ Chromium-–±—Ä–∞—É–∑–µ—Ä–µ; –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ Chrome ‚Üí Brave ‚Üí Edge ‚Üí Chromium ‚Üí Chrome Canary.

```json5
{
  browser: {
    –≤–∫–ª—é—á–µ–Ω–æ: true,
    evaluateEnabled: true,
    // cdpUrl: "http://127. .0. :18792", // —Å—Ç–∞—Ä–æ–µ –æ–¥–Ω–æ–ø—Ä–æ—Ñ–∏–ª—å–Ω–æ–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
    defaultProfile: "chrome",
    –ø—Ä–æ—Ñ–∏–ª–µ–π: {
      openclaw: { cdpPort: 18800, —Ü–≤–µ—Ç: "#FF4500" },
      work: { cdpPort: 18801, —Ü–≤–µ—Ç: "#0066CC" },
      remote: { cdpUrl: "http://10. .0.42:9222", —Ü–≤–µ—Ç: "#00AA00" },
    },
    —Ü–≤–µ—Ç: "#FF4500",
    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:
    // –±–µ–∑–≥–æ–ª–æ–≤–Ω—ã–π: false,
    // noSandbox: false,
    // executablePath: "/Applications/Brave Browser. pp/Contents/MacOS/Brave Browser",
    // attachOnly: false, // —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º True –ø—Ä–∏ —Ç—É–Ω–Ω–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–∏ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ CDP –Ω–∞ localhost
  },
}
```

### `ui` (–≤–Ω–µ—à–Ω–∏–π –≤–∏–¥)

–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Ü–≤–µ—Ç –∞–∫—Ü–µ–Ω—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ –¥–ª—è UI chrome (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—É–∑—ã—Ä—å–∫–∏ —Ä–µ–∂–∏–º–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä).

–ï—Å–ª–∏ –≤—ã–∫–ª—é—á–µ–Ω–æ, –∫–ª–∏–µ–Ω—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∫ –∑–∞–≥–ª—É—à–µ–Ω–Ω–æ–º—É —Å–≤–µ—Ç–ª–æ-—Å–∏–Ω–µ–º—É —Å–≤–µ—Ç—É.

```json5
{
  ui: {
    seamColor: "#FF4500", // hex (RRGGBB or #RRGGBB)
    // Optional: Control UI assistant identity override.
    // If unset, the Control UI uses the active agent identity (config or IDENTITY.md).
    assistant: {
      name: "OpenClaw",
      avatar: "CB", // emoji, short text, or image URL/data URI
    },
  },
}
```

### `gateway` (Gateway server mode + bind)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `gateway.mode` –¥–ª—è —è–≤–Ω–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –æ —Ç–æ–º, –¥–æ–ª–∂–Ω–∞ –ª–∏ —ç—Ç–∞ –º–∞—à–∏–Ω–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å —à–ª—é–∑.

–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:

- —Ä–µ–∂–∏–º: **unset** (—Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ ¬´–Ω–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞—Ç—å¬ª)
- bind: `loopback`
- –ø–æ—Ä—Ç: `18789` (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–æ—Ä—Ç –¥–ª—è WS + HTTP)

```json5
{
  gateway: {
    mode: "local", // or "remote"
    port: 18789, // WS + HTTP multiplex
    bind: "loopback",
    // controlUi: { enabled: true, basePath: "/openclaw" }
    // auth: { mode: "token", token: "your-token" } // token gates WS + Control UI access
    // tailscale: { mode: "off" | "serve" | "funnel" }
  },
}
```

–ë–∞–∑–æ–≤—ã–π –ø—É—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:

- `gateway.controlUi.basePath` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–µ—Ñ–∏–∫—Å URL –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
- –ü—Ä–∏–º–µ—Ä—ã: `"/ui"`, `"/openclaw"`, `"/apps/openclaw"`.
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: root (`/`) (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π).
- `gateway.controlUi.root` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ—Ä–µ–Ω—å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –¥–ª—è —Ä–µ—Å—É—Ä—Å–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `dist/control-ui`).
- `gateway.controlUi.allowInsecureAuth` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è token-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –∫–æ–≥–¥–∞
  –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ª–∏—á–Ω–æ—Å—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–æ–±—ã—á–Ω–æ –ø–æ HTTP). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `false`. –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ HTTPS
  (—Å–µ—Ä–≤–µ—Ä –≤ –º–∞—Å—à—Ç–∞–±–µ —á–∞—Å–∞) –∏–ª–∏ `127.0.0.1`.
- `gateway.controlUi.dangerouslyDisableDeviceAuth` –æ—Ç–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –ª–∏—á–Ω–æ—Å—Ç–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
  Control UI (—Ç–æ–ª—å–∫–æ —Ç–æ–∫–µ–Ω/–ø–∞—Ä–æ–ª—å). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `false`. –¢–æ–ª—å–∫–æ –±—É—Ç—ã–ª–æ—á–Ω–æ–µ —Å—Ç–µ–∫–ª–æ.

–°–≤—è–∑–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

- [–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è](/web/control-ui)
- [–û–±–∑–æ—Ä —Å–∞–π—Ç–∞](/web)
- [Tailscale](/gateway/tailscale)
- [–£–¥–∞–ª—ë–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø](/gateway/remote)

–î–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –ø—Ä–æ–∫—Å–∏:

- `gateway.trustedProxies`: —Å–ø–∏—Å–æ–∫ –æ–±—Ä–∞—Ç–Ω—ã—Ö –ø—Ä–æ–∫—Å–∏ IP, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≤–µ—Ä—à–∞—é—Ç TLS –ø–µ—Ä–µ–¥ —à–ª—é–∑–æ–º.
- –ö–æ–≥–¥–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–∏—Ç –æ—Ç –æ–¥–Ω–æ–≥–æ –∏–∑ —ç—Ç–∏—Ö IP, OpenClaw –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `x-forwarded-for` (–∏–ª–∏ `x-real-ip`) –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è IP-–∞–¥—Ä–µ—Å–∞ –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–ø—Ä—è–∂–µ–Ω–∏–π –∏ –∞—É—Ç–µ–Ω—Ç–∏—á–Ω—ã—Ö/–ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ HTTP.
- –¢–æ–ª—å–∫–æ —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–∫—Å–∏ –ø–æ–¥ –≤–∞—à–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –∏ —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –æ–Ω–∏ **–ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç** –≤—Ö–æ–¥—è—â–∏–π `x-forwarded-for`.

–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:

- `openclaw gateway` –æ—Ç–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å, –µ—Å–ª–∏ `gateway.mode` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ `local` (–∏–ª–∏ –≤—ã –ø—Ä–æ–ø—É—Å—Ç–∏–ª–∏ —Ñ–ª–∞–≥ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è).
- `gateway.port` –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –æ–¥–∏–Ω –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ä—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è WebSocket + HTTP (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, —Ö—É–∫–∏, A2UI).
- OpenAI Chat Completions endpoint: **–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ—Ç–∫–ª—é—á–µ–Ω–æ**; –≤–∫–ª—é—á–∏—Ç–µ `gateway.http.endpoints.chatCompletions.enabled: true`.
- –ü–µ—Ä–≤–æ–µ: `--port` > `OPENCLAW_GATEWAY_PORT` > `gateway.port` > –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `18789`.
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —à–ª—é–∑–∞ (—Ç–æ–∫–µ–Ω/–ø–∞—Ä–æ–ª—å –∏–ª–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Ä–≤–µ—Ä–∞ Tailscale Serve). –î–ª—è –Ω–µ—Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±—â–∏–π —Ç–æ–∫–µ–Ω/–ø–∞—Ä–æ–ª—å.
- –ú–∞—Å—Ç–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–æ–∫–µ–Ω —à–ª—é–∑–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–¥–∞–∂–µ –Ω–∞ —Ü–∏–∫–ª–µ).
- `gateway.remote.token` **—Ç–æ–ª—å–∫–æ** –¥–ª—è —É–¥–∞–ª—ë–Ω–Ω—ã—Ö CLI –∑–≤–æ–Ω–∫–æ–≤; —ç—Ç–æ –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —à–ª—é–∑–∞. `gateway.token` –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è.

Auth –∏ —Ö–≤–æ—Å—Ç–æ–≤–∞—è —à–∫–∞–ª–∞:

- `gateway.auth.mode` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —Ä—É–∫–æ–ø–æ–∂–∞—Ç–∏—è (`token` –∏–ª–∏ `password`). –ü—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–Ω–æ–º –∫–ª—é—á–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞.
- `gateway.auth.token` —Ö—Ä–∞–Ω–∏—Ç –æ–±—â–∏–π —Ç–æ–∫–µ–Ω –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è CLI –Ω–∞ —Ç–æ–π –∂–µ –º–∞—à–∏–Ω–µ).
- –ö–æ–≥–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `gateway.auth.mode`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ (–ø–ª—é—Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ Tailscal).
- –ó–¥–µ—Å—å –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `gateway.auth.password` –∏–ª–∏ —á–µ—Ä–µ–∑ `OPENCLAW_GATEWAY_PASSWORD` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è).
- `gateway.auth.allowTailscale` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ Tailscale
  (`tailscale-user-login`) –¥–ª—è —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ –ø—Ä–∏–±—ã—Ç–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ loopback
  —Å –ø–æ–º–æ—â—å—é `x-forwarded-for`, `x-forwarded-proto` –∏ `x-forwarded-host`. OpenClaw
  –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–∏—á–Ω–æ—Å—Ç—å, —Ä–∞–∑—Ä–µ—à–∏–≤ –∞–¥—Ä–µ—Å `x-forwarded-for` —á–µ—Ä–µ–∑
  `tailscale whois` –ø–µ—Ä–µ–¥ –ø—Ä–∏–Ω—è—Ç–∏–µ–º. –ö–æ–≥–¥–∞ `true`, —Å–µ—Ä–≤–µ—Ä—É –Ω–µ –Ω—É–∂–µ–Ω
  —Ç–æ–∫–µ–Ω/–ø–∞—Ä–æ–ª—å; —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `false`, —á—Ç–æ–±—ã —Ç—Ä–µ–±–æ–≤–∞—Ç—å —è–≤–Ω—ã—Ö —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
  `true` –ø—Ä–∏ `tailscale.mode = "serve"` –∏ auth —Ä–µ–∂–∏–º –Ω–µ `password`.
- `gateway.tailscale.mode: "serve"` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ—Ä–≤–µ—Ä Tailscale (—Ç–æ–ª—å–∫–æ tailnet, loopback bind).
- `gateway.tailscale.mode: "funnel"` –ø—É–±–ª–∏—á–Ω–æ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏–±–æ—Ä–Ω—É—é –ø–∞–Ω–µ–ª—å; —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∞.
- `gateway.tailscale.resetOnExit` —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏.

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ (CLI):

- `gateway.remote.url` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é URL —à–ª—é–∑–∞ WebSocket –¥–ª—è CLI –≤—ã–∑–æ–≤–æ–≤, –∫–æ–≥–¥–∞ `gateway.mode = "remote"`.
- `gateway.remote.transport` –≤—ã–±–∏—Ä–∞–µ—Ç —É–¥–∞–ª–µ–Ω–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç macOS (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `ssh` `direct` –¥–ª—è ws/wss). –ö–æ–≥–¥–∞ `direct`, `gateway.remote.url` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `ws://` –∏–ª–∏ `wss://`. `ws://host` defaults to port `18789`.
- `gateway.remote.token` —Å–Ω–∞–±–∂–∞–µ—Ç —Ç–æ–∫–µ–Ω –¥–ª—è —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ (–æ—Å—Ç–∞–≤—å—Ç–µ –Ω–µ –∑–∞–¥–∞–Ω –¥–ª—è –∞–≤—Ç–æ—Ä–∞).
- `gateway.remote.password` –ø–µ—Ä–µ–¥–∞–µ—Ç –ø–∞—Ä–æ–ª—å –¥–ª—è —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏).

–ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è macOS:

- OpenClaw.app –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç `~/.openclaw/openclaw.json` –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Ä–µ–∂–∏–º—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `gateway.mode` –∏–ª–∏ `gateway.remote.url`.
- –ï—Å–ª–∏ `gateway.mode` –æ—Ç–∫–ª—é—á–µ–Ω, –Ω–æ `gateway.remote.url` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, macOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—á–∏—Ç–∞–µ—Ç –µ–≥–æ —É–¥–∞–ª–µ–Ω–Ω—ã–º —Ä–µ–∂–∏–º–æ–º.
- –ü—Ä–∏ —Å–º–µ–Ω–µ —Ä–µ–∂–∏–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ macOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç `gateway.mode` (–∏ `gateway.remote.url` + `gateway.remote.transport` –≤ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ) –æ–±—Ä–∞—Ç–Ω–æ –≤ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

```json5
{
  gateway: {
    mode: "remote",
    remote: {
      url: "ws://gateway.tailnet:18789",
      token: "your-token",
      password: "your-password",
    },
  },
}
```

–ü—Ä–∏–º–µ—Ä –ø—Ä—è–º–æ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∞ (macOS app):

```json5
{
  gateway: {
    mode: "remote",
    remote: {
      transport: "direct",
      url: "wss://gateway.example.ts.net",
      token: "your-token",
    },
  },
}
```

### `gateway.reload` (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≥–æ—Ä—è—á–µ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏)

–®–ª—é–∑ —Å–ª–µ–¥–∏—Ç –∑–∞ `~/.openclaw/openclaw.json` (–∏–ª–∏ `OPENCLAW_CONFIG_PATH`) –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è.

–†–µ–∂–∏–º—ã:

- `hybrid` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é): –≥–æ—Ä—è—á–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è; –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —à–ª—é–∑ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.
- `hot`: –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ –≥–æ—Ä—è—á–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è; –∂—É—Ä–Ω–∞–ª, –∫–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫.
- `restart`: –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —à–ª—é–∑ –ø—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
- `off`: –æ—Ç–∫–ª—é—á–∏—Ç—å –≥–æ—Ä—è—á—É—é –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É.

```json5
{
  gateway: {
    reload: {
      mode: "hybrid",
      debounceMs: 300,
    },
  },
}
```

#### –û–±–Ω–æ–≤–ª—è—Ç—å –º–∞—Ç—Ä–∏—Ü—É (—Ñ–∞–π–ª—ã + —É–¥–∞—Ä—ã)

–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

- `~/.openclaw/openclaw.json` (–∏–ª–∏ `OPENCLAW_CONFIG_PATH`)

–ì–æ—Ä—è—á–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —à–ª—é–∑–∞ –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é):

- `hooks` (webhook auth/path/mappings) + `hooks.gmail` (Gmail watcher restarted)
- `browser` (–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–æ–º)
- `cron` (cron —Å–µ—Ä–≤–∏—Å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç + –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ concurrence)
- `agents.defaults.heartbeat` (runner heartbeat runner)
- `web` (–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤–µ–±-–∫–∞–Ω–∞–ª–∞ WhatsApp)
- `—Ç–µ–ª–µ–≥—Ä–∞–º–º–∞, `discord`, `signal`, `imessage\` (–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–∞–Ω–∞–ª–∞)
- `agent`, `models`, `routing`, `messages`, `session`, `whatsapp`, `logging`, `skills`, `ui`, `talk`, `identity`, `wizard` (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —á—Ç–µ–Ω–∏—è)

–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —à–ª—é–∑–∞:

- `gateway` (port/bind/auth/control UI/tailscale)
- ¬´–º–æ—Å—Ç¬ª (–æ–±—ã—á–Ω—ã–π)
- `discovery`
- `canvasHost`
- `–ø–ª–∞–≥–∏–Ω—ã`
- –õ—é–±–æ–π –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π/–Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –ø—É—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –≤ —Ü–µ–ª—è—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)

### –ò–∑–æ–ª—è—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —à–ª—é–∑–æ–≤ –Ω–∞ –æ–¥–Ω–æ–º —Ö–æ—Å—Ç–µ (–¥–ª—è –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –∏–ª–∏ —Å–ø–∞—Å–∞—Ç–µ–ª—å–Ω–æ–≥–æ –±–æ—Ç–∞), –∏–∑–æ–ª–∏—Ä—É–π—Ç–µ –∫–∞–∂–¥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ + –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ—Ä—Ç—ã:

- `OPENCLAW_CONFIG_PATH` (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞)
- `OPENCLAW_STATE_DIR` (—Å–µ—Å—Å–∏–∏/–∫—Ä–µ–¥–∏—Ç—ã)
- `agents.defaults.workspace` (memories)
- `gateway.port` (—É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∑–∞ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä)

–§–ª–∞–≥–∏ —É–¥–æ–±—Å—Ç–≤–∞ (CLI):

- `openclaw --dev ‚Ä¶` ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `~/.openclaw-dev` + —Å–¥–≤–∏–≥–∞–µ—Ç –ø–æ—Ä—Ç—ã –∏–∑ –±–∞–∑—ã `19001`
- `openclaw --profile <name> ‚Ä¶` ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `~/.openclaw-<name>` (–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ config/env/flags)

–°–º. [Gateway runbook](/gateway) –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã—Ö –ø–æ—Ä—Ç–æ–≤ (gateway/browser/canvas).
–°–º–æ—Ç—Ä–∏—Ç–µ [–ù–µ—Å–∫–æ–ª—å–∫–æ —à–ª—é–∑–æ–≤](/gateway/multiple-gateways) –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏–∑–æ–ª—è—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞/CDP –ø–æ—Ä—Ç–æ–≤.

–ü—Ä–∏–º–µ—Ä:

```bash
OPENCLAW_CONFIG_PATH=~/.openclaw/a.json \
OPENCLAW_STATE_DIR=~/.openclaw-a \
—à–ª—é–∑ openclaw --port 19001
```

### `hooks` (Gateway webhooks)

–í–∫–ª—é—á–∏—Ç—å –ø—Ä–æ—Å—Ç–æ–π HTTP-–≤–µ–±-—Ö—É–∫ –Ω–∞ HTTP-—Å–µ—Ä–≤–µ—Ä–µ –®–ª—é–∑–∞.

–í–ª–æ–∂–µ–Ω–Ω—ã–µ –≤–∫–ª—é—á–µ–Ω–∏—è

- –≤–∫–ª—é—á–µ–Ω–æ: `false`
- –ø—É—Ç—å: `/hooks`
- maxBodyBytes: `262144` (256 KB)

```json5
{
  hooks: {
    enabled: true,
    token: "shared-secret",
    –ø—É—Ç—å: "/hooks",
    –ø—Ä–µ—Å–µ—Ç: ["gmail"],
    transformsDir: "~/. –ø–µ–Ω–∫–ª–æ—É/–ø–µ—á–µ–Ω—å–∫–∏",
    —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è: [
      {
        match: { path: "gmail" },
        –î–µ–π—Å—Ç–≤–∏–µ: "–ê–≥–µ–Ω—Ç",
        –†–µ–∂–∏–º –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è: "now",
        –Ω–∞–∑–≤–∞–Ω–∏–µ: "Gmail",
        sessionKey: "hook:gmail:{{messages[0].id}}",
        —à–∞–±–ª–æ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–π: "–û—Ç: {{messages[0].from}}\n–¢–µ–º–∞: {{messages[0].subject}}\n{{messages[0].snippet}}",
        –¥–æ—Å—Ç–∞–≤–∫–∞: true,
        –∫–∞–Ω–∞–ª: "–ø–æ—Å–ª–µ–¥–Ω–∏–π",
        –º–æ–¥–µ–ª—å: "openai/gpt-5. -mini",
      },
    ],
  },
}
```

–ó–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –≤–∫–ª—é—á–∞—Ç—å —Ç–æ–∫–µ–Ω —Ö—É–∫–∞:

- \`–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: –Ω–æ—Å–∏—Ç–µ–ª—å <token>**–∏–ª–∏**
- `x-openclaw-token: <token>`

–ö–æ–Ω–µ—á–Ω—ã–µ —Ç–æ—á–∫–∏:

- `POST /hooks/wake` ‚Üí `{ text, mode?: "now"|"next-heartbeat" }`
- `POST /hooks/agent` ‚Üí `{ message, name?, sessionKey?, wakeMode?, deliver?, channel?, –¥–ª—è?, –º–æ–¥–µ–ª–∏?, –¥—É–º–∞—é?, timeoutSeconds? }`
- `POST /hooks/<name>` ‚Üí —Ä–∞–∑—Ä–µ—à–µ–Ω–æ —á–µ—Ä–µ–∑ `hooks.mappings`

`/hooks/agent` –≤—Å–µ–≥–¥–∞ –ø—É–±–ª–∏–∫—É–µ—Ç —Ä–µ–∑—é–º–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏ (–∏ –º–æ–∂–µ—Ç –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–∑–≤–∞—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `wakeMode: "now"`).

–°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫:

- `match.path` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–¥–ø—É—Ç–∏ –ø–æ—Å–ª–µ `/hooks` (–Ω–∞–ø—Ä–∏–º–µ—Ä `/hooks/gmail` ‚Üí `gmail`).
- `match.source` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª—é payload (–Ω–∞–ø—Ä–∏–º–µ—Ä `{ source: "gmail" }`), —Ç–∞–∫ —á—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–π –ø—É—Ç—å `/hooks/ingest`.
- –¢–∞–∫–∏–µ —à–∞–±–ª–æ–Ω—ã, –∫–∞–∫ `{{messages[0].subject}}`, —á–∏—Ç–∞–µ—Ç—Å—è –∏–∑ –ø–æ–ª–µ–∑–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏.
- `transform` –º–æ–∂–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –º–æ–¥—É–ª—å JS/TS, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ —Ö—É–∫–∞.
- `deliver: true` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –≤ –∫–∞–Ω–∞–ª; `channel` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ `last` (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ WhatsApp).
- –ï—Å–ª–∏ —Ä–∞–Ω—å—à–µ –º–∞—Ä—à—Ä—É—Ç–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –Ω–µ—Ç, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `channel` + `to` —è–≤–Ω–æ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è Telegram/Discord/Google Chat/Slack/Signal/iMessage/MS –∫–æ–º–∞–Ω–¥).
- `model` –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç LLM –¥–ª—è —ç—Ç–æ–≥–æ —Ö—É–∫–∞ (`provider/model` –∏–ª–∏ –∞–ª–∏–∞—Å–∞; –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Ñ–∞–π–ª `agents.defaults.models`).

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Gmail –ø–æ–º–æ—â–Ω–∏–∫–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `openclaw webhooks gmail setup` / `run`):

```json5
{
  hooks: {
    gmail: {
      account: "openclaw@gmail. om",
      —Ç–µ–º–∞: "projects/<project-id>/topics/gog-gmail-watch",
      –ø–æ–¥–ø–∏—Å–∫–∞: "gog-gmail-watch-push",
      pushToken: "shared-push-token",
      hookUrl: "http://127. .0.1:18789/hooks/gmail",
      includeBody: true,
      maxBytes: 20000,
      –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ EveryMinutes: 720,
      serve: { bind: "127. .0. ", port: 8788, –ø—É—Ç—å: "/" },
      tailscale: { mode: "funnel", path: "/gmail-pubsub" },

      // –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –¥–µ—à–µ–≤—É—é –º–æ–¥–µ–ª—å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ö—É–∫–∞ Gmail
      // –û—Ç–∑—ã–≤–∞–º–∏ –æ–±—Ä–∞—Ç–Ω–æ –∫ –∞–≥–µ–Ω—Ç–∞–º. efaults.model. allbacks, –∑–∞—Ç–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π, –ø–æ auth/rate-limit/timeout
      –º–æ–¥–µ–ª—å: "openrouter/meta-llama/llama-3. -70b-instruct:free",
      // –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ: —É—Ä–æ–≤–µ–Ω—å –º—ã—à–ª–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è Gmail —Ö—É–∫–æ–≤
      –¥—É–º–∞–µ—Ç: "off",
    },
  },
}
```

–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –¥–ª—è —Ö—É–∫–æ–≤ Gmail:

- `hooks.gmail.model` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–æ–¥–µ–ª—å –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ Gmail —Ö—É–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - –æ—Å–Ω–æ–≤–Ω–∞—è —Å–µ—Å—Å–∏—è).
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `provider/model` refs or aliases from `agents.defaults.models`.
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `agents.defaults.model.fallbacks`, –∑–∞—Ç–µ–º `agents.defaults.model.primary`, on auth/rate-limit/timeouts.
- –ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `agents.defaults.models`, –≤–∫–ª—é—á–∏—Ç–µ –≤ —Å–ø–∏—Å–æ–∫ –ø–æ–¥—Ö–æ–¥—è—â—É—é –º–æ–¥–µ–ª—å —Ö—É–∫–æ–≤.
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç, –Ω–µ—Ç –ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –∏–ª–∏ —Å–ø–∏—Å–∫–µ –º–æ–¥–µ–ª–µ–π.
- `hooks.gmail.thinking` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –º—ã—à–ª–µ–Ω–∏—è –¥–ª—è —Ö—É–∫–æ–≤ Gmail –∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω –Ω–∞ –∫–∞–∂–¥—ã–π —Ö—É–∫ `think `.

–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —à–ª—é–∑–∞:

- –ï—Å–ª–∏ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `hooks.enabled=true` –∏ `hooks.gmail.account`, —à–ª—é–∑ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
  `gog gmail watch serve` –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏ –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —á–∞—Å–∞.
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `OPENCLAW_SKIP_GMAIL_WATCHER=1`, —á—Ç–æ–±—ã –æ—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ (–¥–ª—è —Ä—É—á–Ω—ã—Ö –∑–∞–ø—É—Å–∫–∞).
- –ò–∑–±–µ–≥–∞–π—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ `gog gmail watch serve` –≤–º–µ—Å—Ç–µ —Å —à–ª—é–∑–æ–º; –æ–Ω –±—É–¥–µ—Ç
  –Ω–µ —É–¥–∞—ë—Ç—Å—è —Å `listen tcp 127.0.0.1:8788: bind: —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è`.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –∫–æ–≥–¥–∞ `tailscale.mode` –≤–∫–ª—é—á–µ–Ω, OpenClaw –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `serve.path` –≤ `/`, —Ç–∞–∫ —á—Ç–æ
Tailscale –º–æ–∂–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å `/gmail-pubsub` (–æ–Ω —Ä–∞–∑–¥–µ–ª—è–µ—Ç –ø—Ä–µ—Ñ–∏–∫—Å set-path).
–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–µ–Ω –±—ç–∫—ç–Ω–¥, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å–Ω—ã–π –ø—É—Ç—å, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ
`hooks.gmail.tailscale.target` –Ω–∞ –ø–æ–ª–Ω—ã–π URL (–∏ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–π—Ç–µ `serve.path`).

### `canvasHost` (LAN/tailnet Canvas file server + live reload)

–®–ª—é–∑ —Å–ª—É–∂–∏—Ç –∫–∞—Ç–∞–ª–æ–≥—É HTML/CSS/JS —á–µ—Ä–µ–∑ HTTP, —á—Ç–æ–±—ã —É–∑–ª—ã iOS/Android –º–æ–≥–ª–∏ –ø—Ä–æ—Å—Ç–æ `canvas.navigate` –∫ –Ω–µ–º—É.

–ö–æ—Ä–µ–Ω—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `~/. penclaw/workspace/canvas`  
–ü–æ—Ä—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `18793` (–≤—ã–±—Ä–∞–Ω, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–æ—Ä—Ç–∞ CDP –±—Ä–∞—É–∑–µ—Ä–∞ openclaw `18792`)  
–°–µ—Ä–≤–µ—Ä —Å–ª—É—à–∞–µ—Ç **—à–ª—é–∑** (LAN –∏–ª–∏ Tailnet), —Ç–∞–∫ —á—Ç–æ —É–∑–ª—ã –º–æ–≥—É—Ç –¥–æ—Å—Ç–∏—á—å –µ–≥–æ.

–°–µ—Ä–≤–µ—Ä:

- –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç —Ñ–∞–π–ª—ã –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `canvasHost.root`
- –≤–≤–æ–¥–∏—Ç –º–∞–ª–µ–Ω—å–∫–∏–π live-reload –∫–ª–∏–µ–Ω—Ç –≤ –æ–±—Å–ª—É–∂–∏–≤–∞–µ–º—ã–π HTML
- —Å–ª–µ–¥–∏—Ç –∑–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–º –∏ —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É–µ—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É —á–µ—Ä–µ–∑ –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É WebSocket –≤ `/__openclaw__/ws`
- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —Ñ–∞–π–ª `index.html`, –∫–æ–≥–¥–∞ –∫–∞—Ç–∞–ª–æ–≥ –ø—É—Å—Ç (—Ç–∞–∫ —á—Ç–æ –≤—ã –≤–∏–¥–∏—Ç–µ —á—Ç–æ-—Ç–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ)
- —Ç–∞–∫–∂–µ —Å–ª—É–∂–∏—Ç A2UI –≤ `/__openclaw__/a2ui/` –∏ —Ä–µ–∫–ª–∞–º–∏—Ä—É–µ—Ç—Å—è –≤ —É–∑–ª—ã –∫–∞–∫ `canvasHostUrl`
  (–≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É–∑–ª–∞–º–∏ –¥–ª—è Canvas/A2UI)

–û—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä—è–º—É—é –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É (–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∞–π–ª–æ–≤), –µ—Å–ª–∏ –∫–∞—Ç–∞–ª–æ–≥ –±–æ–ª—å—à–æ–π –∏–ª–∏ –≤—ã –Ω–∞–∂–º–µ—Ç–µ `EMFILE`:

- config: `canvasHost: { liveReload: false }`

```json5
{
  canvasHost: {
    root: "~/.openclaw/workspace/canvas",
    port: 18793,
    liveReload: true,
  },
}
```

–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `canvasHost.*` —Ç—Ä–µ–±—É—é—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —à–ª—é–∑–∞ (–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è).

–û—Ç–∫–ª—é—á–∏—Ç—å:

- config: `canvasHost: { enabled: false }`
- env: `OPENCLAW_SKIP_CANVAS_HOST=1`

### `–º–æ—Å—Ç` (—É—Å—Ç–∞—Ä–µ–≤—à–∏–π TCP –º–æ—Å—Ç, —É–¥–∞–ª–µ–Ω)

–¢–µ–∫—É—â–∏–µ —Å–±–æ—Ä–∫–∏ –±–æ–ª—å—à–µ –Ω–µ –≤–∫–ª—é—á–∞—é—Ç listener; –∫–ª—é—á–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `bridge.*` –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.
–£–∑–ª—ã –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ WebSocket. –≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª —Ö—Ä–∞–Ω–∏—Ç—Å—è –¥–ª—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–π —Å—Å—ã–ª–∫–∏.

–ù–∞—Å–ª–µ–¥–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è:

- –®–ª—é–∑ –º–æ–∂–µ—Ç –≤—ã–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π TCP –º–æ—Å—Ç –¥–ª—è —É–∑–ª–æ–≤ (iOS/Android), –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –Ω–∞ –ø–æ—Ä—Ç—É `18790`.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

- –≤–∫–ª—é—á–µ–Ω–æ: `true`
- –ø–æ—Ä—Ç: `18790`
- bind: `lan` (binds to `0.0.0.0`)

Bind modes:

- `lan`: `0.0.0.0` (–¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ –ª—é–±–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ, –≤–∫–ª—é—á–∞—è –ª–æ–∫–∞–ª—å–Ω—É—é —Å–µ—Ç—å, Wi-Fi –∏ Tailscale)
- ¬´—Ö–≤–æ—Å—Ç–æ–≤–∞—è —Å–µ—Ç—å¬ª: –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ IP-–∞–¥—Ä–µ—Å—É Tailscale (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –í–µ–Ω—ã –≤ –õ–æ–Ω–¥–æ–Ω–µ)
- `loopback`: `127.0.0.1` (—Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ)
- `auto`: –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ö–≤–æ—Å—Ç IP –µ—Å–ª–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –∏–Ω–∞—á–µ `lan`

TLS:

- `bridge.tls.enabled`: –≤–∫–ª—é—á–∏—Ç—å TLS –¥–ª—è –º–æ—Å—Ç–æ–≤—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (TLS-—Ç–æ–ª—å–∫–æ, –∫–æ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω–æ).
- `bridge.tls.autoGenerate`: –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç, –∫–æ–≥–¥–∞ cert/key –Ω–µ—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: true).
- `bridge.tls.certPath` / `bridge.tls.keyPath`: –ø—É—Ç–∏ –∫ PEM –¥–ª—è –º–æ—Å—Ç–æ–≤–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ + –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á.
- `bridge.tls.caPath`: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π PEM CA –ø–∞–∫–µ—Ç (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ—Ä–Ω–∏ –∏–ª–∏ –±—É–¥—É—â–∏–µ mTLS).

–ö–æ–≥–¥–∞ TLS –≤–∫–ª—é—á–µ–Ω, —à–ª—é–∑ —Ä–µ–∫–ª–∞–º–∏—Ä—É–µ—Ç `bridgeTls=1` –∏ `bridgeTlsSha256` –≤ –æ—Ç–∫—Ä—ã—Ç–∏–∏ TXT
–∑–∞–ø–∏—Å–µ–π, —á—Ç–æ–±—ã —É–∑–ª—ã –º–æ–≥–ª–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç. –†—É—á–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç "trust-on-first-us", –µ—Å–ª–∏ –æ—Ç–ø–µ—á–∞—Ç–æ–∫ –ø–∞–ª—å—Ü–∞
–ø–æ–∫–∞ –Ω–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω.
–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —Ç—Ä–µ–±—É—é—Ç `openssl` –Ω–∞ PATH; –µ—Å–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–µ —É–¥–∞–µ—Ç—Å—è, –º–æ—Å—Ç –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è.

```json5
{
  –º–æ—Å—Ç–∞: {
    –≤–∫–ª—é—á–µ–Ω: true,
    –ü–æ—Ä—Ç: 18790,
    –ø—Ä–∏–≤—è–∑–∫–∞: "—Ö–≤–æ—Å—Ç–æ–≤–∞—è —Å–µ—Ç—å",
    tls: {
      –≤–∫–ª—é—á–µ–Ω: true,
      // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç ~/. penclaw/bridge/tls/bridge-{cert,key}. em when omitted.
      // certPath: "~/.openclaw/bridge/tls/bridge-cert.pem",
      // keyPath: "~/. penclaw/bridge/tls/bridge-key.pem"
    },
  },
}
```

### `discovery.mdns` (—Ä–µ–∂–∏–º —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏ Bonjour / mDNS)

–£–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ–º mDNS —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–π (`_openclaw-gw._tcp`).

- `minimal` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é): omit `cliPath` + `sshPort` –∏–∑ TXT –∑–∞–ø–∏—Å–µ–π
- `full`: –≤–∫–ª—é—á–∏—Ç—å `cliPath` + `sshPort` –≤ TXT –∑–∞–ø–∏—Å–∏
- `–≤—ã–∫–ª`: –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–∏—Ç—å —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏ mDNS
- –ò–º—è —Ö–æ—Å—Ç–∞: –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `openclaw` (—Ä–µ–∫–ª–∞–º–∏—Ä—É–µ—Ç `openclaw.local`). –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å –ø–æ–º–æ—â—å—é `OPENCLAW_MDNS_HOSTNAME`.

```json5
{
  discovery: { mdns: { mode: "minimal" } },
}
```

### `discovery.wideArea` (Wide-Area Bonjour / unicast DNS-SD)

–ï—Å–ª–∏ —ç—Ç–∞ –æ–ø—Ü–∏—è –≤–∫–ª—é—á–µ–Ω–∞, —à–ª—é–∑ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ —Ñ–∞–π–ª `_openclaw-gw._tcp` unicast DNS-SD zone –¥–ª—è `_openclaw-gw._tcp` –≤ –ø–∞–ø–∫–µ `~/.openclaw/dns/` –∏—Å–ø–æ–ª—å–∑—É—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –¥–æ–º–µ–Ω –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è (–ø—Ä–∏–º–µ—Ä: `openclaw.internal.`).

–ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å iOS/Android –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å —á–µ—Ä–µ–∑ —Å–µ—Ç–∏ (Vienna <unk> London), —Å–≤—è–∂–∏—Ç–µ —ç—Ç–æ —Å:

- DNS —Å–µ—Ä–≤–µ—Ä –Ω–∞ —à–ª—é–∑–µ —Ö–æ—Å—Ç–∞, –æ–±—Å–ª—É–∂–∏–≤–∞—é—â–µ–≥–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –¥–æ–º–µ–Ω (CoreDNS —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- Tailscale **split DNS** –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∫–ª–∏–µ–Ω—Ç—ã –º–æ–≥–ª–∏ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ–º–µ–Ω —á–µ—Ä–µ–∑ —à–ª—é–∑ DNS —Å–µ—Ä–≤–µ—Ä

–ï–¥–∏–Ω–æ—Ä–∞–∑–æ–≤—ã–π –ø–æ–º–æ—â–Ω–∏–∫ (—Ö–æ—Å—Ç —à–ª—é–∑–∞):

```bash
openclaw dns setup --apply
```

```json5
{
  discovery: { wideArea: { enabled: true } },
}
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω–∞ –º–æ–¥–µ–ª–∏ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ —à–∞–±–ª–æ–Ω–æ–≤ —Ä–∞—Å—à–∏—Ä–µ–Ω—ã –≤ `tools.media.*.models[].args` –∏ `tools.media.models[].args` (–∏ –ª—é–±—ã—Ö –±—É–¥—É—â–∏—Ö —à–∞–±–ª–æ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤).

\| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ |
\| ----------------------------------------------------------------------------------------------- | ------| ------- | ---------- | ----- | ------ | ------- | ------- | ------- | --- | --- |
\| `{{Body}}` | –ü–æ–ª–Ω–æ–µ –≤—Ö–æ–¥—è—â–µ–µ —Ç–µ–ª–æ |
\| `{{RawBody}}` | Raw –≤—Ö–æ–¥—è—â–µ–µ —Ç–µ–ª–æ —Å–æ–æ–±—â–µ–Ω–∏—è (–Ω–µ—Ç –æ–±–æ–ª–æ—á–µ–∫ –∏—Å—Ç–æ—Ä–∏–∏/–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è; –ª—É—á—à–µ–µ –¥–ª—è –∫–æ–º–∞–Ω–¥ parsing) |
\| `{{BodyStripped}}` | –¢–µ–ª–æ —Å —É–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏ –≤ –≥—Ä—É–ø–ø–∞—Ö –ø–æ–ª–æ—Å–∫–∞–Ω–æ (–ª—É—á—à–µ–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤) |
\| `{{From}}` | –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (E. 64 –¥–ª—è WhatsApp; –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –ø–æ –∫–∞–Ω–∞–ª—É) |
\| `{{To}}` | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è |
\| `{{MessageSid}}| –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è (–∫–æ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ) | | `{{SessionId}}`| –¢–µ–∫—É—â–∞—è —Å–µ—Å—Å–∏—è UUID |
|`{{IsNewSession}}`|`"true"`–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏ |
|`{{MediaUrl}}`| Inbound media pseudo-URL (–µ—Å–ª–∏ –∏–º–µ–µ—Ç—Å—è) |
|`{{MediaPath}}`| –ü—É—Ç—å –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –Ω–æ—Å–∏—Ç–µ–ª—é (–µ—Å–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–æ) |
|`{{MediaType}}`| –¢–∏–ø –º–µ–¥–∏–∞ (image/audio/document/‚Ä¶)                                             |
|`{{Transcript}}`  | –ê—É–¥–∏–æ—Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç (–∫–æ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω–æ)                                                 |
|`{{Prompt}}`      | –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–π –º–µ–¥–∏–∞–ø—Ä–æ–º–ø—Ç –¥–ª—è CLI-–∑–∞–ø–∏—Å–µ–π                                          |
|`{{MaxChars}}`    | –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–π –º–∞–∫—Å–∏–º—É–º —Å–∏–º–≤–æ–ª–æ–≤ –≤—ã–≤–æ–¥–∞ –¥–ª—è CLI-–∑–∞–ø–∏—Å–µ–π                            |
|`{{ChatType}}`    |`"direct"`–∏–ª–∏`"group"`                                                    |
|`{{GroupSubject}}`| –¢–µ–º–∞ –≥—Ä—É–ø–ø—ã (–ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)                                                     |
|`{{GroupMembers}}`| –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≥—Ä—É–ø–ø—ã (–ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)                                 |
|`{{SenderName}}`  | –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è (–ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)                                   |
|`{{SenderE164}}`  | –¢–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è (–ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)                                   |
|`{{Provider}}\`     | –ü–æ–¥—Å–∫–∞–∑–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (whatsapp | telegram | discord | googlechat | slack | signal | imessage | msteams | webchat | ‚Ä¶)  |

## Cron (–ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –≤–æ—Ä–æ—Ç)

Cron - —ç—Ç–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —à–ª—é–∑–æ–≤ –¥–ª—è –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è –∏ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π. –°–º–æ—Ç—Ä–∏—Ç–µ [Cron jobs](/automation/cron-jobs) –æ–±–∑–æ—Ä –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –∏ –ø—Ä–∏–º–µ—Ä—ã CLI.

```json5
{
  cron: {
    enabled: true,
    maxConcurrentRuns: 2,
  },
}
```

---

_–î–∞–ª–µ–µ: [Agent Runtime](/concepts/agent)_ ü¶û

---
summary: "Интеграция PeekabooBridge для автоматизации UI в macOS"
read_when:
  - Хостинг PeekabooBridge в OpenClaw.app
  - Интеграция Peekaboo через Swift Package Manager
  - Изменение протокола/путей PeekabooBridge
title: "Peekaboo Bridge"
---

# Peekaboo Bridge (автоматизация UI в macOS)

OpenClaw может размещать **PeekabooBridge** как локальный, учитывающий разрешения
брокер автоматизации UI. Это позволяет CLI `peekaboo` управлять автоматизацией UI,
повторно используя разрешения TCC приложения macOS.

## Что это такое (и чем не является)

- **Хост**: OpenClaw.app может выступать хостом PeekabooBridge.
- **Клиент**: используйте CLI `peekaboo` (без отдельного интерфейса `openclaw ui ...`).
- **UI**: визуальные оверлеи остаются в Peekaboo.app; OpenClaw — тонкий хост‑брокер.

## Включение моста

В приложении macOS:

- Settings → **Enable Peekaboo Bridge**

При включении OpenClaw запускает локальный сервер UNIX‑сокета. Если отключено, хост
останавливается, и `peekaboo` переключится на другие доступные хосты.

## Порядок обнаружения клиента

Клиенты Peekaboo обычно пытаются подключаться к хостам в таком порядке:

1. Peekaboo.app (полный UX)
2. Claude.app (если установлен)
3. OpenClaw.app (тонкий брокер)

Используйте `peekaboo bridge status --verbose`, чтобы увидеть, какой хост активен и какой
путь сокета используется. Вы можете переопределить его с помощью:

```bash
export PEEKABOO_BRIDGE_SOCKET=/path/to/bridge.sock
```

## Безопасность и разрешения

- Мост проверяет **подписи кода вызывающей стороны**; применяется список разрешённых TeamID
  (TeamID хоста Peekaboo + TeamID приложения OpenClaw).
- Запросы истекают по тайм‑ауту примерно через 10 секунд.
- Если требуемые разрешения отсутствуют, мост возвращает понятное сообщение об ошибке,
  а не запускает System Settings.

## Поведение снимков (автоматизация)

Снимки хранятся в памяти и автоматически истекают через короткий промежуток времени.
Если требуется более длительное хранение, выполните повторный захват со стороны клиента.

## Устранение неполадок

- Если `peekaboo` сообщает «bridge client is not authorized», убедитесь, что клиент
  корректно подписан, или запустите хост с `PEEKABOO_ALLOW_UNSIGNED_SOCKET_CLIENTS=1`
  **только** в режиме **debug**.
- Если хосты не обнаружены, откройте одно из хост‑приложений (Peekaboo.app или OpenClaw.app)
  и подтвердите, что разрешения предоставлены.

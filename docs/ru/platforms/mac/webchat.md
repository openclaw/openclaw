---
summary: "Как приложение для macOS встраивает WebChat шлюза Gateway и как его отлаживать"
read_when:
  - Отладка представления WebChat для macOS или порта local loopback
title: "WebChat"
---

# WebChat (приложение для macOS)

Приложение для macOS в строке меню встраивает интерфейс WebChat как нативное представление SwiftUI. Оно
подключается к Gateway (шлюз) и по умолчанию использует **основной сеанс** для выбранного
агента (с переключателем сеансов для других сеансов).

- **Локальный режим**: прямое подключение к локальному WebSocket Gateway.
- **Удалённый режим**: проброс управляющего порта Gateway по SSH и использование этого
  туннеля как плоскости данных.

## Запуск и отладка

- Вручную: меню Lobster → «Open Chat».

- Авто‑открытие для тестирования:

  ```bash
  dist/OpenClaw.app/Contents/MacOS/OpenClaw --webchat
  ```

- Логи: `./scripts/clawlog.sh` (подсистема `bot.molt`, категория `WebChatSwiftUI`).

## Как это подключено

- Плоскость данных: методы WS Gateway `chat.history`, `chat.send`, `chat.abort`,
  `chat.inject` и события `chat`, `agent`, `presence`, `tick`, `health`.
- Сеанс: по умолчанию используется основной сеанс (`main` или `global`, когда область видимости
  глобальная). Интерфейс может переключаться между сеансами.
- Онбординг использует выделенный сеанс, чтобы отделить настройку первого запуска.

## Поверхность безопасности

- В удалённом режиме по SSH пробрасывается только управляющий порт WebSocket Gateway.

## Известные ограничения

- Интерфейс оптимизирован для чат‑сеансов (не является полноценным браузерным sandbox).

---
summary: "Манифест плагина и требования JSON Schema (строгая валидация конфига)"
read_when:
  - Вы разрабатываете плагин OpenClaw
  - Вам нужно поставлять схему конфига плагина или отлаживать ошибки валидации плагина
title: "Манифест плагина"
---

# Манифест плагина (openclaw.plugin.json)

Каждый плагин **обязан** поставлять файл `openclaw.plugin.json` в **корне плагина**.
OpenClaw использует этот манифест для валидации конфигурации **без выполнения кода
плагина**. Отсутствующие или некорректные манифесты считаются ошибками плагина и
блокируют валидацию конфига.

полное руководство по системе плагинов: [Plugins](/tools/plugin).

## Обязательные поля

```json
{
  "id": "voice-call",
  "configSchema": {
    "type": "object",
    "additionalProperties": false,
    "properties": {}
  }
}
```

Обязательные ключи:

- `id` (string): канонический идентификатор плагина.
- `configSchema` (object): JSON Schema для конфига плагина (встроенная).

Необязательные ключи:

- `kind` (string): тип плагина (пример: `"memory"`).
- `channels` (array): идентификаторы каналов, регистрируемые этим плагином (пример: `["matrix"]`).
- `providers` (array): идентификаторы провайдеров, регистрируемые этим плагином.
- `skills` (array): директории Skills для загрузки (относительно корня плагина).
- `name` (string): отображаемое имя плагина.
- `description` (string): краткое описание плагина.
- `uiHints` (object): метки полей конфига / placeholders / флаги чувствительности для рендеринга UI.
- `version` (string): версия плагина (информационная).

## Требования к JSON Schema

- **Каждый плагин должен поставлять JSON Schema**, даже если он не принимает конфигурацию.
- Пустая схема допустима (например, `{ "type": "object", "additionalProperties": false }`).
- Схемы валидируются при чтении/записи конфига, а не во время выполнения.

## Поведение проверки

- Неизвестные ключи `channels.*` считаются **ошибками**, если только идентификатор
  канала не объявлен в манифесте плагина.
- `plugins.entries.<id>`, `plugins.allow`, `plugins.deny` и `plugins.slots.*`
  должны ссылаться на **обнаруживаемые** идентификаторы плагинов. Неизвестные идентификаторы считаются **ошибками**.
- Если плагин установлен, но имеет повреждённый или отсутствующий манифест или схему,
  валидация завершается неуспешно, а Doctor сообщает об ошибке плагина.
- Если конфиг плагина существует, но плагин **отключён**, конфиг сохраняется и
  **предупреждение** отображается в Doctor и логах.

## Примечания

- Манифест **обязателен для всех плагинов**, включая загрузку из локальной файловой системы.
- Во время выполнения модуль плагина всё равно загружается отдельно; манифест используется только для
  обнаружения и валидации.
- Если ваш плагин зависит от нативных модулей, задокументируйте шаги сборки и любые
  требования к allowlist менеджера пакетов (например, pnpm `allow-build-scripts`
  — `pnpm rebuild <package>`).
  - `pnpm rebuild <package>`).

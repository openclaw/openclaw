---
summary: "–ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä: —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–µ–∞–Ω—Å–æ–≤ + —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç—ã, –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (–∞–≤—Ç–æ)—É–ø–ª–æ—Ç–Ω–µ–Ω–∏—è"
read_when:
  - –í–∞–º –Ω—É–∂–Ω–æ –æ—Ç–ª–∞–¥–∏—Ç—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Å–µ–∞–Ω—Å–æ–≤, JSONL —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–æ–≤ –∏–ª–∏ –ø–æ–ª—è sessions.json
  - –í—ã –º–µ–Ω—è–µ—Ç–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∞–≤—Ç–æ—É–ø–ª–æ—Ç–Ω–µ–Ω–∏—è –∏–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç–µ ¬´–ø—Ä–µ–¥—É–ø–ª–æ—Ç–Ω–∏—Ç–µ–ª—å–Ω—É—é¬ª —Å–ª—É–∂–µ–±–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É
  - –í—ã —Ö–æ—Ç–∏—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–±—Ä–æ—Å –ø–∞–º—è—Ç–∏ –∏–ª–∏ —Ç–∏—Ö–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ö–æ–¥—ã
title: "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∞–Ω—Å–∞–º–∏"
---

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∞–Ω—Å–∞–º–∏ –∏ —É–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ (–ø–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä)

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–±—ä—è—Å–Ω—è–µ—Ç, –∫–∞–∫ OpenClaw —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–µ–∞–Ω—Å–∞–º–∏ –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞:

- **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–µ–∞–Ω—Å–æ–≤** (–∫–∞–∫ –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å `sessionKey`)
- **–•—Ä–∞–Ω–∏–ª–∏—â–µ —Å–µ–∞–Ω—Å–æ–≤** (`sessions.json`) –∏ —á—Ç–æ –≤ –Ω—ë–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–æ–≤** (`*.jsonl`) –∏ –∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **–ì–∏–≥–∏–µ–Ω–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–æ–≤** (–ø—Ä–æ–≤–∞–π–¥–µ—Ä-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–∞–º–∏)
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** (–æ–∫–Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ vs –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ —Ç–æ–∫–µ–Ω—ã)
- **–£–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ** (—Ä—É—á–Ω–æ–µ + –∞–≤—Ç–æ—É–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ) –∏ —Ç–æ—á–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞–±–æ—Ç
- **–¢–∏—Ö–∞—è —Å–ª—É–∂–µ–±–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø–∏—Å–∏ –ø–∞–º—è—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –¥–æ–ª–∂–Ω—ã –¥–∞–≤–∞—Ç—å –≤—ã–≤–æ–¥, –≤–∏–¥–∏–º—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é)

–ï—Å–ª–∏ –≤–∞–º —Å–Ω–∞—á–∞–ª–∞ –Ω—É–∂–µ–Ω –æ–±–∑–æ—Ä –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è, –Ω–∞—á–Ω–∏—Ç–µ —Å:

- [/concepts/session](/concepts/session)
- [/concepts/compaction](/concepts/compaction)
- [/concepts/session-pruning](/concepts/session-pruning)
- [/reference/transcript-hygiene](/reference/transcript-hygiene)

---

## –ò—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã: Gateway (—à–ª—é–∑)

OpenClaw —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω –≤–æ–∫—Ä—É–≥ –æ–¥–Ω–æ–≥–æ **–ø—Ä–æ—Ü–µ—Å—Å–∞ Gateway**, –∫–æ—Ç–æ—Ä—ã–π –≤–ª–∞–¥–µ–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Å–µ–∞–Ω—Å–æ–≤.

- UI (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è macOS, –≤–µ–± Control UI, TUI) –¥–æ–ª–∂–Ω—ã –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —É Gateway —Å–ø–∏—Å–∫–∏ —Å–µ–∞–Ω—Å–æ–≤ –∏ —Å—á—ë—Ç—á–∏–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤.
- –í —É–¥–∞–ª—ë–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ —Ñ–∞–π–ª—ã —Å–µ–∞–Ω—Å–æ–≤ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–º —Ö–æ—Å—Ç–µ; ¬´–ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –Ω–∞ Mac¬ª –Ω–µ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ç–æ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Gateway.

---

## –î–≤–∞ —É—Ä–æ–≤–Ω—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

OpenClaw —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–µ–∞–Ω—Å—ã –Ω–∞ –¥–≤—É—Ö —É—Ä–æ–≤–Ω—è—Ö:

1. **–•—Ä–∞–Ω–∏–ª–∏—â–µ —Å–µ–∞–Ω—Å–æ–≤ (`sessions.json`)**
   - –ö–∞—Ä—Ç–∞ –∫–ª—é—á/–∑–Ω–∞—á–µ–Ω–∏–µ: `sessionKey -> SessionEntry`
   - –ù–µ–±–æ–ª—å—à–æ–µ, –∏–∑–º–µ–Ω—è–µ–º–æ–µ, –±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π)
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å–µ–∞–Ω—Å–∞ (—Ç–µ–∫—É—â–∏–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ–∞–Ω—Å–∞, –ø–æ—Å–ª–µ–¥–Ω—é—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏, —Å—á—ë—Ç—á–∏–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤ –∏ —Ç. –¥.)

2. **–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç (`<sessionId>.jsonl`)**
   - –¢–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª—è–µ–º—ã–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç —Å –¥—Ä–µ–≤–æ–≤–∏–¥–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π (–∑–∞–ø–∏—Å–∏ –∏–º–µ—é—Ç `id` + `parentId`)
   - –•—Ä–∞–Ω–∏—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –¥–∏–∞–ª–æ–≥ + –≤—ã–∑–æ–≤—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ + —Å–≤–æ–¥–∫–∏ —É–ø–ª–æ—Ç–Ω–µ–Ω–∏—è
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –º–æ–¥–µ–ª–∏ –≤ –±—É–¥—É—â–∏—Ö —Ö–æ–¥–∞—Ö

---

## –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –¥–∏—Å–∫–µ

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞, –Ω–∞ —Ö–æ—Å—Ç–µ —à–ª—é–∑–∞ Gateway:

- –•—Ä–∞–Ω–∏–ª–∏—â–µ: `~/.openclaw/agents/<agentId>/sessions/sessions.json`
- –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç—ã: `~/.openclaw/agents/<agentId>/sessions/<sessionId>.jsonl`
  - –°–µ–∞–Ω—Å—ã —Ç–µ–º Telegram: `.../<sessionId>-topic-<threadId>.jsonl`

OpenClaw —Ä–∞–∑—Ä–µ—à–∞–µ—Ç —ç—Ç–∏ –ø—É—Ç–∏ —á–µ—Ä–µ–∑ `src/config/sessions.ts`.

---

## –ö–ª—é—á–∏ —Å–µ–∞–Ω—Å–æ–≤ (`sessionKey`)

`sessionKey` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, _–≤ –∫–∞–∫–æ–º ¬´–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –¥–∏–∞–ª–æ–≥–∞¬ª_ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å (–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è + –∏–∑–æ–ª—è—Ü–∏—è).

–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã:

- –û—Å–Ω–æ–≤–Ω–æ–π/–ø—Ä—è–º–æ–π —á–∞—Ç (–Ω–∞ –∞–≥–µ–Ω—Ç–∞): `agent:<agentId>:<mainKey>` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `main`)
- –ì—Ä—É–ø–ø–∞: `agent:<agentId>:<channel>:group:<id>`
- –ö–æ–º–Ω–∞—Ç–∞/–∫–∞–Ω–∞–ª (Discord/Slack): `agent:<agentId>:<channel>:channel:<id>` –∏–ª–∏ `...:room:<id>`
- Cron: `cron:<job.id>`
- Webhook: `hook:<uuid>` (–µ—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ)

–ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ [/concepts/session](/concepts/session).

---

## –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Å–µ–∞–Ω—Å–æ–≤ (`sessionId`)

–ö–∞–∂–¥—ã–π `sessionKey` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ç–µ–∫—É—â–∏–π `sessionId` (—Ñ–∞–π–ª —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä).

–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞:

- **–°–±—Ä–æ—Å** (`/new`, `/reset`) —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π `sessionId` –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ `sessionKey`.
- **–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Å–±—Ä–æ—Å** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 4:00 —É—Ç—Ä–∞ –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Ö–æ—Å—Ç–µ —à–ª—é–∑–∞ Gateway) —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π `sessionId` –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –ø–æ—Å–ª–µ –≥—Ä–∞–Ω–∏—Ü—ã —Å–±—Ä–æ—Å–∞.
- **–ò—Å—Ç–µ—á–µ–Ω–∏–µ –ø–æ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—é** (`session.reset.idleMinutes` –∏–ª–∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏–π `session.idleMinutes`) —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π `sessionId`, –∫–æ–≥–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ –æ–∫–Ω–∞ –ø—Ä–æ—Å—Ç–æ—è. –ï—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Å–±—Ä–æ—Å, –∏ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏–µ, —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ, —á—Ç–æ –∏—Å—Ç–µ–∫–∞–µ—Ç —Ä–∞–Ω—å—à–µ.

–î–µ—Ç–∞–ª—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –≤ `initSessionState()` –≤ `src/auto-reply/reply/session.ts`.

---

## –°—Ö–µ–º–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ —Å–µ–∞–Ω—Å–æ–≤ (`sessions.json`)

–¢–∏–ø –∑–Ω–∞—á–µ–Ω–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ ‚Äî `SessionEntry` –≤ `src/config/sessions.ts`.

–ö–ª—é—á–µ–≤—ã–µ –ø–æ–ª—è (–Ω–µ –∏—Å—á–µ—Ä–ø—ã–≤–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫):

- `sessionId`: —Ç–µ–∫—É—â–∏–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–∞ (–∏–º—è —Ñ–∞–π–ª–∞ –≤—ã–≤–æ–¥–∏—Ç—Å—è –∏–∑ –Ω–µ–≥–æ, –µ—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω `sessionFile`)
- `updatedAt`: –æ—Ç–º–µ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- `sessionFile`: –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —è–≤–Ω–æ–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—É—Ç–∏ –∫ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç—É
- `chatType`: `direct | group | room` (–ø–æ–º–æ–≥–∞–µ—Ç UI –∏ –ø–æ–ª–∏—Ç–∏–∫–µ –æ—Ç–ø—Ä–∞–≤–∫–∏)
- `provider`, `subject`, `room`, `space`, `displayName`: –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏ –≥—Ä—É–ø–ø/–∫–∞–Ω–∞–ª–æ–≤
- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏:
  - `thinkingLevel`, `verboseLevel`, `reasoningLevel`, `elevatedLevel`
  - `sendPolicy` (–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ–∞–Ω—Å–∞)
- –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏:
  - `providerOverride`, `modelOverride`, `authProfileOverride`
- –°—á—ë—Ç—á–∏–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤ (best-effort / –∑–∞–≤–∏—Å—è—Ç –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞):
  - `inputTokens`, `outputTokens`, `totalTokens`, `contextTokens`
- `compactionCount`: –∫–∞–∫ —á–∞—Å—Ç–æ –∞–≤—Ç–æ—É–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∞–ª–æ—Å—å –¥–ª—è —ç—Ç–æ–≥–æ –∫–ª—é—á–∞ —Å–µ–∞–Ω—Å–∞
- `memoryFlushAt`: –æ—Ç–º–µ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø—Ä–µ–¥—É–ø–ª–æ—Ç–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å–±—Ä–æ—Å–∞ –ø–∞–º—è—Ç–∏
- `memoryFlushCompactionCount`: —Å—á—ë—Ç—á–∏–∫ —É–ø–ª–æ—Ç–Ω–µ–Ω–∏–π –Ω–∞ –º–æ–º–µ–Ω—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–±—Ä–æ—Å–∞

–•—Ä–∞–Ω–∏–ª–∏—â–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–æ Gateway —è–≤–ª—è–µ—Ç—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –∏—Å—Ç–∏–Ω—ã: –æ–Ω –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –∏–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∑–∞–ø–∏—Å–∏ –ø–æ –º–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–µ–∞–Ω—Å–æ–≤.

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–∞ (`*.jsonl`)

–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è `@mariozechner/pi-coding-agent` —á–µ—Ä–µ–∑ `SessionManager`.

–§–∞–π–ª ‚Äî JSONL:

- –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞: –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ–∞–Ω—Å–∞ (`type: "session"`, –≤–∫–ª—é—á–∞–µ—Ç `id`, `cwd`, `timestamp`, –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π `parentSession`)
- –î–∞–ª–µ–µ: –∑–∞–ø–∏—Å–∏ —Å–µ–∞–Ω—Å–∞ —Å `id` + `parentId` (–¥–µ—Ä–µ–≤–æ)

–ó–∞–º–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã –∑–∞–ø–∏—Å–µ–π:

- `message`: —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è/–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞/—Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
- `custom_message`: —Å–æ–æ–±—â–µ–Ω–∏—è, –≤–Ω–µ–¥—Ä—ë–Ω–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ _–≤—Ö–æ–¥—è—Ç_ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –º–æ–¥–µ–ª–∏ (–º–æ–≥—É—Ç –±—ã—Ç—å —Å–∫—Ä—ã—Ç—ã –∏–∑ UI)
- `custom`: —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä–æ–µ _–Ω–µ_ –≤—Ö–æ–¥–∏—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –º–æ–¥–µ–ª–∏
- `compaction`: —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–∞—è —Å–≤–æ–¥–∫–∞ —É–ø–ª–æ—Ç–Ω–µ–Ω–∏—è —Å `firstKeptEntryId` –∏ `tokensBefore`
- `branch_summary`: —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–∞—è —Å–≤–æ–¥–∫–∞ –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –≤–µ—Ç–≤–∏ –¥–µ—Ä–µ–≤–∞

OpenClaw –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ **–Ω–µ** ¬´–∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç¬ª —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç—ã; Gateway –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `SessionManager` –¥–ª—è —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏.

---

## –û–∫–Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ vs –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ —Ç–æ–∫–µ–Ω—ã

–ò–º–µ—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö –ø–æ–Ω—è—Ç–∏—è:

1. **–û–∫–Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –º–æ–¥–µ–ª–∏**: –∂—ë—Å—Ç–∫–∏–π –ø—Ä–µ–¥–µ–ª –¥–ª—è –º–æ–¥–µ–ª–∏ (—Ç–æ–∫–µ–Ω—ã, –≤–∏–¥–∏–º—ã–µ –º–æ–¥–µ–ª–∏)
2. **–°—á—ë—Ç—á–∏–∫–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ —Å–µ–∞–Ω—Å–æ–≤**: —Å–∫–æ–ª—å–∑—è—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –∑–∞–ø–∏—Å—ã–≤–∞–µ–º–∞—è –≤ `sessions.json` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è /status –∏ –¥–∞—à–±–æ—Ä–¥–æ–≤)

–ï—Å–ª–∏ –≤—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç–µ –ª–∏–º–∏—Ç—ã:

- –û–∫–Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –±–µ—Ä—ë—Ç—Å—è –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ –º–æ–¥–µ–ª–µ–π (–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥).
- `contextTokens` –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ ‚Äî —ç—Ç–æ –æ—Ü–µ–Ω–∫–∞/–∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è; –Ω–µ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–π—Ç–µ –µ–≥–æ –∫–∞–∫ —Å—Ç—Ä–æ–≥—É—é –≥–∞—Ä–∞–Ω—Ç–∏—é.

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. [/token-use](/reference/token-use).

---

## –£–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ: —á—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ

–£–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ —Å—É–º–º–∏—Ä—É–µ—Ç –±–æ–ª–µ–µ —Ä–∞–Ω–Ω–∏–π –¥–∏–∞–ª–æ–≥ –≤ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é –∑–∞–ø–∏—Å—å `compaction` –≤ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–µ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–µ–¥–∞–≤–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

–ü–æ—Å–ª–µ —É–ø–ª–æ—Ç–Ω–µ–Ω–∏—è –±—É–¥—É—â–∏–µ —Ö–æ–¥—ã –≤–∏–¥—è—Ç:

- –°–≤–æ–¥–∫–∞ –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç–∏
- –°–æ–æ–±—â–µ–Ω–∏—è –ø–æ—Å–ª–µ `firstKeptEntryId`

–£–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ **–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ** (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –ø—Ä–æ—Ä–µ–∂–∏–≤–∞–Ω–∏—è —Å–µ–∞–Ω—Å–æ–≤). –°–º. [/concepts/session-pruning](/concepts/session-pruning).

---

## –ö–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ—É–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ (—Ä–∞–Ω—Ç–∞–π–º Pi)

–í–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–º –∞–≥–µ–Ω—Ç–µ Pi –∞–≤—Ç–æ—É–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤ –¥–≤—É—Ö —Å–ª—É—á–∞—è—Ö:

1. **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è**: –º–æ–¥–µ–ª—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ ‚Üí —É–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ ‚Üí –ø–æ–≤—Ç–æ—Ä.
2. **–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ—Ä–æ–≥–∞**: –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ö–æ–¥–∞, –∫–æ–≥–¥–∞:

`contextTokens > contextWindow - reserveTokens`

–ì–¥–µ:

- `contextWindow` ‚Äî –æ–∫–Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –º–æ–¥–µ–ª–∏
- `reserveTokens` ‚Äî –∑–∞–ø–∞—Å, –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥ –ø—Ä–æ–º–ø—Ç—ã + —Å–ª–µ–¥—É—é—â–∏–π –≤—ã–≤–æ–¥ –º–æ–¥–µ–ª–∏

–≠—Ç–æ —Å–µ–º–∞–Ω—Ç–∏–∫–∞ —Ä–∞–Ω—Ç–∞–π–º–∞ Pi (OpenClaw –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏—è, –Ω–æ Pi —Ä–µ—à–∞–µ—Ç, –∫–æ–≥–¥–∞ —É–ø–ª–æ—Ç–Ω—è—Ç—å).

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–ø–ª–æ—Ç–Ω–µ–Ω–∏—è (`reserveTokens`, `keepRecentTokens`)

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–ø–ª–æ—Ç–Ω–µ–Ω–∏—è Pi –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Pi:

```json5
{
  compaction: {
    enabled: true,
    reserveTokens: 16384,
    keepRecentTokens: 20000,
  },
}
```

OpenClaw —Ç–∞–∫–∂–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∑–∞—â–∏—Ç–Ω—ã–π –º–∏–Ω–∏–º—É–º –¥–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤:

- –ï—Å–ª–∏ `compaction.reserveTokens < reserveTokensFloor`, OpenClaw —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ.
- –ú–∏–Ω–∏–º—É–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî `20000` —Ç–æ–∫–µ–Ω–æ–≤.
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `agents.defaults.compaction.reserveTokensFloor: 0`, —á—Ç–æ–±—ã –æ—Ç–∫–ª—é—á–∏—Ç—å –º–∏–Ω–∏–º—É–º.
- –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —É–∂–µ –≤—ã—à–µ, OpenClaw –æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–≥–æ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

–ó–∞—á–µ–º: –æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–∞–ø–∞—Å–∞ –¥–ª—è –º–Ω–æ–≥–æ—Ö–æ–¥–æ–≤–æ–π ¬´—Å–ª—É–∂–µ–±–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏¬ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø–∏—Å–∏ –ø–∞–º—è—Ç–∏) –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ —É–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ —Å—Ç–∞–Ω–µ—Ç –Ω–µ–∏–∑–±–µ–∂–Ω—ã–º.

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è: `ensurePiCompactionReserveTokens()` –≤ `src/agents/pi-settings.ts`
(–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ `src/agents/pi-embedded-runner.ts`).

---

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏

–ù–∞–±–ª—é–¥–∞—Ç—å —É–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ–∞–Ω—Å–∞ –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑:

- `/status` (–≤ –ª—é–±–æ–º —á–∞—Ç–µ)
- `openclaw status` (CLI)
- `openclaw sessions` / `sessions --json`
- –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–µ–∂–∏–º: `üßπ Auto-compaction complete` + —Å—á—ë—Ç—á–∏–∫ —É–ø–ª–æ—Ç–Ω–µ–Ω–∏–π

---

## –¢–∏—Ö–∞—è —Å–ª—É–∂–µ–±–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (`NO_REPLY`)

OpenClaw –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç ¬´—Ç–∏—Ö–∏–µ¬ª —Ö–æ–¥—ã –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –¥–æ–ª–∂–µ–Ω –≤–∏–¥–µ—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –≤—ã–≤–æ–¥.

–°–æ–≥–ª–∞—à–µ–Ω–∏–µ:

- –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç —Å–≤–æ–π –≤—ã–≤–æ–¥ —Å `NO_REPLY`, —á—Ç–æ–±—ã –æ–±–æ–∑–Ω–∞—á–∏—Ç—å ¬´–Ω–µ –¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é¬ª.
- OpenClaw —É–¥–∞–ª—è–µ—Ç/–ø–æ–¥–∞–≤–ª—è–µ—Ç —ç—Ç–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ –¥–æ—Å—Ç–∞–≤–∫–∏.

–ù–∞—á–∏–Ω–∞—è —Å `2026.1.10`, OpenClaw —Ç–∞–∫–∂–µ –ø–æ–¥–∞–≤–ª—è–µ—Ç **–ø–æ—Ç–æ–∫–æ–≤—É—é –ø–µ—Ä–µ–¥–∞—á—É —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤/–Ω–∞–±–æ—Ä–∞ —Ç–µ–∫—Å—Ç–∞**, –∫–æ–≥–¥–∞ —á–∞—Å—Ç–∏—á–Ω—ã–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `NO_REPLY`, —á—Ç–æ–±—ã —Ç–∏—Ö–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ ¬´—É—Ç–µ–∫–∞–ª–∏¬ª —á–∞—Å—Ç–∏—á–Ω—ã–º –≤—ã–≤–æ–¥–æ–º –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ —Ö–æ–¥–∞.

---

## –ü—Ä–µ–¥—É–ø–ª–æ—Ç–Ω–∏—Ç–µ–ª—å–Ω—ã–π ¬´—Å–±—Ä–æ—Å –ø–∞–º—è—Ç–∏¬ª (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

–¶–µ–ª—å: –¥–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –∞–≤—Ç–æ—É–ø–ª–æ—Ç–Ω–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–∏—Ö–∏–π –∞–≥–µ–Ω—Ç–Ω—ã–π —Ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø–∏—à–µ—Ç –¥–æ–ª–≥–æ–≤–µ—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –¥–∏—Å–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `memory/YYYY-MM-DD.md` –≤ —Ä–∞–±–æ—á–µ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –∞–≥–µ–Ω—Ç–∞), —á—Ç–æ–±—ã —É–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ –Ω–µ –º–æ–≥–ª–æ —Å—Ç–µ—Ä–µ—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç.

OpenClaw –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–¥—Ö–æ–¥ **—Å–±—Ä–æ—Å–∞ –¥–æ –ø–æ—Ä–æ–≥–∞**:

1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–µ–∞–Ω—Å–∞.
2. –ü—Ä–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–∏ ¬´–º—è–≥–∫–æ–≥–æ –ø–æ—Ä–æ–≥–∞¬ª (–Ω–∏–∂–µ –ø–æ—Ä–æ–≥–∞ —É–ø–ª–æ—Ç–Ω–µ–Ω–∏—è Pi) ‚Äî –∑–∞–ø—É—Å–∫ —Ç–∏—Ö–æ–π –¥–∏—Ä–µ–∫—Ç–∏–≤—ã –∞–≥–µ–Ω—Ç—É ¬´–∑–∞–ø–∏—Å–∞—Ç—å –ø–∞–º—è—Ç—å —Å–µ–π—á–∞—Å¬ª.
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `NO_REPLY`, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∏—á–µ–≥–æ –Ω–µ —É–≤–∏–¥–µ–ª.

–ö–æ–Ω—Ñ–∏–≥ (`agents.defaults.compaction.memoryFlush`):

- `enabled` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `true`)
- `softThresholdTokens` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `4000`)
- `prompt` (—Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Ö–æ–¥–∞ —Å–±—Ä–æ—Å–∞)
- `systemPrompt` (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç, –¥–æ–±–∞–≤–ª—è–µ–º—ã–π –¥–ª—è —Ö–æ–¥–∞ —Å–±—Ä–æ—Å–∞)

–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:

- –ü—Ä–æ–º–ø—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é/—Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫—É `NO_REPLY` –¥–ª—è –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏.
- –°–±—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∑–∞ —Ü–∏–∫–ª —É–ø–ª–æ—Ç–Ω–µ–Ω–∏—è (–æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è –≤ `sessions.json`).
- –°–±—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Å–µ–∞–Ω—Å–æ–≤ Pi (CLI-–±—ç–∫–µ–Ω–¥—ã –µ–≥–æ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç).
- –°–±—Ä–æ—Å –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —Ä–∞–±–æ—á–µ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —Å–µ–∞–Ω—Å–∞ –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è (`workspaceAccess: "ro"` –∏–ª–∏ `"none"`).
- –°–º. [Memory](/concepts/memory) –¥–ª—è —Å—Ö–µ–º—ã —Ñ–∞–π–ª–æ–≤ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏ —à–∞–±–ª–æ–Ω–æ–≤ –∑–∞–ø–∏—Å–∏.

Pi —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ö—É–∫ `session_before_compact` –≤ API —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π, –Ω–æ –ª–æ–≥–∏–∫–∞ —Å–±—Ä–æ—Å–∞ OpenClaw –Ω–∞ —Å–µ–≥–æ–¥–Ω—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ Gateway.

---

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ–ø–æ–ª–∞–¥–æ–∫

- –ù–µ–≤–µ—Ä–Ω—ã–π –∫–ª—é—á —Å–µ–∞–Ω—Å–∞? –ù–∞—á–Ω–∏—Ç–µ —Å [/concepts/session](/concepts/session) –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ `sessionKey` –≤ `/status`.
- –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–∞? –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ö–æ—Å—Ç —à–ª—é–∑–∞ Gateway –∏ –ø—É—Ç—å –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É –∏–∑ `openclaw status`.
- –°–ø–∞–º —É–ø–ª–æ—Ç–Ω–µ–Ω–∏–π? –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
  - –æ–∫–Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –º–æ–¥–µ–ª–∏ (—Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–æ–µ)
  - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–ø–ª–æ—Ç–Ω–µ–Ω–∏—è (`reserveTokens` —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–æ–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –æ–∫–Ω–∞ –º–æ–¥–µ–ª–∏ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –±–æ–ª–µ–µ —Ä–∞–Ω–Ω–µ–µ —É–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ)
  - —Ä–∞–∑–¥—É–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤: –≤–∫–ª—é—á–∏—Ç–µ/–Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ—Ä–µ–∂–∏–≤–∞–Ω–∏–µ —Å–µ–∞–Ω—Å–æ–≤
- ¬´–¢–∏—Ö–∏–µ¬ª —Ö–æ–¥—ã –ø—Ä–æ—Ç–µ–∫–∞—é—Ç? –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ—Ç–≤–µ—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `NO_REPLY` (—Ç–æ—á–Ω—ã–π —Ç–æ–∫–µ–Ω) –∏ —á—Ç–æ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Å–±–æ—Ä–∫—É, –≤–∫–ª—é—á–∞—é—â—É—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏.

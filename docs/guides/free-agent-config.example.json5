// OpenClaw Multi-Agent Configuration
// Copy to ~/.openclaw/openclaw.json
//
// 5 specialized agents powered by free models (Kimi K2.5)
// Commander orchestrates, agents propose work, research runs automatically
// Optimized for Mac - max 4 concurrent sub-agents, low memory footprint

{
  agents: {
    defaults: {
      model: "moonshot/kimi-k2.5",
      thinkingDefault: "low",
      timeout: 120,
      subagents: {
        model: "moonshot/kimi-k2.5",
        thinking: "low",
        maxConcurrent: 4, // Mac-friendly: max 4 parallel agents
        archiveAfterMinutes: 60, // Clean up idle agents
      },
    },

    list: [
      // === COMMANDER (Orchestrator) ===
      // Routes tasks, coordinates agents, relays proposals
      {
        id: "commander",
        name: "Commander",
        model: {
          primary: "moonshot/kimi-k2.5",
          fallbacks: ["qianfan/deepseek-v3.2", "xiaomi/mimo-v2-flash"],
        },
        identity: {
          name: "Commander",
          emoji: "üéõÔ∏è",
        },
        skills: [
          "agent-manager",
          "research-scout",
          "creative-mode",
          "blog-publisher",
          "site-deployer",
          "voice-clone",
          "coding-agent",
          "github",
          "canvas",
          "summarize",
          "weather",
        ],
        subagents: {
          allowAgents: ["*"], // Can delegate to any agent
        },
      },

      // === RESEARCHER ===
      // Scans X.com, HackerNews, GitHub, Reddit for AI news
      {
        id: "researcher",
        name: "Research Scout",
        model: "moonshot/kimi-k2.5",
        identity: {
          name: "Scout",
          emoji: "üîç",
        },
        skills: ["research-scout", "summarize", "blogwatcher"],
      },

      // === CREATOR ===
      // Blog posts, social media, creative content
      {
        id: "creator",
        name: "Content Creator",
        model: "moonshot/kimi-k2.5",
        identity: {
          name: "Creator",
          emoji: "üé®",
        },
        skills: ["creative-mode", "blog-publisher", "canvas", "summarize"],
      },

      // === DEPLOYER ===
      // Deploys sites, manages code, GitHub ops
      {
        id: "deployer",
        name: "Deployer",
        model: "moonshot/kimi-k2.5",
        identity: {
          name: "Deployer",
          emoji: "üöÄ",
        },
        skills: ["site-deployer", "coding-agent", "github"],
      },

      // === VOICE ===
      // Voice cloning, TTS, audio processing
      {
        id: "voice",
        name: "Voice Agent",
        model: "moonshot/kimi-k2.5",
        identity: {
          name: "Voice",
          emoji: "üéôÔ∏è",
        },
        skills: ["voice-clone", "sherpa-onnx-tts", "openai-whisper"],
      },
    ],

    // Route channels to the commander (routes everything through orchestrator)
    bindings: [
      { agentId: "commander", match: { channel: "telegram" } },
      { agentId: "commander", match: { channel: "whatsapp" } },
      { agentId: "commander", match: { channel: "discord" } },
      { agentId: "commander", match: { channel: "slack" } },
      { agentId: "commander", match: { channel: "webchat" } },
    ],
  },

  // Agent-to-agent communication
  tools: {
    agentToAgent: {
      enabled: true,
    },
  },

  // Cron: Automated research + content proposals
  cron: {
    enabled: true,
  },

  // Skill-specific configuration
  skills: {
    entries: {
      "voice-clone": {
        env: {
          ELEVENLABS_API_KEY: "${ELEVENLABS_API_KEY}",
        },
      },
      "blog-publisher": {
        env: {
          // GHOST_API_URL: "https://your-ghost-blog.com",
          // GHOST_ADMIN_API_KEY: "id:secret",
          // WP_API_URL: "https://your-wordpress-site.com",
          // WP_USER: "admin",
          // WP_APP_PASSWORD: "xxxx xxxx xxxx xxxx",
        },
      },
      "site-deployer": {
        env: {
          // VERCEL_TOKEN: "your-vercel-token",
          // NETLIFY_AUTH_TOKEN: "your-netlify-token",
          // CLOUDFLARE_API_TOKEN: "your-cf-token",
        },
      },
    },
  },

  // TTS (activate after voice cloning)
  messages: {
    tts: {
      auto: "inbound",
      provider: "elevenlabs",
      // voiceId: "<your-cloned-voice-id>",
      model: "eleven_multilingual_v2",
      voiceSettings: {
        stability: 0.5,
        similarityBoost: 0.75,
        style: 0.5,
        useSpeakerBoost: true,
      },
    },
  },
}

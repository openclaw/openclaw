---
summary: "macOS アプリが Gateway（ゲートウェイ）/Baileys のヘルス状態をどのように報告するか"
read_when:
  - mac アプリのヘルスインジケーターをデバッグする場合
title: "ヘルスチェック"
---

# macOS におけるヘルスチェック

メニューバーアプリから、リンクされたチャンネルが健全かどうかを確認する方法です。

## メニューバー

- ステータスドットが Baileys のヘルス状態を反映します。
  - 緑: リンク済み + ソケットが最近オープンされた状態です。
  - オレンジ: 接続中 / 再試行中です。
  - 赤: ログアウト済み、またはプローブに失敗しています。
- セカンダリ行には「linked · auth 12m」と表示されるか、失敗理由が表示されます。
- 「Run Health Check」メニュー項目は、オンデマンドのプローブを実行します。

## 設定

- 「一般」タブにヘルスカードが追加され、リンク状態、認証の経過時間、セッションストアのパス / 件数、最終チェック時刻、直近のエラー / ステータスコード、および「Run Health Check」/「Reveal Logs」ボタンが表示されます。
- キャッシュされたスナップショットを使用するため、UI は即座に読み込まれ、オフライン時も適切にフォールバックします。
- **チャンネル**タブでは、WhatsApp / Telegram のチャンネル状態とコントロール（ログイン QR、ログアウト、プローブ、直近の切断 / エラー）が表示されます。

## プローブの仕組み

- アプリは約 60 秒ごと、およびオンデマンドで、`openclaw health --json` を `ShellExecutor` 経由で実行します。プローブは認証情報を読み込み、メッセージを送信せずにステータスを報告します。 プローブは、メッセージを送信せずにクリードを読み込み、ステータスを報告します。
- ちらつきを防ぐため、直近の正常なスナップショットと直近のエラーを個別にキャッシュし、それぞれのタイムスタンプを表示します。

## 判断に迷った場合

- [Gateway health](/gateway/health) の CLI フロー（`openclaw status`、`openclaw status --deep`、`openclaw health --json`）を引き続き利用でき、`web-heartbeat` / `web-reconnect` のために `/tmp/openclaw/openclaw-*.log` を tail することも可能です。

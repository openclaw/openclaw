---（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
title: Pi 开发工作流程（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
x-i18n:（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  generated_at: "2026-02-03T10:07:59Z"（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  model: claude-opus-4-5（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  provider: pi（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  source_hash: 65bd0580dd03df05321ced35a036ce6fb815ce3ddac1d35c9976279adcbf87c0（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  source_path: pi-dev.md（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  workflow: 15（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
---（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
# Pi 开发工作流程（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
本指南总结了在 OpenClaw 中开发 Pi 集成的合理工作流程。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 类型检查和代码检查（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 类型检查和构建：`pnpm build`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 代码检查：`pnpm lint`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 格式检查：`pnpm format`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 推送前完整检查：`pnpm lint && pnpm build && pnpm test`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 运行 Pi 测试（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
使用专用脚本运行 Pi 集成测试集：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```bash（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
scripts/pi/run-tests.sh（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
要包含执行真实提供商行为的实时测试：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```bash（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
scripts/pi/run-tests.sh --live（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
该脚本通过以下 glob 模式运行所有 Pi 相关的单元测试：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `src/agents/pi-*.test.ts`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `src/agents/pi-embedded-*.test.ts`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `src/agents/pi-tools*.test.ts`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `src/agents/pi-settings.test.ts`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `src/agents/pi-tool-definition-adapter.test.ts`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `src/agents/pi-extensions/*.test.ts`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 手动测试（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
推荐流程：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 以开发模式运行 Gateway 网关：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  - `pnpm gateway:dev`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 直接触发智能体：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  - `pnpm openclaw agent --message "Hello" --thinking low`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 使用 TUI 进行交互式调试：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  - `pnpm tui`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
对于工具调用行为，提示执行 `read` 或 `exec` 操作，以便查看工具流式传输和负载处理。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 完全重置（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
状态存储在 OpenClaw 状态目录下。默认为 `~/.openclaw`。如果设置了 `OPENCLAW_STATE_DIR`，则使用该目录。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
要重置所有内容：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `openclaw.json` 用于配置（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `credentials/` 用于认证配置文件和 token（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `agents/<agentId>/sessions/` 用于智能体会话历史（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `agents/<agentId>/sessions.json` 用于会话索引（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `sessions/` 如果存在旧版路径（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `workspace/` 如果你想要一个空白工作区（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
如果只想重置会话，删除该智能体的 `agents/<agentId>/sessions/` 和 `agents/<agentId>/sessions.json`。如果不想重新认证，保留 `credentials/`。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 参考资料（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- https://docs.openclaw.ai/testing（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- https://docs.openclaw.ai/start/getting-started（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）

---（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
read_when:（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  - 你需要在工作流中添加纯 JSON 的 LLM 步骤（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  - 你需要经过 Schema 验证的 LLM 输出用于自动化（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
summary: 用于工作流的纯 JSON LLM 任务（可选插件工具）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
title: LLM 任务（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
x-i18n:（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  generated_at: "2026-02-01T21:42:34Z"（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  model: claude-opus-4-5（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  provider: pi（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  source_hash: d81b74fcfd5491a9edb4bfadb47d404067020990b1f6d6d8fed652fbc860f646（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  source_path: tools/llm-task.md（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  workflow: 15（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
---（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
# LLM 任务（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
`llm-task` 是一个**可选插件工具**，用于运行纯 JSON 的 LLM 任务并返回结构化输出（可选择根据 JSON Schema 进行验证）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
这非常适合像 Lobster 这样的工作流引擎：你可以添加单个 LLM 步骤，而无需为每个工作流编写自定义 OpenClaw 代码。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 启用插件（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
1. 启用插件：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```json（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
{（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  "plugins": {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    "entries": {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
      "llm-task": { "enabled": true }（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    }（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  }（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
}（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
2. 将工具加入允许列表（它以 `optional: true` 注册）：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```json（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
{（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  "agents": {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    "list": [（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
      {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
        "id": "main",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
        "tools": { "allow": ["llm-task"] }（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
      }（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    ]（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  }（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
}（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 配置（可选）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```json（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
{（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  "plugins": {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    "entries": {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
      "llm-task": {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
        "enabled": true,（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
        "config": {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
          "defaultProvider": "openai-codex",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
          "defaultModel": "gpt-5.2",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
          "defaultAuthProfileId": "main",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
          "allowedModels": ["openai-codex/gpt-5.2"],（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
          "maxTokens": 800,（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
          "timeoutMs": 30000（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
        }（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
      }（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    }（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  }（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
}（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
`allowedModels` 是 `provider/model` 字符串的允许列表。如果设置了该项，任何不在列表中的请求都会被拒绝。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 工具参数（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `prompt`（字符串，必填）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `input`（任意类型，可选）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `schema`（对象，可选 JSON Schema）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `provider`（字符串，可选）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `model`（字符串，可选）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `authProfileId`（字符串，可选）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `temperature`（数字，可选）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `maxTokens`（数字，可选）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `timeoutMs`（数字，可选）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 输出（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
返回 `details.json`，包含解析后的 JSON（如果提供了 `schema`，则会进行验证）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 示例：Lobster 工作流步骤（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```lobster（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
openclaw.invoke --tool llm-task --action json --args-json '{（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  "prompt": "Given the input email, return intent and draft.",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  "input": {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    "subject": "Hello",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    "body": "Can you help?"（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  "schema": {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    "type": "object",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    "properties": {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
      "intent": { "type": "string" },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
      "draft": { "type": "string" }（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    "required": ["intent", "draft"],（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    "additionalProperties": false（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  }（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
}'（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 安全注意事项（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 该工具为**纯 JSON 模式**，指示模型仅输出 JSON（无代码围栏、无注释说明）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 此次运行不会向模型暴露任何工具。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 除非使用 `schema` 进行验证，否则应将输出视为不可信。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 在任何有副作用的步骤（发送、发布、执行）之前设置审批流程。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）

---（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
read_when:（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  - 在 macOS/iOS/Android 上实现 Talk 模式（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  - 更改语音/TTS/中断行为（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
summary: Talk 模式：使用 ElevenLabs TTS 进行连续语音对话（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
title: Talk 模式（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
x-i18n:（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  generated_at: "2026-02-03T10:07:59Z"（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  model: claude-opus-4-5（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  provider: pi（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  source_hash: ecbc3701c9e9502970cf13227fedbc9714d13668d8f4f3988fef2a4d68116a42（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  source_path: nodes/talk.md（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  workflow: 15（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
---（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
# Talk 模式（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
Talk 模式是一个连续的语音对话循环：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
1. 监听语音（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
2. 将转录文本发送到模型（main 会话，chat.send）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
3. 等待响应（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
4. 通过 ElevenLabs 朗读（流式播放）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 行为（macOS）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- Talk 模式启用时显示**常驻悬浮窗**。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- **监听 → 思考 → 朗读**阶段转换。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- **短暂停顿**（静音窗口）后，当前转录文本被发送。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 回复被**写入 WebChat**（与打字相同）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- **语音中断**（默认开启）：如果用户在助手朗读时开始说话，我们会停止播放并记录中断时间戳供下一个提示使用。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 回复中的语音指令（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
助手可以在回复前添加**单行 JSON** 来控制语音：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```json（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
{ "voice": "<voice-id>", "once": true }（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
规则：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 仅适用于第一个非空行。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 未知键会被忽略。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `once: true` 仅适用于当前回复。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 没有 `once` 时，该语音成为 Talk 模式的新默认值。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- JSON 行在 TTS 播放前会被移除。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
支持的键：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `voice` / `voice_id` / `voiceId`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `model` / `model_id` / `modelId`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `speed`、`rate`（WPM）、`stability`、`similarity`、`style`、`speakerBoost`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `seed`、`normalize`、`lang`、`output_format`、`latency_tier`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `once`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 配置（`~/.openclaw/openclaw.json`）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```json5（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
{（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  talk: {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    voiceId: "elevenlabs_voice_id",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    modelId: "eleven_v3",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    outputFormat: "mp3_44100_128",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    apiKey: "elevenlabs_api_key",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    interruptOnSpeech: true,（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
}（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
默认值：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `interruptOnSpeech`：true（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `voiceId`：回退到 `ELEVENLABS_VOICE_ID` / `SAG_VOICE_ID`（或当 API 密钥可用时使用第一个 ElevenLabs 语音）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `modelId`：未设置时默认为 `eleven_v3`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `apiKey`：回退到 `ELEVENLABS_API_KEY`（或 Gateway 网关 shell profile（如果可用））（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `outputFormat`：macOS/iOS 上默认为 `pcm_44100`，Android 上默认为 `pcm_24000`（设置 `mp3_*` 以强制 MP3 流式传输）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## macOS UI（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 菜单栏切换：**Talk**（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 配置标签页：**Talk Mode** 组（voice id + 中断开关）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 悬浮窗：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  - **监听**：云朵随麦克风电平脉动（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  - **思考**：下沉动画（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  - **朗读**：辐射圆环（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  - 点击云朵：停止朗读（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  - 点击 X：退出 Talk 模式（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 注意事项（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 需要语音 + 麦克风权限。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 使用 `chat.send` 针对会话键 `main`。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- TTS 使用带有 `ELEVENLABS_API_KEY` 的 ElevenLabs 流式 API，并在 macOS/iOS/Android 上进行增量播放以降低延迟。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `eleven_v3` 的 `stability` 验证为 `0.0`、`0.5` 或 `1.0`；其他模型接受 `0..1`。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 设置时 `latency_tier` 验证为 `0..4`。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- Android 支持 `pcm_16000`、`pcm_22050`、`pcm_24000` 和 `pcm_44100` 输出格式，用于低延迟 AudioTrack 流式传输。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）

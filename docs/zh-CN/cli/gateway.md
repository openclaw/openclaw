---（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
read_when:（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  - 从 CLI 运行 Gateway 网关（开发或服务器）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  - 调试 Gateway 网关认证、绑定模式和连接性（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  - 通过 Bonjour 发现 Gateway 网关（局域网 + tailnet）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
summary: OpenClaw Gateway 网关 CLI（`openclaw gateway`）— 运行、查询和发现 Gateway 网关（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
title: gateway（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
x-i18n:（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  generated_at: "2026-02-03T07:45:15Z"（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  model: claude-opus-4-5（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  provider: pi（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  source_hash: 054dd48056e4784f153c6511c8eb35b56f239db8d4e629661841a00259e9abbf（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  source_path: cli/gateway.md（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  workflow: 15（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
---（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
# Gateway 网关 CLI（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
Gateway 网关是 OpenClaw 的 WebSocket 服务器（渠道、节点、会话、hooks）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
本页中的子命令位于 `openclaw gateway …` 下。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
相关文档：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- [/gateway/bonjour](/gateway/bonjour)（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- [/gateway/discovery](/gateway/discovery)（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- [/gateway/configuration](/gateway/configuration)（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 运行 Gateway 网关（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
运行本地 Gateway 网关进程：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```bash（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
openclaw gateway（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
前台运行别名：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```bash（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
openclaw gateway run（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
注意事项：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 默认情况下，除非在 `~/.openclaw/openclaw.json` 中设置了 `gateway.mode=local`，否则 Gateway 网关将拒绝启动。使用 `--allow-unconfigured` 进行临时/开发运行。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 在没有认证的情况下绑定到 loopback 之外的地址会被阻止（安全护栏）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `SIGUSR1` 在授权时触发进程内重启（启用 `commands.restart` 或使用 gateway 工具/config apply/update）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `SIGINT`/`SIGTERM` 处理程序会停止 Gateway 网关进程，但不会恢复任何自定义终端状态。如果你用 TUI 或 raw-mode 输入包装 CLI，请在退出前恢复终端。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
### 选项（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--port <port>`：WebSocket 端口（默认来自配置/环境变量；通常为 `18789`）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--bind <loopback|lan|tailnet|auto|custom>`：监听器绑定模式。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--auth <token|password>`：认证模式覆盖。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--token <token>`：令牌覆盖（同时为进程设置 `OPENCLAW_GATEWAY_TOKEN`）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--password <password>`：密码覆盖（同时为进程设置 `OPENCLAW_GATEWAY_PASSWORD`）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--tailscale <off|serve|funnel>`：通过 Tailscale 暴露 Gateway 网关。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--tailscale-reset-on-exit`：关闭时重置 Tailscale serve/funnel 配置。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--allow-unconfigured`：允许在配置中没有 `gateway.mode=local` 的情况下启动 Gateway 网关。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--dev`：如果缺失则创建开发配置 + 工作区（跳过 BOOTSTRAP.md）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--reset`：重置开发配置 + 凭证 + 会话 + 工作区（需要 `--dev`）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--force`：启动前杀死所选端口上的任何现有监听器。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--verbose`：详细日志。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--claude-cli-logs`：仅在控制台显示 claude-cli 日志（并启用其 stdout/stderr）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--ws-log <auto|full|compact>`：WebSocket 日志样式（默认 `auto`）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--compact`：`--ws-log compact` 的别名。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--raw-stream`：将原始模型流事件记录到 jsonl。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--raw-stream-path <path>`：原始流 jsonl 路径。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 查询运行中的 Gateway 网关（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
所有查询命令使用 WebSocket RPC。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
输出模式：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 默认：人类可读（TTY 中带颜色）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--json`：机器可读 JSON（无样式/进度指示器）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--no-color`（或 `NO_COLOR=1`）：禁用 ANSI 但保持人类可读布局。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
共享选项（在支持的地方）：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--url <url>`：Gateway 网关 WebSocket URL。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--token <token>`：Gateway 网关令牌。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--password <password>`：Gateway 网关密码。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--timeout <ms>`：超时/预算（因命令而异）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--expect-final`：等待"最终"响应（智能体调用）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
### `gateway health`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```bash（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
openclaw gateway health --url ws://127.0.0.1:18789（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
### `gateway status`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
`gateway status` 显示 Gateway 网关服务（launchd/systemd/schtasks）以及可选的 RPC 探测。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```bash（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
openclaw gateway status（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
openclaw gateway status --json（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
选项：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--url <url>`：覆盖探测 URL。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--token <token>`：探测的令牌认证。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--password <password>`：探测的密码认证。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--timeout <ms>`：探测超时（默认 `10000`）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--no-probe`：跳过 RPC 探测（仅服务视图）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--deep`：也扫描系统级服务。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
### `gateway probe`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
`gateway probe` 是"调试一切"命令。它始终探测：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 你配置的远程 Gateway 网关（如果设置了），以及（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- localhost（loopback）**即使配置了远程也会探测**。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
如果多个 Gateway 网关可达，它会打印所有。当你使用隔离的配置文件/端口（例如救援机器人）时支持多个 Gateway 网关，但大多数安装仍然运行单个 Gateway 网关。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```bash（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
openclaw gateway probe（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
openclaw gateway probe --json（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
#### 通过 SSH 远程（Mac 应用对等）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
macOS 应用的"通过 SSH 远程"模式使用本地端口转发，因此远程 Gateway 网关（可能仅绑定到 loopback）变得可以通过 `ws://127.0.0.1:<port>` 访问。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
CLI 等效命令：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```bash（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
openclaw gateway probe --ssh user@gateway-host（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
选项：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--ssh <target>`：`user@host` 或 `user@host:port`（端口默认为 `22`）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--ssh-identity <path>`：身份文件。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--ssh-auto`：选择第一个发现的 Gateway 网关主机作为 SSH 目标（仅限局域网/WAB）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
配置（可选，用作默认值）：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `gateway.remote.sshTarget`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `gateway.remote.sshIdentity`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
### `gateway call <method>`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
低级 RPC 辅助工具。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```bash（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
openclaw gateway call status（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
openclaw gateway call logs.tail --params '{"sinceMs": 60000}'（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 管理 Gateway 网关服务（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```bash（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
openclaw gateway install（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
openclaw gateway start（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
openclaw gateway stop（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
openclaw gateway restart（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
openclaw gateway uninstall（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
注意事项：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `gateway install` 支持 `--port`、`--runtime`、`--token`、`--force`、`--json`。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 生命周期命令接受 `--json` 用于脚本。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 发现 Gateway 网关（Bonjour）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
`gateway discover` 扫描 Gateway 网关信标（`_openclaw-gw._tcp`）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 组播 DNS-SD：`local.`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 单播 DNS-SD（广域 Bonjour）：选择一个域（示例：`openclaw.internal.`）并设置分割 DNS + DNS 服务器；参见 [/gateway/bonjour](/gateway/bonjour)（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
只有启用了 Bonjour 发现（默认）的 Gateway 网关才会广播信标。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
广域发现记录包括（TXT）：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `role`（Gateway 网关角色提示）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `transport`（传输提示，例如 `gateway`）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `gatewayPort`（WebSocket 端口，通常为 `18789`）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `sshPort`（SSH 端口；如果不存在则默认为 `22`）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `tailnetDns`（MagicDNS 主机名，如果可用）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `gatewayTls` / `gatewayTlsSha256`（TLS 启用 + 证书指纹）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `cliPath`（远程安装的可选提示）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
### `gateway discover`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```bash（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
openclaw gateway discover（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
选项：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--timeout <ms>`：每个命令的超时（浏览/解析）；默认 `2000`。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `--json`：机器可读输出（同时禁用样式/进度指示器）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
示例：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```bash（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
openclaw gateway discover --timeout 4000（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
openclaw gateway discover --json | jq '.beacons[].wsUrl'（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）

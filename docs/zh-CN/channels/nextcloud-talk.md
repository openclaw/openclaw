---（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
read_when:（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  - 开发 Nextcloud Talk 渠道功能时（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
summary: Nextcloud Talk 支持状态、功能和配置（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
title: Nextcloud Talk（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
x-i18n:（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  generated_at: "2026-02-03T10:04:00Z"（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  model: claude-opus-4-5（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  provider: pi（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  source_hash: 21b7b9756c4356a76dc0f14c10e44ed74a284cf3badf87e2df75eb88d8a90c31（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  source_path: channels/nextcloud-talk.md（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  workflow: 15（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
---（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
# Nextcloud Talk（插件）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
状态：通过插件支持（webhook 机器人）。支持私信、房间、表情回应和 Markdown 消息。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 需要插件（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
Nextcloud Talk 以插件形式提供，不包含在核心安装包中。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
通过 CLI 安装（npm 仓库）：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```bash（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
openclaw plugins install @openclaw/nextcloud-talk（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
本地检出安装（从 git 仓库运行时）：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```bash（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
openclaw plugins install ./extensions/nextcloud-talk（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
如果你在配置/新手引导过程中选择了 Nextcloud Talk，并且检测到 git 检出，（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
OpenClaw 将自动提供本地安装路径。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
详情：[插件](/tools/plugin)（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 快速设置（新手）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
1. 安装 Nextcloud Talk 插件。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
2. 在你的 Nextcloud 服务器上创建机器人：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
   ```bash（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
   ./occ talk:bot:install "OpenClaw" "<shared-secret>" "<webhook-url>" --feature reaction（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
   ```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
3. 在目标房间设置中启用机器人。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
4. 配置 OpenClaw：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
   - 配置项：`channels.nextcloud-talk.baseUrl` + `channels.nextcloud-talk.botSecret`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
   - 或环境变量：`NEXTCLOUD_TALK_BOT_SECRET`（仅默认账户）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
5. 重启 Gateway 网关（或完成新手引导）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
最小配置：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```json5（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
{（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  channels: {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    "nextcloud-talk": {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
      enabled: true,（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
      baseUrl: "https://cloud.example.com",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
      botSecret: "shared-secret",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
      dmPolicy: "pairing",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
}（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 注意事项（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 机器人无法主动发起私信。用户必须先向机器人发送消息。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- Webhook URL 必须可被 Gateway 网关访问；如果在代理后面，请设置 `webhookPublicUrl`。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 机器人 API 不支持媒体上传；媒体以 URL 形式发送。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- Webhook 载荷无法区分私信和房间；设置 `apiUser` + `apiPassword` 以启用房间类型查询（否则私信将被视为房间）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 访问控制（私信）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 默认：`channels.nextcloud-talk.dmPolicy = "pairing"`。未知发送者将收到配对码。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 批准方式：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  - `openclaw pairing list nextcloud-talk`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  - `openclaw pairing approve nextcloud-talk <CODE>`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 公开私信：`channels.nextcloud-talk.dmPolicy="open"` 加上 `channels.nextcloud-talk.allowFrom=["*"]`。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 房间（群组）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 默认：`channels.nextcloud-talk.groupPolicy = "allowlist"`（需要提及触发）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 使用 `channels.nextcloud-talk.rooms` 设置房间白名单：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```json5（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
{（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  channels: {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    "nextcloud-talk": {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
      rooms: {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
        "room-token": { requireMention: true },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
      },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
}（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 如需禁止所有房间，保持白名单为空或设置 `channels.nextcloud-talk.groupPolicy="disabled"`。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 功能支持（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
| 功能     | 状态   |（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
| -------- | ------ |（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
| 私信     | 支持   |（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
| 房间     | 支持   |（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
| 话题     | 不支持 |（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
| 媒体     | 仅 URL |（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
| 表情回应 | 支持   |（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
| 原生命令 | 不支持 |（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 配置参考（Nextcloud Talk）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
完整配置：[配置](/gateway/configuration)（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
提供商选项：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.enabled`：启用/禁用渠道启动。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.baseUrl`：Nextcloud 实例 URL。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.botSecret`：机器人共享密钥。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.botSecretFile`：密钥文件路径。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.apiUser`：用于房间查询的 API 用户（私信检测）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.apiPassword`：用于房间查询的 API/应用密码。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.apiPasswordFile`：API 密码文件路径。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.webhookPort`：webhook 监听端口（默认：8788）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.webhookHost`：webhook 主机（默认：0.0.0.0）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.webhookPath`：webhook 路径（默认：/nextcloud-talk-webhook）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.webhookPublicUrl`：外部可达的 webhook URL。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.dmPolicy`：`pairing | allowlist | open | disabled`。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.allowFrom`：私信白名单（用户 ID）。`open` 需要 `"*"`。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.groupPolicy`：`allowlist | open | disabled`。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.groupAllowFrom`：群组白名单（用户 ID）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.rooms`：每个房间的设置和白名单。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.historyLimit`：群组历史记录限制（0 表示禁用）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.dmHistoryLimit`：私信历史记录限制（0 表示禁用）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.dms`：每个私信的覆盖设置（historyLimit）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.textChunkLimit`：出站文本分块大小（字符数）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.chunkMode`：`length`（默认）或 `newline`，在长度分块前按空行（段落边界）分割。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.blockStreaming`：禁用此渠道的分块流式传输。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.blockStreamingCoalesce`：分块流式传输合并调优。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `channels.nextcloud-talk.mediaMaxMb`：入站媒体大小上限（MB）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）

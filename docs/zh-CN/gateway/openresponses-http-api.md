---（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
read_when:（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  - 集成使用 OpenResponses API 的客户端（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  - 你需要基于 item 的输入、客户端工具调用或 SSE 事件（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
summary: 从 Gateway 网关暴露兼容 OpenResponses 的 /v1/responses HTTP 端点（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
title: OpenResponses API（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
x-i18n:（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  generated_at: "2026-02-03T07:48:43Z"（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  model: claude-opus-4-5（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  provider: pi（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  source_hash: 0597714837f8b210c38eeef53561894220c1473e54c56a5c69984847685d518c（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  source_path: gateway/openresponses-http-api.md（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  workflow: 15（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
---（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
# OpenResponses API（HTTP）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
OpenClaw 的 Gateway 网关可以提供兼容 OpenResponses 的 `POST /v1/responses` 端点。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
此端点**默认禁用**。请先在配置中启用。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `POST /v1/responses`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 与 Gateway 网关相同的端口（WS + HTTP 多路复用）：`http://<gateway-host>:<port>/v1/responses`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
底层实现中，请求作为正常的 Gateway 网关智能体运行执行（与 `openclaw agent` 相同的代码路径），因此路由/权限/配置与你的 Gateway 网关一致。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 认证（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
使用 Gateway 网关认证配置。发送 bearer 令牌：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `Authorization: Bearer <token>`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
说明：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 当 `gateway.auth.mode="token"` 时，使用 `gateway.auth.token`（或 `OPENCLAW_GATEWAY_TOKEN`）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 当 `gateway.auth.mode="password"` 时，使用 `gateway.auth.password`（或 `OPENCLAW_GATEWAY_PASSWORD`）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 选择智能体（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
无需自定义头：在 OpenResponses `model` 字段中编码智能体 id：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `model: "openclaw:<agentId>"`（示例：`"openclaw:main"`、`"openclaw:beta"`）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `model: "agent:<agentId>"`（别名）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
或通过头指定特定的 OpenClaw 智能体：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `x-openclaw-agent-id: <agentId>`（默认：`main`）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
高级：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `x-openclaw-session-key: <sessionKey>` 完全控制会话路由。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 启用端点（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
将 `gateway.http.endpoints.responses.enabled` 设置为 `true`：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```json5（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
{（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  gateway: {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    http: {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
      endpoints: {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
        responses: { enabled: true },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
      },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
}（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 禁用端点（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
将 `gateway.http.endpoints.responses.enabled` 设置为 `false`：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```json5（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
{（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  gateway: {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    http: {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
      endpoints: {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
        responses: { enabled: false },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
      },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
}（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 会话行为（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
默认情况下，端点**每个请求都是无状态的**（每次调用生成新的会话键）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
如果请求包含 OpenResponses `user` 字符串，Gateway 网关会从中派生稳定的会话键，这样重复调用可以共享智能体会话。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 请求结构（支持的）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
请求遵循 OpenResponses API，使用基于 item 的输入。当前支持：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `input`：字符串或 item 对象数组。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `instructions`：合并到系统提示中。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `tools`：客户端工具定义（函数工具）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `tool_choice`：过滤或要求客户端工具。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `stream`：启用 SSE 流式传输。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `max_output_tokens`：尽力而为的输出限制（取决于提供商）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `user`：稳定的会话路由。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
接受但**当前忽略**：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `max_tool_calls`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `reasoning`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `metadata`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `store`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `previous_response_id`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `truncation`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## Item（输入）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
### `message`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
角色：`system`、`developer`、`user`、`assistant`。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `system` 和 `developer` 追加到系统提示。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 最近的 `user` 或 `function_call_output` item 成为"当前消息"。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 较早的 user/assistant 消息作为上下文历史包含。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
### `function_call_output`（基于回合的工具）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
将工具结果发送回模型：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```json（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
{（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  "type": "function_call_output",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  "call_id": "call_123",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  "output": "{\"temperature\": \"72F\"}"（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
}（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
### `reasoning` 和 `item_reference`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
为了 schema 兼容性而接受，但在构建提示时忽略。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 工具（客户端函数工具）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
使用 `tools: [{ type: "function", function: { name, description?, parameters? } }]` 提供工具。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
如果智能体决定调用工具，响应返回一个 `function_call` 输出 item。然后你发送带有 `function_call_output` 的后续请求以继续回合。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 图像（`input_image`）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
支持 base64 或 URL 来源：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```json（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
{（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  "type": "input_image",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  "source": { "type": "url", "url": "https://example.com/image.png" }（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
}（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
允许的 MIME 类型（当前）：`image/jpeg`、`image/png`、`image/gif`、`image/webp`。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
最大大小（当前）：10MB。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 文件（`input_file`）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
支持 base64 或 URL 来源：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```json（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
{（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  "type": "input_file",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  "source": {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    "type": "base64",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    "media_type": "text/plain",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    "data": "SGVsbG8gV29ybGQh",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    "filename": "hello.txt"（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  }（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
}（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
允许的 MIME 类型（当前）：`text/plain`、`text/markdown`、`text/html`、`text/csv`、`application/json`、`application/pdf`。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
最大大小（当前）：5MB。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
当前行为：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 文件内容被解码并添加到**系统提示**，而不是用户消息，所以它保持临时性（不持久化在会话历史中）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- PDF 被解析提取文本。如果发现的文本很少，前几页会被栅格化为图像并传递给模型。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
PDF 解析使用 Node 友好的 `pdfjs-dist` legacy 构建（无 worker）。现代 PDF.js 构建期望浏览器 worker/DOM 全局变量，因此不在 Gateway 网关中使用。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
URL 获取默认值：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `files.allowUrl`：`true`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `images.allowUrl`：`true`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 请求受到保护（DNS 解析、私有 IP 阻止、重定向限制、超时）。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 文件 + 图像限制（配置）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
默认值可在 `gateway.http.endpoints.responses` 下调整：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```json5（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
{（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  gateway: {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    http: {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
      endpoints: {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
        responses: {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
          enabled: true,（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
          maxBodyBytes: 20000000,（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
          files: {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
            allowUrl: true,（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
            allowedMimes: [（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
              "text/plain",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
              "text/markdown",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
              "text/html",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
              "text/csv",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
              "application/json",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
              "application/pdf",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
            ],（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
            maxBytes: 5242880,（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
            maxChars: 200000,（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
            maxRedirects: 3,（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
            timeoutMs: 10000,（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
            pdf: {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
              maxPages: 4,（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
              maxPixels: 4000000,（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
              minTextChars: 200,（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
            },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
          },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
          images: {（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
            allowUrl: true,（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
            allowedMimes: ["image/jpeg", "image/png", "image/gif", "image/webp"],（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
            maxBytes: 10485760,（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
            maxRedirects: 3,（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
            timeoutMs: 10000,（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
          },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
        },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
      },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  },（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
}（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
省略时的默认值：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `maxBodyBytes`：20MB（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `files.maxBytes`：5MB（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `files.maxChars`：200k（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `files.maxRedirects`：3（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `files.timeoutMs`：10s（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `files.pdf.maxPages`：4（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `files.pdf.maxPixels`：4,000,000（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `files.pdf.minTextChars`：200（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `images.maxBytes`：10MB（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `images.maxRedirects`：3（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `images.timeoutMs`：10s（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 流式传输（SSE）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
设置 `stream: true` 接收 Server-Sent Events（SSE）：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `Content-Type: text/event-stream`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 每个事件行是 `event: <type>` 和 `data: <json>`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- 流以 `data: [DONE]` 结束（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
当前发出的事件类型：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `response.created`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `response.in_progress`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `response.output_item.added`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `response.content_part.added`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `response.output_text.delta`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `response.output_text.done`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `response.content_part.done`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `response.output_item.done`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `response.completed`（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `response.failed`（出错时）（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 用量（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
当底层提供商报告令牌计数时，`usage` 会被填充。（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 错误（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
错误使用如下 JSON 对象：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```json（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
{ "error": { "message": "...", "type": "invalid_request_error" } }（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
常见情况：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `401` 缺少/无效认证（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `400` 无效请求体（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
- `405` 错误的方法（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
## 示例（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
非流式：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```bash（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
curl -sS http://127.0.0.1:18789/v1/responses \（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  -H 'Authorization: Bearer YOUR_TOKEN' \（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  -H 'Content-Type: application/json' \（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  -H 'x-openclaw-agent-id: main' \（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  -d '{（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    "model": "openclaw",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    "input": "hi"（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  }'（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
流式：（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```bash（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
curl -N http://127.0.0.1:18789/v1/responses \（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  -H 'Authorization: Bearer YOUR_TOKEN' \（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  -H 'Content-Type: application/json' \（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  -H 'x-openclaw-agent-id: main' \（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  -d '{（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    "model": "openclaw",（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    "stream": true,（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
    "input": "hi"（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
  }'（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）
```（轉為繁體中文）（轉為繁體中文）（轉為繁體中文）

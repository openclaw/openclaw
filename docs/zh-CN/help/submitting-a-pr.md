---
summary: "如何提交高质量的 PR"
title: "提交 PR"
x-i18n:
  source_path: help/submitting-a-pr.md
  translated_by: "0xRaini"
  translated_at: "2026-02-09"
---

好的 PR 易于审查：审查者应该能快速了解意图、验证行为并安全地合并更改。本指南涵盖简洁、高信号的提交方式，适用于人类和 LLM 审查。

## 什么是好的 PR

- [ ] 解释问题、重要性和更改内容
- [ ] 保持更改聚焦，避免大范围重构
- [ ] 总结用户可见/配置/默认值的更改
- [ ] 列出测试覆盖、跳过的测试及原因
- [ ] 添加证据：日志、截图或录屏（UI/UX）
- [ ] 暗号：如果你阅读了本指南，请在 PR 描述中加入 "lobster-biscuit"
- [ ] 创建 PR 前运行/修复相关 `pnpm` 命令
- [ ] 搜索代码库和 GitHub 查找相关功能/问题/修复
- [ ] 基于证据或观察做出声明
- [ ] 好的标题：动词 + 范围 + 结果（例如 `Docs: add PR and issue templates`）

简洁即可；简洁的审查 > 完美的语法。省略不适用的部分。

### 基线验证命令（针对你的更改运行/修复失败）

- `pnpm lint`
- `pnpm check`
- `pnpm build`
- `pnpm test`
- 协议更改：`pnpm protocol:check`

## 渐进式披露

- 顶部：摘要/意图
- 其次：更改/风险
- 再次：测试/验证
- 最后：实现/证据

## 常见 PR 类型：具体要求

- [ ] 修复：添加复现步骤、根因、验证
- [ ] 功能：添加用例、行为/演示/截图（UI）
- [ ] 重构：声明"无行为更改"，列出移动/简化的内容
- [ ] 维护：说明原因（如构建时间、CI、依赖）
- [ ] 文档：前后对比、链接更新的页面、运行 `pnpm format`
- [ ] 测试：覆盖了什么缺口；如何防止回归
- [ ] 性能：添加前后指标及测量方法
- [ ] UX/UI：截图/视频，注明无障碍影响
- [ ] 基础设施/构建：环境/验证
- [ ] 安全：总结风险、复现、验证，不含敏感数据。仅基于事实的声明

## 检查清单

- [ ] 清晰的问题/意图
- [ ] 聚焦的范围
- [ ] 列出行为更改
- [ ] 列出测试及结果
- [ ] 手动测试步骤（如适用）
- [ ] 无密钥/私人数据
- [ ] 基于证据

## 通用 PR 模板

```md
#### 摘要

#### 行为更改

#### 代码库和 GitHub 搜索

#### 测试

#### 手动测试（如不适用则省略）

### 前置条件

-

### 步骤

1.
2.

#### 证据（如不适用则省略）

**签名**

- 使用的模型：
- 提交者工作量（自报）：
- Agent 备注（可选，引用证据）：
```

## PR 类型模板（替换为你的类型）

### 修复

```md
#### 摘要

#### 复现步骤

#### 根因

#### 行为更改

#### 测试

#### 手动测试（如不适用则省略）

### 前置条件

-

### 步骤

1.
2.

#### 证据（如不适用则省略）

**签名**

- 使用的模型：
- 提交者工作量：
- Agent 备注：
```

### 功能

```md
#### 摘要

#### 用例

#### 行为更改

#### 现有功能检查

- [ ] 我搜索了代码库中的现有功能。
      执行的搜索（1-3 条）：
  -
  -

#### 测试

#### 手动测试（如不适用则省略）

### 前置条件

-

### 步骤

1.
2.

#### 证据（如不适用则省略）

**签名**

- 使用的模型：
- 提交者工作量：
- Agent 备注：
```

### 重构

```md
#### 摘要

#### 范围

#### 无行为更改声明

#### 测试

#### 手动测试（如不适用则省略）

### 前置条件

-

### 步骤

1.
2.

#### 证据（如不适用则省略）

**签名**

- 使用的模型：
- 提交者工作量：
- Agent 备注：
```

### 维护/杂项

```md
#### 摘要

#### 重要性说明

#### 测试

#### 手动测试（如不适用则省略）

### 前置条件

-

### 步骤

1.
2.

#### 证据（如不适用则省略）

**签名**

- 使用的模型：
- 提交者工作量：
- Agent 备注：
```

### 文档

```md
#### 摘要

#### 更新的页面

#### 前后对比

#### 格式化

pnpm format

#### 证据（如不适用则省略）

**签名**

- 使用的模型：
- 提交者工作量：
- Agent 备注：
```

### 测试

```md
#### 摘要

#### 覆盖的缺口

#### 测试

#### 手动测试（如不适用则省略）

### 前置条件

-

### 步骤

1.
2.

#### 证据（如不适用则省略）

**签名**

- 使用的模型：
- 提交者工作量：
- Agent 备注：
```

### 性能

```md
#### 摘要

#### 基线

#### 优化后

#### 测量方法

#### 测试

#### 手动测试（如不适用则省略）

### 前置条件

-

### 步骤

1.
2.

#### 证据（如不适用则省略）

**签名**

- 使用的模型：
- 提交者工作量：
- Agent 备注：
```

### UX/UI

```md
#### 摘要

#### 截图或视频

#### 无障碍影响

#### 测试

#### 手动测试

### 前置条件

-

### 步骤

1.
2. **签名**

- 使用的模型：
- 提交者工作量：
- Agent 备注：
```

### 基础设施/构建

```md
#### 摘要

#### 影响的环境

#### 验证步骤

#### 手动测试（如不适用则省略）

### 前置条件

-

### 步骤

1.
2.

#### 证据（如不适用则省略）

**签名**

- 使用的模型：
- 提交者工作量：
- Agent 备注：
```

### 安全

```md
#### 摘要

#### 风险摘要

#### 复现步骤

#### 缓解或修复

#### 验证

#### 测试

#### 手动测试（如不适用则省略）

### 前置条件

-

### 步骤

1.
2.

#### 证据（如不适用则省略）

**签名**

- 使用的模型：
- 提交者工作量：
- Agent 备注：
```

---
summary: "การจัดการเขตเวลาสำหรับเอเจนต์ ซองข้อความ และพรอมป์ต์"
read_when:
  - คุณต้องการทำความเข้าใจว่าการประทับเวลาถูกทำให้เป็นมาตรฐานสำหรับโมเดลอย่างไร
  - การกำหนดค่าเขตเวลาของผู้ใช้สำหรับพรอมป์ต์ระบบ
title: "เขตเวลา"
---

# เขตเวลา

OpenClaw ทำให้การประทับเวลาเป็นมาตรฐานเพื่อให้โมเดลเห็น **เวลาอ้างอิงเดียวกัน**.

## ซองข้อความ (ค่าเริ่มต้นเป็นเวลาท้องถิ่น)

ข้อความขาเข้าจะถูกห่อด้วยซองลักษณะดังนี้:

```
[Provider ... 2026-01-05 16:26 PST] message text
```

เวลาประทับในซองเป็น **เวลาท้องถิ่นของโฮสต์ตามค่าเริ่มต้น** โดยมีความละเอียดระดับนาที

คุณสามารถแทนที่ได้ด้วย:

```json5
{
  agents: {
    defaults: {
      envelopeTimezone: "local", // "utc" | "local" | "user" | IANA timezone
      envelopeTimestamp: "on", // "on" | "off"
      envelopeElapsed: "on", // "on" | "off"
    },
  },
}
```

- `envelopeTimezone: "utc"` ใช้ UTC
- `envelopeTimezone: "user"` ใช้ `agents.defaults.userTimezone` (ย้อนกลับไปใช้เขตเวลาของโฮสต์)
- ใช้เขตเวลา IANA แบบระบุชัดเจน (เช่น `"Europe/Vienna"`) สำหรับออฟเซ็ตคงที่
- `envelopeTimestamp: "off"` ลบเวลาสัมบูรณ์ออกจากส่วนหัวของซอง
- `envelopeElapsed: "off"` ลบส่วนต่อท้ายเวลาแบบผ่านไปแล้ว (รูปแบบ `+2m`)

### ตัวอย่าง

**เวลาท้องถิ่น (ค่าเริ่มต้น):**

```
[Signal Alice +1555 2026-01-18 00:19 PST] hello
```

**เขตเวลาคงที่:**

```
[Signal Alice +1555 2026-01-18 06:19 GMT+1] hello
```

**เวลาแบบผ่านไปแล้ว:**

```
[Signal Alice +1555 +2m 2026-01-18T05:19Z] follow-up
```

## เพย์โหลดของเครื่องมือ (ข้อมูลดิบจากผู้ให้บริการ + ฟิลด์ที่ทำให้เป็นมาตรฐาน)

การเรียกใช้เครื่องมือ (`channels.discord.readMessages`, `channels.slack.readMessages` เป็นต้น) จะส่งกลับ **เวลาประทับดิบจากผู้ให้บริการ**. ตั้งค่า `agents.defaults.userTimezone` เพื่อบอกโมเดลถึงเขตเวลาท้องถิ่นของผู้ใช้
เรายังแนบฟิลด์ที่ทำให้เป็นมาตรฐานเพื่อความสอดคล้อง:

- `timestampMs` (มิลลิวินาทีของ epoch แบบ UTC)
- `timestampUtc` (สตริง ISO 8601 แบบ UTC)

ฟิลด์ดิบจากผู้ให้บริการจะถูกเก็บรักษาไว้

## เขตเวลาของผู้ใช้สำหรับพรอมป์ต์ระบบ

TypeBox เป็นไลบรารีสคีมาที่ยึด TypeScript เป็นหลัก ตั้งค่า `agents.defaults.userTimezone` เพื่อบอกโมเดลถึงเขตเวลาท้องถิ่นของผู้ใช้ หากไม่ได้ตั้งค่า
OpenClaw จะกำหนด **เขตเวลาของโฮสต์ในขณะรันไทม์** (ไม่มีการเขียนคอนฟิก)

```json5
{
  agents: { defaults: { userTimezone: "America/Chicago" } },
}
```

พรอมป์ต์ระบบจะประกอบด้วย:

- ส่วน `Current Date & Time` ที่มีเวลาท้องถิ่นและเขตเวลา
- `Time format: 12-hour` หรือ `24-hour`

คุณสามารถควบคุมรูปแบบของพรอมป์ต์ได้ด้วย `agents.defaults.timeFormat` (`auto` | `12` | `24`).

ดู [Date & Time](/date-time) สำหรับพฤติกรรมทั้งหมดและตัวอย่าง
